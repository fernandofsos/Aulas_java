<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:mj="http://mojarra.dev.java.net/mojarra_ext"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<head>
	<title>
		<h:outputText value="#{bundle.tituloAplicacao}" /> 
	</title>
	<script src="SCRIPTS/custom.js"></script>
	<link rel="stylesheet" type="text/css" href="CSS/login.css" />
	<script type="text/javascript">
	<!--
	function focus(){
		var e = document.getElementById("formulario:senha");
		e.focus();
	}
	function enter(e) {
	    var keycode;
	    if (window.event) { 
	       keycode = window.event.keyCode;
 	    } else { 
 	       keycode = e.which; 	       
        }
	    if (keycode == 13) {
	       this.submit();
	    }
	}
	//-->
	</script>
</head>

<body onload="focus();">
	<a4j:keepAlive beanName="usuarioForm" />
	<a4j:keepAlive beanName="alteracaoRecuperacaoSenhaForm" />
	<h:form id="formLogin">
		
		
		<a4j:support id="suportLogin2" event="onload" focus="login" ajaxSingle="true" />
		<a4j:outputPanel style="width:100%;height:100%;" ajaxRendered="true">
		    <rich:messages layout="table" globalOnly="true" errorClass="msgError" infoClass="msgError" warnClass="msgWarn" id="messages"/>
		</a4j:outputPanel>
		<div align="center"><h:graphicImage value="images/paciente/logo_login_upa_pf.png" ></h:graphicImage></div>
		<div id="caixa">
			<div id="inputs_alterar_senha">
				<table cellpadding="3">
				<tr>
					<td><label for="formLogin:login">LOGIN:</label></td>
					<td><h:inputText id="login" styleClass="login" value="#{alteracaoRecuperacaoSenhaForm.usuarioBean.dscLogin}" onblur="upper(this);" onkeypress="upper(this)" maxlength="30" /></td>
				</tr>
				<tr>
					<td><label for="formLogin:senha">SENHA:</label></td>
					<td><h:inputSecret id="senha" styleClass="login" value="#{alteracaoRecuperacaoSenhaForm.senha}" onblur="upper(this);" onkeypress="upper(this)" maxlength="60"/></td>
				</tr>
				<tr>
					<td><label for="formLogin:senha_nova">NOVA SENHA:</label></td>
					<td><h:inputSecret id="senha_nova" styleClass="login" value="#{alteracaoRecuperacaoSenhaForm.novaSenha}" onblur="upper(this);" onkeypress="upper(this)" maxlength="60"/></td>
				</tr>
				<tr>
					<td><label for="formLogin:repetir_senha_nova">REPETIR NOVA SENHA:</label></td>
					<td><h:inputSecret id="repetir_senha_nova" styleClass="login" value="#{alteracaoRecuperacaoSenhaForm.repetirNovaSenha}" onblur="upper(this);" onkeypress="upper(this)" maxlength="60"/></td>
				</tr>
				<tr>
					<td colspan="2">
						<h:commandLink id ="bntVoltar" action="#{alteracaoRecuperacaoSenhaForm.logout}" >
							<h:outputText value="Voltar" style="color:darkblue; font-size:14px;"/>
						</h:commandLink>
						<rich:spacer width="10" />
						<h:commandButton value="Alterar Senha" styleClass="botaoLogin" actionListener="#{alteracaoRecuperacaoSenhaForm.alterarSenha}" />
					</td>
				</tr>
				</table>
			</div>
		</div>
		<div id="rodape">
			
		</div>
		
	</h:form>		
</body>	
</html>