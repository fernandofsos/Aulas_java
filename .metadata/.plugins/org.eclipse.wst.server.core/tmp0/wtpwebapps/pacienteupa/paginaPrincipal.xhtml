<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
					  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:rich="http://richfaces.org/rich">
<head>	
	<script src="SCRIPTS/mascara.js" type="text/javascript"></script>
</head>	
<ui:composition template="template.xhtml">
<ui:define name="conteudo">    

<a4j:keepAlive beanName="paginaPrincipalForm" />

	<rich:modalPanel id="panelStatus" autosized="true">  
 		<h:panelGrid columns="2"> 
 			<h:graphicImage url="IMG/ajax-loader.gif" style="border:0px"/> 
 			<h:outputText value="Carregando..." />
 		</h:panelGrid> 
	</rich:modalPanel>

	 <rich:modalPanel id="panPacienteTransito" autosized="false" width="1000" height="400" resizeable="true" headerClass="headerPanel3" >
		
    	<f:facet name="header">
			<h:panelGroup>
       			<h:outputText value="PACIENTES EM TRÂNSITO"></h:outputText>
       		</h:panelGroup>
    	</f:facet>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanelTransito"/>
        		<rich:componentControl for="panPacienteTransito" attachTo="fechaPanelTransito" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
    	<div style="height:360px; overflow:auto">
    		<rich:dataTable	id="tblPacienteTransito2"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
					    		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{paginaPrincipalForm.lstPacientesTransito}" 
								var="pacTransito" 
								style="width:100%;" >
						
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column colspan="7">
	                            <h:outputText value="Pacientes em Trânsito" />
	                        </rich:column>					
							<rich:column breakBefore="true"><h:outputText value="Prontuário" /></rich:column>
							<rich:column><h:outputText value="Paciente" /></rich:column>
							<rich:column><h:outputText value="Clínica - Enfermaria.Leito" /></rich:column>						
							<rich:column><h:outputText value="Hospital" /></rich:column>
							<rich:column><h:outputText value="Motivo" /></rich:column>
							<rich:column><h:outputText value="Dt Saída" /></rich:column>
							<rich:column><h:outputText value="T.Saída" /></rich:column>				
						</rich:columnGroup>
					</f:facet>
						
					<rich:column style="text-align:center">
						<h:outputText value="#{pacTransito.numProntuario}" />
					</rich:column>
						
					<rich:column>
						<h:outputText value="#{pacTransito.paciente.dscNome}" />
					</rich:column>
					
					<rich:column>
						<!--<h:outputText value="#{pacTransito.localPaciente}" /> / <h:outputText value=" #{pacTransito.leito.dscLeito}" /> -->
						<!-- <h:outputText value="#{paginaPrincipalForm.getHospital()}" /> / <h:outputText value=" #{pacTransito.leito.dscLeito}" /> -->
						<h:outputText value="#{pacTransito.leito.enfermaria.clinica.dscClinica}" /> - <h:outputText value=" #{pacTransito.leito.enfermaria.dscEnfermaria}" />.<h:outputText value=" #{pacTransito.leito.dscLeito}" />
					</rich:column>
													
					<rich:column>
						<h:outputText value="#{pacTransito.referencia.dscReferencia}" />
					</rich:column>
						
					<rich:column>
						<h:outputText value="#{pacTransito.dscMotivo}" />
					</rich:column>
									
					<rich:column>
						<h:outputText value="#{pacTransito.datSaida}" >
						     <f:convertDateTime pattern="dd/MM/yyyy"/>
						</h:outputText>
						<h:outputText value=" #{pacTransito.horSaida}" />
					</rich:column>
						
					<rich:column>				    
						<h:outputText value="#{pacTransito.tempoSaida}" />
						<h:graphicImage value="IMG/ambulanciaBlink.gif" style="margin-left: 5px" 
						      rendered="#{pacTransito.tempoSaida>'06:00'}"/>
					</rich:column>
					
				</rich:dataTable>
    	</div> 
   	</rich:modalPanel>
	 
	 <rich:modalPanel id="panPaciente" autosized="false" width="600" height="400" resizeable="true" headerClass="headerPanel3">
		
    	<f:facet name="header">
			<h:panelGroup>
       			<h:outputText value="DADOS DO PACIENTE"></h:outputText>
       		</h:panelGroup>
    	</f:facet>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanel"/>
        		<rich:componentControl for="panPaciente" attachTo="fechaPanel" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
    	<div>
    		<ui:include src="panelDadosPaciente.xhtml"/>
    	</div> 
   	</rich:modalPanel>

	 <rich:modalPanel id="panelRegular" autosized="true" width="900" resizeable="false" headerClass="headerPanel3">
		
    	<f:facet name="header">
			<h:panelGroup>
       			<h:outputText value="Regular Paciente"></h:outputText>
       		</h:panelGroup>
    	</f:facet>
    	<fieldset>
    		<h:form id="internacaoTransForm">
			
				<h:panelGrid style="width:100%;">
					<h:panelGrid style="width:100%;">
						<h:panelGroup>
							<b><h:outputText value="PACIENTE: " /></b>
							<b><h:outputText value=" #{paginaPrincipalForm.nomePaciente}" /></b>
						</h:panelGroup>
					</h:panelGrid>
					
					<div style="text-align:center"> 
						<h:panelGrid style="width:100%;">
							<h:panelGroup >
								<b><h:outputText value="Código Regulação (CRESUS): " /></b>
								<h:inputText value="#{paginaPrincipalForm.regulacaoTrans.codRegulacaoEst}" maxlength="20"/>
							</h:panelGroup>
						</h:panelGrid>
						<h:panelGrid style="width:100%;" id="panlGridLocalId" rendered="#{paginaPrincipalForm.regulacaoTrans.datRegulacaoEst != null}">
							<h:panelGroup layout="block" id="localRegulcaoId">
								<b><h:outputText value="Data Regulação: " /></b>
								<h:outputText value="#{paginaPrincipalForm.regulacaoTrans.datRegulacaoEst}" converter="ConversorDeDataHora" />
							</h:panelGroup>	
						</h:panelGrid>
						<h:panelGrid style="width:100%;" columns="2" rendered="#{paginaPrincipalForm.regulacaoTrans.usuarioEstado != null}">
							<h:panelGroup layout="block">
								<b><h:outputText value="Usuário Regulação: " /></b>
								<h:outputText value="#{paginaPrincipalForm.regulacaoTrans.usuarioEstado.dscUsuario}" />
							</h:panelGroup>	
						</h:panelGrid>						
						<h:panelGrid style="width:100%;">
							<h:panelGroup >
								<b><h:outputText value="Código Regulação (CRIFFOR): " /></b>
								<h:inputText value="#{paginaPrincipalForm.regulacaoTrans.codRegulacaoMun}" maxlength="20"/>
							</h:panelGroup>
						</h:panelGrid>
						<h:panelGrid style="width:100%;" rendered="#{paginaPrincipalForm.regulacaoTrans.datRegulacaoMun != null}">
							<h:panelGroup layout="block">
								<b><h:outputText value="Data Regulação: " /></b>
								<h:outputText value="#{paginaPrincipalForm.regulacaoTrans.datRegulacaoMun}" converter="ConversorDeDataHora" />
							</h:panelGroup>	
						</h:panelGrid>
						<h:panelGrid style="width:100%;" rendered="#{paginaPrincipalForm.regulacaoTrans.usuarioMunicipio != null}">
							<h:panelGroup layout="block">
								<b><h:outputText value="Usuário Regulação: " /></b>
								<h:outputText value="#{paginaPrincipalForm.regulacaoTrans.usuarioMunicipio.dscUsuario}" />
							</h:panelGroup>	
						</h:panelGrid>						
						<h:panelGrid style="width:100%;">
							<h:panelGroup >
								<b><h:outputText value="Código Regulação (SAMU): " /></b>
								<h:inputText value="#{paginaPrincipalForm.regulacaoTrans.codRegulacaoSamu}" maxlength="20"/>
							</h:panelGroup>
						</h:panelGrid>
						<h:panelGrid style="width:100%;" rendered="#{paginaPrincipalForm.regulacaoTrans.datRegulacaoSamu != null}">
							<h:panelGroup layout="block">
								<b><h:outputText value="Data Regulação: " /></b>
								<h:outputText value="#{paginaPrincipalForm.regulacaoTrans.datRegulacaoSamu}" converter="ConversorDeDataHora" />
							</h:panelGroup>	
						</h:panelGrid>
						<h:panelGrid style="width:100%;" rendered="#{paginaPrincipalForm.regulacaoTrans.usuarioSamu != null}">
							<h:panelGroup layout="block">
								<b><h:outputText value="Usuário Regulação: " /></b>
								<h:outputText value="#{paginaPrincipalForm.regulacaoTrans.usuarioSamu.dscUsuario}" />
							</h:panelGroup>	
						</h:panelGrid>						
						<h:panelGrid style="width:100%;">
							<h:panelGroup layout="block">
								<b><h:outputText value="Anotação/Observação: " /></b>
							</h:panelGroup>
							<h:panelGroup layout="block">
								<h:inputTextarea value="#{paginaPrincipalForm.transAnotacaoBean.dscAnotacao}" id="anotacaoId" style="width: 700px; text-transform:uppercase; height: 67px;" onkeyup="verificaTamanho('internacaoTransForm',this, 500, 'lblCaracteresAnotacaoId');" onblur="verificaTamanho('internacaoTransForm',this, 500, 'lblCaracteresAnotacaoId');upper(this);" />
		        				<label id="lblCaracteresAnotacaoId">(500 caracteres restantes)</label>									
							</h:panelGroup>
						</h:panelGrid>
					</div>
					
					<br /><br /><br />
					
					<h:panelGrid style="width:100%;">
						<h:panelGroup>
							<b><h:outputText value="Usuário / Conselho: " /></b>
							<h:inputText value="#{paginaPrincipalForm.usuario}" maxlength="20" styleClass="campoTexto" style="width: 90px"/>
							<rich:spacer width="10" />
							<b><h:outputText value="Senha / Assinatura: " /></b>
							<h:inputSecret value="#{paginaPrincipalForm.senha}" maxlength="20" styleClass="campoTexto" style="width: 90px"/>
						</h:panelGroup>
					
						<h:panelGroup style="overflow-y: auto; position: relative; height:180px">
							<rich:dataTable id="tabelaAnotacoesId"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
				           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{paginaPrincipalForm.listaTransAnotacao}" 
								var="anotacao" 
								style="width:100%;" 
								reRender="rodapeAnotacao"
								rendered="#{not empty paginaPrincipalForm.listaTransAnotacao}">
								
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;width: 10%">
											Data
										</rich:column>
										<rich:column style="text-align: center;width: 25%">
											Usuário
										</rich:column>
										<rich:column style="text-align: center;width: 65%">
											Anotação/Observação
										</rich:column>
									</rich:columnGroup>
								</f:facet>				
								
								<rich:column style="text-align: center;">
									<h:outputText value="#{anotacao.datCadastro}" converter="ConversorDeDataHora"/>
								</rich:column>				
								<rich:column style="text-align: center;">
									<h:outputText value="#{anotacao.usuarioBean.dscUsuario}" />
								</rich:column>				
								<rich:column style="text-align: left;">
									<h:outputText value="#{anotacao.dscAnotacao}" />
								</rich:column>				
								
							</rich:dataTable>
						</h:panelGroup>
						
						<h:panelGroup>
							<div style="text-align: center; margin-top: 10px">
								<a4j:commandButton id="btnOkRegular" value="OK"
									   actionListener="#{paginaPrincipalForm.regularPaciente}"
									   style="margin-right: 10px" 
									   styleClass="botaoModal"
									   oncomplete="validarPanelRegulacao('#{paginaPrincipalForm.mensagem}')"
									   reRender="cadPaciente, cadPaciente:tblPacienteTransito">			
								</a4j:commandButton>	
								<a4j:commandButton id="btnCancelRegular"  value="Cancelar"  styleClass="botaoModal" actionListener="#{paginaPrincipalForm.fechaPanelRegulacao}" onclick="Richfaces.hideModalPanel('panelRegular');" reRender="cadPaciente"/>
							</div>
						</h:panelGroup>
					</h:panelGrid>
					
				</h:panelGrid>
			</h:form>
    	</fieldset>
   	</rich:modalPanel>
   	
	<h:form id="cadPaciente">
		<div class="divBotoes">
		    <br></br>
			<div class="col400 centralizar">		
				<a4j:commandLink action="#{paginaPrincipalForm.permissaoPaginaPrincipal('cs_paciente')}"
								  oncomplete="if (#{paginaPrincipalForm.bolPermissao == false}) { navegar('10')}; " >
					<h:graphicImage	alt="Pacientes"
									url="IMG/CadastroPacientes.gif" 
									style="border: 0;" />
				</a4j:commandLink>
			</div>
			<div class="col400 centralizar">
				<a4j:commandLink action="#{paginaPrincipalForm.permissaoPaginaPrincipal('cs_censoHospitalar')}"
								  oncomplete="if (#{paginaPrincipalForm.bolPermissao == false}) { navegar('10')}; " >
					<h:graphicImage	alt="Censo Hospitalar" 
									title="Movimentação de Leito" 
									url="IMG/CensoHospitalar.png" 
									style="border: 0;" />
				</a4j:commandLink>
			</div>
			<div class="col400 centralizar">
				<a4j:commandLink action="#{paginaPrincipalForm.permissaoPaginaPrincipal('cs_emergencia')}"
								  oncomplete="if (#{paginaPrincipalForm.bolPermissao == false}) { navegar('10')}; " >
					<h:graphicImage	alt="Pacientes Recepção" 
									title="Pacientes Recepção" 
									url="IMG/PacientesEmergencia.png" 
									style="border: 0;"
									rendered="#{templateForm.hospital=='UPA'}" />
				</a4j:commandLink>
			</div>
			<div class="col400 centralizar">
				<a4j:commandLink action="#{paginaPrincipalForm.permissaoPaginaPrincipal('eixosEmergencia')}"
								  oncomplete="if (#{paginaPrincipalForm.bolPermissao == false}) { navegar('10')}; " >
					<h:graphicImage	alt="Eixos da emergência" 
									title="Eixos da emergência" 
									url="IMG/EixosEmergencia.gif" 
									style="border: 0;" 
									rendered="#{templateForm.hospital=='UPA'}" />
				</a4j:commandLink>
			</div>
			<div class="col400 centralizar">
				<a4j:commandLink  action="#{paginaPrincipalForm.permissaoPaginaPrincipal('cs_pacienteAtendimento')}"
								  oncomplete="if (#{paginaPrincipalForm.bolPermissao == false}) { navegar('10')}; " >
					<h:graphicImage	alt="Pacientes Atendimento" 
									title="Pacientes Atendimento" 
									url="IMG/PacienteAtendimento.png" 
									style="border: 0;"
									rendered="#{templateForm.hospital=='UPA'}" />
				</a4j:commandLink>
			</div>
			<div class="col400 centralizar">
				<a4j:commandLink  action="#{paginaPrincipalForm.pesquisaRecepcaoTablet}">
					<h:graphicImage	alt="PACIENTES RECEPÇÃO VIA TABLET" 
									title="PACIENTES RECEPÇÃO VIA TABLET" 
									url="IMG/bntRecepcaoTablet.png" 
									style="border: 0;"
									rendered="#{templateForm.hospital=='UPA'}" />
				</a4j:commandLink>
			</div>
			<div class="col400 centralizar">
				<a4j:commandLink oncomplete="#{rich:component('panPacienteTransito')}.show();" action="#{paginaPrincipalForm.carregarPacientesTransito}" reRender="tblPacienteTransito2">
					<h:graphicImage	alt="PACIENTES EM TRANSITO" 
									title="PACIENTES EM TRANSITO" 
									url="IMG/btnPacienteTransito.jpg" 
									style="border: 0;"
									rendered="#{templateForm.hospital=='UPA'}" />
				</a4j:commandLink>
			</div>
		</div>
		
		<br style="clear: both"/>
		<br/>
		<h:panelGroup layout="block">
		<fieldset>
			<legend style="font-size: 0.8em; font-weight: bold">PACIENTES EM TRANSFERÊNCIA</legend>
			<rich:dataTable 
				id="tblPacienteTransito"
				onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
	    		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
				value="#{paginaPrincipalForm.listaPacientesTransferencia}" 
				var="pacTransito" 
				style="width:100%;" 
				binding="#{paginaPrincipalForm.tblDataTrans}"
				reRender="ds">
					
				<f:facet name="header">
					<rich:columnGroup>					
						<h:column><h:outputText value="Prontuário" /></h:column>
						<h:column><h:outputText value="Paciente" /></h:column>
						<h:column><h:outputText value="Destino" /></h:column>						
						<h:column><h:outputText value="Profissional" /></h:column>
						<h:column><h:outputText value="Tempo Espera (HH:mm)" /></h:column>
						<h:column><h:outputText value="Regulado ?" /></h:column>
						<h:column><h:outputText value="" /></h:column>
						<h:column><h:outputText value="" /></h:column>
					</rich:columnGroup>
				</f:facet>
					
				<rich:column>
				    <center>
						<h:outputText value="#{pacTransito.internacaoPepBean.pacientePepBean.numProntuario}" />
					</center>
				</rich:column>
					
				<rich:column>
          			<a4j:commandLink styleClass="link" oncomplete="#{rich:component('panPaciente')}.show();" value="#{pacTransito.internacaoPepBean.pacientePepBean.dscNome}" action="#{farmaciaForm.popularDadosPaciente}" reRender="panPaciente">
          				<f:setPropertyActionListener target="#{farmaciaForm.isnPaciente}" value="#{pacTransito.internacaoPepBean.pacientePepBean.isnPaciente}" />
          			</a4j:commandLink>						
				</rich:column>
								
				<rich:column>
					<h:outputText value="#{pacTransito.dscReferencia}" />
				</rich:column>
								
				<rich:column>
					<h:outputText value="#{pacTransito.usuario.dscUsuario}" />
				</rich:column>
								
				<rich:column style="text-align: center;">
					<h:outputText value="#{pacTransito.tempoEsperaTransf}" />
					<h:outputText value="   " />
					<h:graphicImage id="igmAlerta24hrs" url="IMG/vinte_quatro_horas.gif" style="border:0;vertical-align: middle;" rendered="#{pacTransito.ultrapassouTempo}" title="Paciente esperando transferência há mais de 24 horas."/>
				</rich:column>
								
				<rich:column style="text-align: center;">
					<center>
						<a4j:outputPanel styleClass="linhaFormulario" layout="block">
							<a4j:commandLink id="imgNaoReguladoId" 
											   style="border:white; width: 12px; height: 12px;vertical-align: middle;" 
											   reRender="cadPaciente, cadPaciente:tblPacienteTransito, panelRegular" 
											   oncomplete="Richfaces.showModalPanel('panelRegular');" 
											   action="#{paginaPrincipalForm.abrirPanelRegulacao}" 
											   title="Paciente não regulado. Clique aqui para regular."
											    rendered="#{pacTransito.flgRegulacao == null or pacTransito.flgRegulacao == 'N'}">
											    <h:graphicImage id="imgSelecionar" url="IMG/excluir.png" style="border:0;" />
											    <f:setPropertyActionListener target="#{paginaPrincipalForm.isnInternacaoTransRegulacao}" value="#{pacTransito.isnInternacaoTrans}" />
							</a4j:commandLink>		
							<a4j:commandLink id="imgReguladoId2" 
											   style="border:white; width: 12px; height: 12px;vertical-align: middle;" 
											   reRender="cadPaciente, cadPaciente:tblPacienteTransito, panelRegular" 
											   oncomplete="Richfaces.showModalPanel('panelRegular');" 
											   action="#{paginaPrincipalForm.abrirPanelRegulacao}" 
											   title="Paciente já regulado. Clique aqui para alterar."
											    rendered="#{pacTransito.flgRegulacao == 'S'}">
											    <h:graphicImage id="imgSelecionar2" url="IMG/bt_visto.gif" style="border:0;" />
											    <f:setPropertyActionListener target="#{paginaPrincipalForm.isnInternacaoTransRegulacao}" value="#{pacTransito.isnInternacaoTrans}" />
							</a4j:commandLink>		
							<rich:toolTip direction="bottom-right" layout="block" rendered="#{pacTransito.flgRegulacao == 'S'}" styleClass="tooltipEmergencia">
								<f:facet name="defaultContent">
									<strong>Aguarde...</strong>
								</f:facet>
								<div>
									<h:panelGrid>
										<h:panelGroup rendered="#{pacTransito.codRegulacaoEst != null}">
										    <h:outputText value="Código Regulação (CRESUS):" />
										    <h:outputText value="#{pacTransito.codRegulacaoEst}" style="font-weight: bold"/>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.datRegulacaoEst != null}">
										    <h:outputText value="Data/Hora Regulação (CRESUS):" />
										    <h:outputText value="#{pacTransito.datRegulacaoEst}" style="font-weight: bold">
										    	<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" timeZone="GMT-3" />
										    </h:outputText>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.usuarioEstado != null}">
										    <h:outputText value="Usuário Regulação (CRESUS):" />
										    <h:outputText value="#{pacTransito.usuarioEstado.dscUsuario}" style="font-weight: bold"/>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.codRegulacaoMun != null}">
										    <h:outputText value="Código Regulação (CRIFFOR):" />
										    <h:outputText value="#{pacTransito.codRegulacaoMun}" style="font-weight: bold"/>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.datRegulacaoMun != null}">
										    <h:outputText value="Data/Hora Regulação (CRIFFOR):" />
										    <h:outputText value="#{pacTransito.datRegulacaoMun}" style="font-weight: bold">
										    	<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" timeZone="GMT-3" />
										    </h:outputText>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.usuarioMunicipio != null}">
										    <h:outputText value="Usuário Regulação (CRIFFOR):" />
										    <h:outputText value="#{pacTransito.usuarioMunicipio.dscUsuario}" style="font-weight: bold"/>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.codRegulacaoSamu != null}">
										    <h:outputText value="Código Regulação (SAMU):" />
										    <h:outputText value="#{pacTransito.codRegulacaoSamu}" style="font-weight: bold"/>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.datRegulacaoSamu != null}">
										    <h:outputText value="Data/Hora Regulação (SAMU):" />
										    <h:outputText value="#{pacTransito.datRegulacaoSamu}" style="font-weight: bold">
										    	<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" timeZone="GMT-3" />
										    </h:outputText>
										</h:panelGroup>
										    
										<h:panelGroup rendered="#{pacTransito.usuarioSamu != null}">
										    <h:outputText value="Usuário Regulação (SAMU):" />
										    <h:outputText value="#{pacTransito.usuarioSamu.dscUsuario}" style="font-weight: bold"/>
										</h:panelGroup>
									</h:panelGrid>
								    
								</div>								
							</rich:toolTip>
						</a4j:outputPanel>
					</center>
				</rich:column>
				
				<rich:column width="3%">
					<center>
						<t:commandLink id="atendimento" action="#{emergenciaForm.relatorio}" target="blank" title="IMPRIMIR GUIA DO PACIENTE">
							<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;" />
							<f:setPropertyActionListener value="#{pacTransito.isnInternacao}" target="#{emergenciaForm.isnInternacao}" />							
						</t:commandLink>
					</center>
				</rich:column>
				
				<rich:column width="3%">
					<center>
						<a4j:commandLink style="border:white; width: 12px; height: 12px;" title="IMPRIMIR INTERNAÇÃO TRANSFERÊNCIA" action="#{internacaoTransForm.verificaRelatorio}" oncomplete="abrirRelatorio(#{pacTransito.isnInternacao});">
							<h:graphicImage id="imgTransf" url="IMG/impressora.png" style="border:0;" />
							<f:setPropertyActionListener value="#{pacTransito.isnInternacao}" target="#{internacaoTransForm.isnInternacao}" />
						</a4j:commandLink>
					</center>
				</rich:column>
				
				<!-- 
				<rich:column>
					<h:outputText value="#{pacTransito.datSaida}" >
					     <f:convertDateTime pattern="dd/MM/yyyy"/>
					</h:outputText>
					<h:outputText value=" #{pacTransito.horSaida}" />
				</rich:column>
					
				<rich:column>				    
					<h:outputText value="#{pacTransito.tempoSaida}" />
					<h:graphicImage value="IMG/ambulanciaBlink.gif" style="margin-left: 5px" 
					      rendered="#{pacTransito.tempoSaida>'06:00'}"/>
				</rich:column>
				 -->
								
				<f:facet name="footer">
				</f:facet>
			</rich:dataTable>
		</fieldset>
		</h:panelGroup>
		<br/>
		<br/>
		<br/>
		<a4j:status id="statusPanel"
			   onstart="Richfaces.showModalPanel('panelStatus');" 
			    onstop="#{rich:component('panelStatus')}.hide()">
		</a4j:status>
	</h:form>
	<script>
	    function navegar(tipo) {
	    	if (tipo == 10) {
		    	//window.location = "#{request.contextPath}/cs_paciente.jsf";
		    	window.alert("Usuário sem permissão");
		    } /* else if (tipo == 3) {
		    	window.location = "#{request.contextPath}/cs_referencia.jsf";
		    } else if (tipo == 5) {
		    	window.location = "#{request.contextPath}/cs_enfermaria.jsf";
		    } else if (tipo == 6) {
		    	window.location = "#{request.contextPath}/cs_leito.jsf";
		    } else if (tipo == 7) {
		    	window.location = "#{request.contextPath}/cs_clinica.jsf";
		    } else if (tipo == 8) {
		    	window.location = "#{request.contextPath}/cs_bloco.jsf";
		    } else if (tipo == 22) {
	    		window.location = "#{request.contextPath}/cs_ocupacao.jsf";
		    } */
	    }
	    
	    function abrirRelatorio(isnInternacao)
	     {		     
		 	window.open('cd_internacaoTrans.jsf?paramRel=relISGH_'+isnInternacao);
	     }

	     function validar(msg)
	     {
		     if(msg != '')
		     {
			     alert(msg);
		     }
		 }

	     function validarPanelRegulacao(msg)
	     {
	 		if(msg != '')
			{
				alert(msg);
			}
			else
			{
				alert('Paciente regulado com sucesso.');
		       	document.getElementById('panelRegularContentDiv').style.display = 'none';
		       	document.getElementById('panelRegularDiv').style.display = 'none';
		       	document.getElementById('panelRegularShadowDiv').style.display = 'none';
			}
	     }
		 
	</script>			
</ui:define>
</ui:composition>
</html>