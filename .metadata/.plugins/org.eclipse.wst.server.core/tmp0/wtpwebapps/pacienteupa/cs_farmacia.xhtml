<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
					  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:rich="http://richfaces.org/rich">

<ui:composition template="template.xhtml">
	<ui:define name="headHtml">
 
	</ui:define>
	<ui:define name="conteudo">
	<a4j:keepAlive beanName="farmaciaForm" />
	
	<rich:modalPanel id="panelStatus" autosized="true">  
 		<h:panelGrid columns="2"> 
 			<h:graphicImage url="IMG/ajax-loader.gif" style="border:0px"/> 
 			<h:outputText value="Carregando..." />
 		</h:panelGrid> 
	</rich:modalPanel>
	
	<h:form id="formularioFarmacia">

		<div id="geral">   
		    <div class="tituloPagina">FARMÁCIA</div>	    	
   			<div class="quadroAtendimento">
			   	<fieldset>
			   		<label><b>Agrupar por:</b></label>	   		
			   		<h:selectOneRadio value="#{farmaciaForm.tpAgrupamento}" styleClass="radioButton">
						<f:selectItem itemValue="1" itemLabel="EIXO"/>
						<f:selectItem itemValue="2" itemLabel="PACIENTE"/>
						<f:selectItem itemValue="3" itemLabel="USO COLETIVO"/>
						<a4j:support event="onclick" reRender="formularioFarmacia" action="#{farmaciaForm.executarPesquisaGeral}"/>
					</h:selectOneRadio>
				</fieldset>
			</div>
		</div>
		
		<h:panelGroup rendered="#{farmaciaForm.tpAgrupamento != 3}">
			<rich:tabPanel switchType="client" style="width: 100%;">
				<rich:tab label="PRESCRIÇÕES PENDENTES"  style="">
			
					<!-- PANEL DE AGRUPAMENTO POR EIXO -->
					
					<h:panelGroup layout="block" id="panelTableEixo" rendered="#{farmaciaForm.tpAgrupamento == 1}">
						<rich:dataTable style="width: 100%; background-color:#F1F1F1;"	   					
									    value="#{farmaciaForm.listaPorEixo}"
									      var="listaEixo"
									     rows="15"
									       id="listaEixo"
						   		     reRender="dsEixo">
						    <f:facet name="header">
								<rich:columnGroup>
									<h:column>
										<h:outputText>Eixos</h:outputText>
									</h:column>
								</rich:columnGroup>
							</f:facet>
						    <h:column rendered="#{listaEixo.existePaciente}">
						        <h:panelGrid columns="2">
						        	<h:graphicImage id="expandEixo" value="IMG/expand.gif" onclick="toggleDetailsEixo(this);" /> <h:outputText value="#{listaEixo.dscClinica}" />
						        </h:panelGrid>
						        
						        <rich:dataTable style="width: 100%; display: none; background-color:#F8F8FF;" 
						        				   id="detailEixo"				        							
						        			    value="#{listaEixo.listInternacaoLeitoArray}" 
						        				  var="detailEixo">
						            <rich:column id="eix" rendered="#{detailEixo.internacaoPepBean.pacientePepBean.prescricaoPendente}">
						            	<h:graphicImage id="expandEixoSub" value="IMG/expand.gif" onclick="toggleDetailsEixoSub(this);" style="margin-left: 25px;"/>
						            	<h:panelGroup>
					            			<a4j:commandLink styleClass="link" oncomplete="#{rich:component('panPaciente')}.show();" value="  #{detailEixo.internacaoPepBean.pacientePepBean.dscNome} - #{detailEixo.internacaoPepBean.pacientePepBean.numProntuario} " action="#{farmaciaForm.popularDadosPaciente}" reRender="panPaciente">
					            				<f:setPropertyActionListener target="#{farmaciaForm.isnPaciente}" value="#{detailEixo.internacaoPepBean.pacientePepBean.isnPaciente}" />
					            			</a4j:commandLink>
						            	</h:panelGroup>						            	
						            	<rich:dataTable onRowMouseOver="this.style.backgroundColor='#FFFFCC'"
														 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									                             style="width: 100%; display: none;" 
								        							id="detailEixoSub"				        							
								        						 value="#{detailEixo.listPrescricaoUpaBeanVo}" 
								        						   var="detailEixoSub">
														<h:column>
															<h:outputText value="#{detailEixoSub.datPrescricao}"/>
														</h:column>
														<h:column>
													     	<rich:dataTable onRowMouseOver="this.style.backgroundColor='#FFFFCC'"
															 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										                             style="width: 100%;" 
									        							id="detailPrescricao"				        							
									        						 value="#{detailEixoSub.lstPrescricao}" 
									        						   var="detailPrescricao">
									        				
													            <rich:column id="eix" title="#{detailPrescricao.title}">         	
													            	<h:selectBooleanCheckbox value="#{detailPrescricao.prescricaoSelecionada}" rendered="#{detailPrescricao.datAtendido == null}" style="width: 12px; height: 12px; margin-left: 50px;"/>
													            	<h:graphicImage id="vistoEixo" value="IMG/visto.png" style="border:white; width: 12px; height: 12px; margin-left: 50px;" title="PRESCRIÇÃO REALIZADA" rendered="#{detailPrescricao.datAtendido != null}"/>
													            	<h:panelGroup>
												            			<h:outputText value="  #{detailPrescricao.dscPrescricao} " />
												            														            			
													            	</h:panelGroup>
													            </rich:column>
													            <rich:column>
													            	<a4j:commandButton image="IMG/bola_verde.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" style="border:0; width: 12px; height: 12px;" rendered="#{detailPrescricao.totalPrescricaoFarm > 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
													            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detailPrescricao.isnPrescricaoUpa}" />
													            	</a4j:commandButton>
													            	<a4j:commandButton image="IMG/bola_cinza.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" rendered="#{detailPrescricao.totalPrescricaoFarm == 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
													            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detailPrescricao.isnPrescricaoUpa}" />
													            	</a4j:commandButton>
													            </rich:column>
									        				</rich:dataTable>
														</h:column>
								        </rich:dataTable>
						            </rich:column>
						        </rich:dataTable>				        
						    </h:column>
									    				    
						    <f:facet name="footer">
								<rich:datascroller id="dsEixo" ajaxSingle="false"/>
							</f:facet>
						    
						</rich:dataTable>
					</h:panelGroup>		
					
					
					<!-- FIM PANEL DE AGRUPAMENTO POR EIXO -->
					
					
						
					<!-- PANEL DE AGRUPAMENTO POR PACIENTE -->
					
					<h:panelGroup layout="block" id="panelTable" rendered="#{farmaciaForm.tpAgrupamento == 2}">
				   		<rich:dataTable style="width: 100%; background-color:#F1F1F1;"	   					
				   					    value="#{farmaciaForm.listaPaciente}"
				   					      var="lista"
				   					     rows="15"
				   					       id="lista"
			   					     reRender="ds">
						    <f:facet name="header">
								<rich:columnGroup>
									<h:column>
										<h:outputText>Pacientes</h:outputText>
									</h:column>	
								</rich:columnGroup>
							</f:facet>
						    <h:column>
						        <h:panelGrid columns="2" rendered="#{lista.pacientePepBean.prescricaoPendente}">
						        	<h:graphicImage id="expand" value="IMG/expand.gif" onclick="toggleDetails(this);"/> 			        	
						        	<a4j:commandLink styleClass="link" oncomplete="#{rich:component('panPaciente')}.show();" value="  #{lista.pacientePepBean.dscNome} - #{lista.pacientePepBean.numProntuario} ( #{lista.dscClinica} )" action="#{farmaciaForm.popularDadosPaciente}" reRender="panPaciente">
			            				<f:setPropertyActionListener target="#{farmaciaForm.isnPaciente}" value="#{lista.pacientePepBean.isnPaciente}" />
			            			</a4j:commandLink>
						        </h:panelGrid>
						        <rich:dataTable onRowMouseOver="this.style.backgroundColor='#FFFFCC'"
												 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
							                             style="width: 100%; display: none;" 
						        							id="details" 
						        						 value="#{lista.listPrescricaoUpa}" 
						        						   var="detail">     						  	
						            <rich:column id="prs" style="width: 100%;" title="#{detail.title}">
						            	<h:selectBooleanCheckbox value="#{detail.prescricaoSelecionada}" rendered="#{detail.datAtendido == null}" style="width: 12px; height: 12px; margin-left: 25px;"/>			            	
							            <h:graphicImage id="visto" value="IMG/visto.png" style="border:white; width: 12px; height: 12px; margin-left: 25px;" title="PRESCRIÇÃO REALIZADA" rendered="#{detail.datAtendido != null}"/>
						            	<h:panelGroup>
					            		<h:outputText value=" #{detail.dscPrescricao}" />
						            	</h:panelGroup>
						            	<rich:column style="width: 100%;">
							            	<a4j:commandButton image="IMG/bola_verde.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" style="border:0; width: 12px; height: 12px;" rendered="#{detail.totalPrescricaoFarm > 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
							            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detail.isnPrescricaoUpa}" />
							            	</a4j:commandButton>
							            	<a4j:commandButton image="IMG/bola_cinza.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" rendered="#{detail.totalPrescricaoFarm == 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
							            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detail.isnPrescricaoUpa}" />
							            	</a4j:commandButton>
							            </rich:column>
						            </rich:column>
						        </rich:dataTable>
						    </h:column>
						    
						    <f:facet name="footer">
								<rich:datascroller id="ds" ajaxSingle="false" />
							</f:facet>
						    
						</rich:dataTable>
					</h:panelGroup>
			       	
			       	<!-- FIM PANEL DE AGRUPAMENTO POR PACIENTE -->
				    
				    <div class="quadroAtendimento" style="height: 30px; text-align: center;">
			       		<a4j:commandButton value="Realizar Prescrições" 
			       						  action="#{farmaciaForm.realizarPrescricoes}" 
			       						   style="margin-top:5px;"
			       						   styleClass="botaoModal"
			       					  oncomplete="validar('#{farmaciaForm.mensagem}');"
			       					    reRender="formularioFarmacia"/>
			       					    
						<a4j:commandButton value="Sincronizar" 
			       						  action="#{farmaciaForm.sincronizar}"
			       						 onclick="if (!confirm('Deseja realmente sincronizar os dados da farmácia?')) return false" 
			       						   style="margin-top:5px; margin-left: 10px;"
			       						   styleClass="botaoModal"
			       					  oncomplete="validar('#{farmaciaForm.mensagem}');"
			       					    reRender="formularioFarmacia"/>
			       	</div>
				    	
		       	</rich:tab>
		       	
		       	<!-- ================================================================ PRESCRIÇÕES REALIZADAS =============================================================================== -->
		       	
		       	<rich:tab label="PRESCRIÇÕES REALIZADAS"  style="width: 100%; height: 15px;">
					
					<table>
						<tr>
							<td>Data de Atendimento: </td>
							<td class="fonte14">
								<rich:calendar id="datInicial" value="#{farmaciaForm.datInicio}" datePattern="dd/MM/yyyy" showWeeksBar="false" enableManualInput="true" oninputkeypress="return formataData(event, this)" />
	      								<font size="1"><h:outputText value=" a "/></font>
	      							<rich:calendar id="datFinal" value="#{farmaciaForm.datFim}" datePattern="dd/MM/yyyy" showWeeksBar="false" enableManualInput="true" oninputkeypress="return formataData(event, this)" />								
							</td>
							<td>
								<span style="width: 11px"><a4j:commandButton image="IMG/imgFiltrar.gif" action="#{farmaciaForm.pesquisarPrescricoesRealizada}" reRender="panelTableRealizadas, panelTableEixoRealizada"/></span>
							</td>
						</tr>
					</table>				
					
					<!-- PANEL DE AGRUPAMENTO POR EIXO (REALIZADAS) -->
					
					<h:panelGroup layout="block" id="panelTableEixoRealizada" rendered="#{farmaciaForm.tpAgrupamento == 1}">
						<rich:dataTable style="width: 100%; background-color:#F1F1F1;"	   					
									    value="#{farmaciaForm.listaPorEixoRealizada}"
									      var="listaEixoRealizada"
									     rows="15"
									       id="listaEixoRealizada"
						   		     reRender="dsEixoRealizada">
						    <f:facet name="header">
								<rich:columnGroup>
									<h:column>
										<h:outputText>Eixos</h:outputText>
									</h:column>
								</rich:columnGroup>
							</f:facet>
						    <h:column>
						        <h:panelGrid columns="2">
						        	<h:graphicImage id="expandEixoRealizada" value="IMG/expand.gif" onclick="toggleDetailsEixoRealizada(this);" /> <h:outputText value="#{listaEixoRealizada.dscClinica}" />
						        </h:panelGrid>
						        
						        <rich:dataTable style="width: 100%; display: none; background-color:#F8F8FF;" 
						        				   id="detailEixoRealizada"				        							
						        			    value="#{listaEixoRealizada.listInternacaoLeitoArray}" 
						        				  var="detailEixoRealizada">
						            <rich:column id="eixRealizada" style="width: 100%;">
						            	<h:graphicImage id="expandEixoSubRealizada" value="IMG/expand.gif" onclick="toggleDetailsEixoSubRealizada(this);" style="margin-left: 25px;"/>
						            	<h:panelGroup>
					            			<a4j:commandLink styleClass="link" oncomplete="#{rich:component('panPaciente')}.show();" value="  #{detailEixoRealizada.internacaoPepBean.pacientePepBean.dscNome} - #{detailEixoRealizada.internacaoPepBean.pacientePepBean.numProntuario}" action="#{farmaciaForm.popularDadosPaciente}" reRender="panPaciente">
					            				<f:setPropertyActionListener target="#{farmaciaForm.isnPaciente}" value="#{detailEixoRealizada.internacaoPepBean.pacientePepBean.isnPaciente}" />
					            			</a4j:commandLink>
						            	</h:panelGroup>						            	
						            	<rich:dataTable onRowMouseOver="this.style.backgroundColor='#FFFFCC'"
														 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									                             style="width: 100%; display: none;" 
								        							id="detailEixoSubRealizada"				        							
								        						 value="#{detailEixoRealizada.internacaoPepBean.listPrescricaoUpa}" 
								        						   var="detailEixoSubRealizada">
								            <rich:column id="eixRealizada" style="width: 100%;" title="#{detailEixoSubRealizada.title}">         	
								            	<h:selectBooleanCheckbox value="#{detailEixoSubRealizada.prescricaoSelecionada}" rendered="#{detailEixoSubRealizada.datAtendido == null}" style="width: 12px; height: 12px; margin-left: 50px;"/>
								            	<h:graphicImage id="vistoEixoRealizada" value="IMG/visto.png" style="border:white; width: 12px; height: 12px; margin-left: 50px;" title="PRESCRIÇÃO REALIZADA" rendered="#{detailEixoSubRealizada.datAtendido != null}"/>
								            	<h:panelGroup>
							            			<h:outputText value="  #{detailEixoSubRealizada.dscPrescricao}" />
								            	</h:panelGroup>
								            </rich:column>
								            <rich:column style="width: 100%;">
								            	<a4j:commandButton image="IMG/bola_verde.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" style="border:0; width: 12px; height: 12px;" rendered="#{detailEixoSubRealizada.totalPrescricaoFarm > 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
								            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detailEixoSubRealizada.isnPrescricaoUpa}" />
								            	</a4j:commandButton>
								            	<a4j:commandButton image="IMG/bola_cinza.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" rendered="#{detailEixoSubRealizada.totalPrescricaoFarm == 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
								            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detailEixoSubRealizada.isnPrescricaoUpa}" />
								            	</a4j:commandButton>
								            </rich:column>
								        </rich:dataTable>						            	
						            </rich:column>
						        </rich:dataTable>				        
						    </h:column>
									    				    
						    <f:facet name="footer">
								<rich:datascroller id="dsEixo" ajaxSingle="false"/>
							</f:facet>
						    
						</rich:dataTable>
					</h:panelGroup>		
					
					
					<!-- FIM PANEL DE AGRUPAMENTO POR EIXO (REALIZADAS) -->
					
					
						
					<!-- PANEL DE AGRUPAMENTO POR PACIENTE (REALIZADAS) -->
					
					<h:panelGroup layout="block" id="panelTableRealizadas" rendered="#{farmaciaForm.tpAgrupamento == 2}">
				   		<rich:dataTable style="width: 100%; background-color:#F1F1F1;"	   					
				   					    value="#{farmaciaForm.listaPacienteRealizada}"
				   					      var="listaRealizada"
				   					     rows="15"
				   					       id="listaRealizada"
			   					     reRender="dsRealizada">
						    <f:facet name="header">
								<rich:columnGroup>
									<h:column>
										<h:outputText>Pacientes</h:outputText>
									</h:column>	
								</rich:columnGroup>
							</f:facet>
						    <h:column>
						        <h:panelGrid columns="2" rendered="#{listaRealizada.pacientePepBean.prescricaoPendente}">
						        	<h:graphicImage id="expandRealizada" value="IMG/expand.gif" onclick="toggleDetailsRealizada(this);"/> 			        	
						        	<a4j:commandLink styleClass="link" oncomplete="#{rich:component('panPaciente')}.show();" value="  #{listaRealizada.pacientePepBean.dscNome} - #{listaRealizada.pacientePepBean.numProntuario} ( #{listaRealizada.dscClinica} )" action="#{farmaciaForm.popularDadosPaciente}" reRender="panPaciente">
			            				<f:setPropertyActionListener target="#{farmaciaForm.isnPaciente}" value="#{listaRealizada.pacientePepBean.isnPaciente}" />
			            			</a4j:commandLink>
						        </h:panelGrid>
						        <rich:dataTable onRowMouseOver="this.style.backgroundColor='#FFFFCC'"
												 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
							                             style="width: 100%; display: none;"
						        							id="detailsRealizada" 
						        						 value="#{listaRealizada.listPrescricaoUpa}" 
						        						   var="detailRealizada">
						            <rich:column id="prsRealizada" style="width: 100%;" title="#{detailRealizada.title}">
						            	<h:selectBooleanCheckbox value="#{detailRealizada.prescricaoSelecionada}" rendered="#{detailRealizada.datAtendido == null}" style="width: 12px; height: 12px; margin-left: 25px;"/>			            	
							            <h:graphicImage id="vistoRealizada" value="IMG/visto.png" style="border:white; width: 12px; height: 12px; margin-left: 25px;" title="PRESCRIÇÃO REALIZADA" rendered="#{detailRealizada.datAtendido != null}"/>
						            	<h:panelGroup>
					            		<h:outputText value=" #{detailRealizada.dscPrescricao}" />
						            	</h:panelGroup>
						            </rich:column>
						            <rich:column style="width: 100%;">
						            	<a4j:commandButton image="IMG/bola_verde.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" style="border:0; width: 12px; height: 12px;" rendered="#{detailRealizada.totalPrescricaoFarm > 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
						            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detailRealizada.isnPrescricaoUpa}" />
						            	</a4j:commandButton>
						            	<a4j:commandButton image="IMG/bola_cinza.png" action="#{farmaciaForm.abrirPanelAviacao}" oncomplete="abrirPanelAviacao('#{farmaciaForm.mensagem}');" rendered="#{detailRealizada.totalPrescricaoFarm == 0}" title="ADICIONAR AVIAÇÃO" reRender="panAviacao">
						            		<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricao}" value="#{detailRealizada.isnPrescricaoUpa}" />
						            	</a4j:commandButton>
						            </rich:column>
						        </rich:dataTable>
						    </h:column>
						    
						    <f:facet name="footer">
								<rich:datascroller id="dsRealizada" ajaxSingle="false" />
							</f:facet>
						    
						</rich:dataTable>
					</h:panelGroup>
			       	
			       	<!-- FIM PANEL DE AGRUPAMENTO POR PACIENTE -->
			       	
			       	<a4j:support event="onlabelclick" action="#{farmaciaForm.executarPesquisaGeral}" reRender="panelTableEixo, panelTable, panelTableRealizadas, panelTableEixoRealizada"/>	       	
		       	</rich:tab>
	       	</rich:tabPanel>
		</h:panelGroup>
		
		<h:panelGroup rendered="#{farmaciaForm.tpAgrupamento == 3}">
			
			<rich:dataTable style="width: 100%;"
							   onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
								onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"					
				   					    value="#{farmaciaForm.listaUsoColetivo}"
				   					      var="listaUsoColetivo"
				   					     rows="15"
				   					       id="listaUsoColetivo"
			   					     reRender="dsUsoColetivo">
			    <f:facet name="header">
					<h:column>
						<h:outputText value="Uso Coletivo"/>
					</h:column>
				</f:facet>
				
			     <rich:column  style="width: 100%;">
			    	<h:outputText value="#{listaUsoColetivo.dscClinica}" />	
			    </rich:column>
			    	
			    <rich:column  style="width: 100%;">
					<a4j:commandButton image="IMG/bola_verde.png" action="#{farmaciaForm.abrirPanelAviacaoUsoColetivo}" style="border:0; width: 12px; height: 12px;" oncomplete="abrirPanelAviacaoUsoColetivo('#{farmaciaForm.mensagem}');" rendered="#{listaUsoColetivo.totalPrescricaoColetivo > 0}" reRender="panAviacaoUsoColetivo" title="ADICIONAR AVIAÇÃO">
						<f:setPropertyActionListener target="#{farmaciaForm.isnClinica}" value="#{listaUsoColetivo.isnClinica}" />
					</a4j:commandButton>
					<a4j:commandButton image="IMG/bola_cinza.png" action="#{farmaciaForm.abrirPanelAviacaoUsoColetivo}" oncomplete="abrirPanelAviacaoUsoColetivo('#{farmaciaForm.mensagem}');" reRender="panAviacaoUsoColetivo" rendered="#{listaUsoColetivo.totalPrescricaoColetivo == 0}" title="ADICIONAR AVIAÇÃO">
						<f:setPropertyActionListener target="#{farmaciaForm.isnClinica}" value="#{listaUsoColetivo.isnClinica}" />
					</a4j:commandButton>
			    </rich:column>
			    
			    <f:facet name="footer">
					<rich:datascroller id="dsUsoColetivo" ajaxSingle="false" />
				</f:facet>
				   
			</rich:dataTable>
			
			<div class="quadroAtendimento" style="height: 30px; width: 99.7%; text-align: center;">		       					    
						<a4j:commandButton value="Sincronizar" 
			       						  action="#{farmaciaForm.sincronizar}"
			       						 onclick="if (!confirm('Deseja realmente sincronizar os dados da farmácia?')) return false" 
			       						   style="margin-top:5px; margin-left: 10px;"
			       						   styleClass="botaoModal"
			       					  oncomplete="validar('#{farmaciaForm.mensagem}');"
			       					    reRender="formularioFarmacia"/>
		       	</div> 
			
		</h:panelGroup>
			       	
       	<a4j:status id="statusPanel"
			   onstart="Richfaces.showModalPanel('panelStatus');" 
			    onstop="#{rich:component('panelStatus')}.hide()">
		</a4j:status>
		
		<script>

		function abrirPanelAviacao(msg)
		{
			if(msg != '')
			{
				alert(msg);
			}
			else
			{
				Richfaces.showModalPanel('panAviacao');
			}
		}

		function abrirPanelAviacaoUsoColetivo(msg)
		{
			if(msg != '')
			{
				alert(msg);
			}
			else
			{
				Richfaces.showModalPanel('panAviacaoUsoColetivo');
			}
		}
		
		function toggleDetails(image) 
		{
		    var detailsId = image.id.substring(0, image.id.lastIndexOf(':')) + ':details';
		    var details = document.getElementById(detailsId);
		    if (details.style.display == 'none') 
			{
		        details.style.display = 'block';
		        image.src = 'IMG/collapse.gif';
		    } 
		    else 
			{
		        details.style.display = 'none';
		        image.src = 'IMG/expand.gif';
		    }
		}

		function toggleDetailsRealizada(image) 
		{
		    var detailsId = image.id.substring(0, image.id.lastIndexOf(':')) + ':detailsRealizada';
		    var details = document.getElementById(detailsId);
		    if (details.style.display == 'none') 
			{
		        details.style.display = 'block';
		        image.src = 'IMG/collapse.gif';
		    } 
		    else 
			{
		        details.style.display = 'none';
		        image.src = 'IMG/expand.gif';
		    }
		}
		
		function validar(msg)
		{
			if(msg != '')
			{
				alert(msg);
			}
		}

		function toggleDetailsEixo(image) 
		{
		    var detailsId = image.id.substring(0, image.id.lastIndexOf(':')) + ':detailEixo';
		    var details = document.getElementById(detailsId);
		    if (details.style.display == 'none') 
			{
		        details.style.display = 'block';
		        image.src = 'IMG/collapse.gif';
		    } 
		    else 
			{
		        details.style.display = 'none';
		        image.src = 'IMG/expand.gif';
		    }
		}

		function toggleDetailsEixoSub(image) 
		{
		    var detailsId = image.id.substring(0, image.id.lastIndexOf(':')) + ':detailEixoSub';
		    var details = document.getElementById(detailsId);
		    if (details.style.display == 'none') 
			{
		        details.style.display = 'block';
		        image.src = 'IMG/collapse.gif';
		    } 
		    else 
			{
		        details.style.display = 'none';
		        image.src = 'IMG/expand.gif';
		    }
		}

		function toggleDetailsEixoRealizada(image) 
		{
		    var detailsId = image.id.substring(0, image.id.lastIndexOf(':')) + ':detailEixoRealizada';
		    var details = document.getElementById(detailsId);
		    if (details.style.display == 'none') 
			{
		        details.style.display = 'block';
		        image.src = 'IMG/collapse.gif';
		    } 
		    else 
			{
		        details.style.display = 'none';
		        image.src = 'IMG/expand.gif';
		    }
		}

		function toggleDetailsEixoSubRealizada(image) 
		{
		    var detailsId = image.id.substring(0, image.id.lastIndexOf(':')) + ':detailEixoSubRealizada';
		    var details = document.getElementById(detailsId);
		    if (details.style.display == 'none') 
			{
		        details.style.display = 'block';
		        image.src = 'IMG/collapse.gif';
		    } 
		    else 
			{
		        details.style.display = 'none';
		        image.src = 'IMG/expand.gif';
		    }
		}	
	</script>
	
	</h:form>
	
	
	<!--INICIO - PANEL INFORMANDO OS DADOS DO PACIENTE -->
	
	<rich:modalPanel id="panPaciente" autosized="false" width="600" height="300" resizeable="false" headerClass="headerPanel3">
		
    	<f:facet name="header">
			<h:panelGroup>
       			<h:outputText value="DADOS DO PACIENTE"></h:outputText>
       		</h:panelGroup>
    	</f:facet>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanel"/>
        		<rich:componentControl for="panPaciente" attachTo="fechaPanel" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
    	
    	<h:form id="formPaciente">
    	
    	
    		<fieldset class="font12">
				<legend><b>PACIENTE</b></legend>
				<table class="tabela">
					<tr>
						<td class="tdBranco" width="80%"><b>Prontuário: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.numProntuario}" /><b> - </b><h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.dscNome}"/>
						</td>
					</tr>
					<tr>
						<td class="tdBranco" width="80%"> <b>Data de Nascimento: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.datNascimento}" />
						</td>
					</tr>
					<tr>
						<td class="tdBranco" width="80%"><b>Sexo: </b>
							<h:outputText value="MASCULINO" rendered="#{farmaciaForm.objInternacao.pacientePepBean.isnSexo == 1}" />
							<h:outputText value="FEMININO" rendered="#{farmaciaForm.objInternacao.pacientePepBean.isnSexo == 3}" />
						</td>
					</tr>
					
					<tr>
						<td class="tdBranco" width="100%"><b>Nome da Mãe: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.dscMae}" />		
						</td>
					</tr>
					
					<tr>
						<td class="tdBranco" width="80%"><b>Identidade: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.numRG}"/>
							<b> Orgão: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.dscOrgaoEmissaoRg}" />
						</td>
					</tr>
					
					<tr>
						<td class="tdBranco" width="80%"><b>Admissão: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.pacientePepBean.datCadastro}" />
						</td>
					</tr>
				</table>
			</fieldset>
				
			<fieldset>
				<legend><b>LOCALIZAÇÃO/CONTATO</b></legend>
				<table class="tabela">	
					<tr>
						<td class="tdBranco" width="100%"><b>Endereço: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.dscEndereco}" />		
						</td>
					</tr>				
					<tr>
						<td class="tdBranco" width="100%"><b>CEP: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.numCep}" />		
						</td>
					</tr>
					<tr>
						<td class="tdBranco" width="100%"><b>Bairro: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.dscBairro}" />		
						</td>
					</tr>
					<tr>
						<td class="tdBranco" width="100%"><b>Telefone: </b>
							<h:outputText value="#{farmaciaForm.objInternacao.numDdd1} #{farmaciaForm.objInternacao.numTelefone1}" />		
						</td>
					</tr>
				</table>
			</fieldset>
    	
    	</h:form>
   	
		</rich:modalPanel>	
			
	<!--FIM - PANEL INFORMANDO OS DADOS DO PACIENTE -->
	
	
	
	
	<!--INICIO - PANEL DE AVIAÇÃO -->
	
	<rich:modalPanel id="panAviacao" autosized="false" width="1000" height="500" resizeable="false" headerClass="headerPanel3">
		
    	<f:facet name="header">
			<h:panelGroup>
       			<h:outputText value="AVIAÇÃO DA PRESCRIÇÃO"></h:outputText>
       		</h:panelGroup>
    	</f:facet>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanelAviacao"/>
        		<rich:componentControl for="panAviacao" attachTo="fechaPanelAviacao" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
    	
    	<h:form id="formAviacao">
    		<fieldset class="font12">
				<legend><b>DADOS GERAIS</b></legend>
				<table  class="tabela" width="100%;">
					<tr style="width: 100%;">
						<td width="13%">
							<b>Paciente: </b> 
						</td>
						<td>
							<h:outputText value="#{farmaciaForm.numProntuarioAviamento}" /> 
							<h:outputText value=" - #{farmaciaForm.dscPacienteAviamento}" />
						</td>
					</tr>
					<tr>
						<td>
							<b>Prescrição:</b> 
						</td>
						<td>
							<h:outputText value="#{farmaciaForm.dscPrescricaoAviamento}" />	
						</td>
					</tr>
					<tr>
						<td>
							<b>Eixo:</b> 
						</td>
						<td>
							<h:outputText value="#{farmaciaForm.dscEixoAviamento}" />	
						</td>
					</tr>
				</table>
			</fieldset>
	
			<br/>

    		<fieldset>
				<legend><b>AVIAR</b></legend>
				
				<table  class="tabela">
					<tr>
						<td width="13%">
							<b>Pesquisar por: </b> 
						</td>
						<td class="fonte12">
							<h:selectOneRadio value="#{farmaciaForm.tpPesquisaProduto}">
								<f:selectItem itemValue="1" itemLabel="CÓDIGO"/>
								<f:selectItem itemValue="2" itemLabel="DESCRIÇÃO"/>
								<f:selectItem itemValue="3" itemLabel="KIT"/>
								<a4j:support event="onclick" reRender="formAviacao, panProduto" action="#{farmaciaForm.selTpPesquisaProduto}"/>
							</h:selectOneRadio>							
						</td>
					</tr>
					
					<h:panelGroup rendered="#{farmaciaForm.tpPesquisaProduto != 3}">
					<tr>
						<td>
							<b>Produto: </b> 
						</td>
						<td>
							<h:panelGroup id="panProduto" layout="block">
								<h:inputText value="#{farmaciaForm.codProduto}" maxlength="10" onkeypress="return soNumero(event, this)" styleClass="campoTexto largura200" style="width: 200px;" id="codProduto" rendered="#{farmaciaForm.tpPesquisaProduto == 1}"/>
								<h:inputText value="#{farmaciaForm.dscProduto}" maxlength="300" onblur="upper(this);" styleClass="campoTexto largura200" style="width: 200px;" id="dscProduto" rendered="#{farmaciaForm.tpPesquisaProduto == 2}"/>
								<span style="width: 11px;">
									<a4j:commandButton image="IMG/imgFiltrar.gif" action="#{farmaciaForm.carregarProdutos}" reRender="panProduto"/>										
								</span>
								<h:selectOneMenu id="isnProduto" 
										 	  style="width: 550px"
										      value="#{farmaciaForm.objProduto}" converter="simpleIndexConverter">
										<f:selectItems var="o" itemValue="o" itemLabel="o.dscProduto" value="#{farmaciaForm.listProdutos}" />
								</h:selectOneMenu>
							</h:panelGroup>
						</td>
					</tr>
					</h:panelGroup>
					
					<h:panelGroup rendered="#{farmaciaForm.tpPesquisaProduto == 3}">
					<tr>
						<td>
							<b>Kit: </b> 
						</td>
						<td>
							<h:panelGroup id="panKit" layout="block">
								<h:inputText value="#{farmaciaForm.dscKit}" maxlength="300" onblur="upper(this);" styleClass="campoTexto largura200" style="width: 200px;" id="dscKit"/>
								<span style="width: 11px;">
									<a4j:commandButton image="IMG/imgFiltrar.gif" action="#{farmaciaForm.carregarKits}" reRender="panKit"/>										
								</span>
								<h:selectOneMenu id="isnKit" 
										 	  style="width: 550px"
										      value="#{farmaciaForm.objKit}" converter="simpleIndexConverter">
										<f:selectItems var="o" itemValue="o" itemLabel="o.dscKit" value="#{farmaciaForm.listKits}" />
								</h:selectOneMenu>
							</h:panelGroup>
						</td>
					</tr>
					</h:panelGroup>
					
					<h:panelGroup rendered="#{farmaciaForm.tpPesquisaProduto != 3}">
					<tr>
						<td>
							<b>Quantidade: </b> 
						</td>
						<td>
							<h:inputText value="#{farmaciaForm.objPrescricaoUpaFarm.qtdEntregue}" onkeypress="return soNumero(event, this)" maxlength="5" styleClass="campoTexto largura200" style="width: 100px;" id="qtdEntregue"/>							
						</td>
					</tr>
					</h:panelGroup>
				</table>
			
				<h:panelGroup style="width: 100%;">
		    		<div style="width: 100%;" align="center">
		    			<a4j:commandButton value="Adicionar" styleClass="botaoModal" action="#{farmaciaForm.adicionarPrescricaoUpaFarm}" reRender="formAviacao" oncomplete="validar('#{farmaciaForm.mensagem}');"/>
		    		</div>
	    		</h:panelGroup>
    		
			</fieldset>			

			<br/>

			<rich:dataTable id="listaAviacao"
					onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
					onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
					value="#{farmaciaForm.listaAviacao}" 
					var="rst" 
					rows="5"
					rowKeyVar="linha" 
					style="width: 100%;"
					reRender="dsAviacao"
					rendered="#{not empty farmaciaForm.listaAviacao}">
				<f:facet name="header">
					<rich:columnGroup>
						<rich:column style="text-align: center;width: 10%;">
							<h:outputText value="Código"/>
						</rich:column>
						<rich:column style="text-align: center;width: 78%;">
							<h:outputText value="Descrição" />
						</rich:column>
						<rich:column style="text-align: center;width: 9%;">
							<h:outputText value="Quantidade" />
						</rich:column>
						<rich:column style="text-align: center;width: 3%;" />
					</rich:columnGroup>
				</f:facet>
				
				<rich:column align="right">
					<h:outputText value="#{rst.produtoBean.isnProduto}" />	
				</rich:column>
				
				<rich:column>
					<h:outputText value="#{rst.produtoBean.dscProduto}" />
				</rich:column>
				
				<rich:column align="right">
					<h:outputText value="#{rst.qtdEntregue}" />
				</rich:column>
				
				<rich:column align="center">
					<a4j:commandButton image="IMG/icone_excluir.gif" action="#{farmaciaForm.excluirPrescricaoUpaFarm}" reRender="formAviacao" oncomplete="validar('#{farmaciaForm.mensagem}');" rendered="#{rst.isnSincFarm == null or rst.isnPrescricaoUpaFarm == null}" style="border:white; width: 12px; height: 12px;" title="INATIVAR" onclick="if (!confirm('Deseja realmente excluir este produto?')) return false">
						<f:setPropertyActionListener target="#{farmaciaForm.isnProduto}" value="#{rst.produtoBean.isnProduto}" />
						<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricaoUpaFarm}" value="#{rst.isnPrescricaoUpaFarm}" />
					</a4j:commandButton>
				</rich:column>

				<f:facet name="footer">
					<rich:datascroller id="dsAviacao" ajaxSingle="false" />
				</f:facet>
			</rich:dataTable>
    	
    		<br/>
    	
    		<h:panelGroup style="width: 100%;">
	    		<div style="width: 100%;" align="center">
	    			<a4j:commandButton value="Concluir Aviação" styleClass="botaoModal" oncomplete="validar('#{farmaciaForm.mensagem}'); #{rich:component('panAviacao')}.hide();" action="#{farmaciaForm.concluirAviacao}" reRender="formularioFarmacia"/>
	    		</div>
    		</h:panelGroup>
    	</h:form>
   	
		</rich:modalPanel>	
			
	<!--FIM - PANEL DE AVIAÇÃO -->
	
	
	
	
	<!--INICIO - PANEL DE USO COLETIVO -->
	
	<rich:modalPanel id="panAviacaoUsoColetivo" autosized="false" width="1000" height="500" resizeable="false" headerClass="headerPanel3">
		
    	<f:facet name="header">
			<h:panelGroup>
       			<h:outputText value="AVIAÇÃO DO USO COLETIVO"></h:outputText>
       		</h:panelGroup>
    	</f:facet>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanelUsoColetivo"/>
        		<rich:componentControl for="panAviacaoUsoColetivo" attachTo="fechaPanelUsoColetivo" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
    	
    	<h:form id="formUsoColetivo">
    		<fieldset class="font12">
				<legend><b>DADOS GERAIS</b></legend>
				<table  class="tabela" width="100%;">
					<tr style="width: 100%;">
						<td width="13%">
							<b>Eixo do Paciente: </b> 
						</td>
						<td>
							<h:outputText value="#{farmaciaForm.dscEixoUsoColetivo}" />						
						</td>
					</tr>					
				</table>
			</fieldset>
	
			<br/>

    		<fieldset>
				<legend><b>AVIAR</b></legend>
				
				<table  class="tabela">
					<tr>
						<td width="13%">
							<b>Pesquisar por: </b> 
						</td>
						<td class="fonte12">
							<h:selectOneRadio value="#{farmaciaForm.tpPesquisaProdutoUsoColetivo}">
								<f:selectItem itemValue="1" itemLabel="CÓDIGO"/>
								<f:selectItem itemValue="2" itemLabel="DESCRIÇÃO"/>
								<f:selectItem itemValue="3" itemLabel="KIT"/>
								<a4j:support event="onclick" reRender="formUsoColetivo, panProdutoUsoColetivo" action="#{farmaciaForm.selTpPesquisaProdutoUsoColetivo}"/>
							</h:selectOneRadio>							
						</td>
					</tr>
					
					<h:panelGroup rendered="#{farmaciaForm.tpPesquisaProdutoUsoColetivo != 3}">
					<tr>
						<td>
							<b>Produto: </b> 
						</td>
						<td>
							<h:panelGroup id="panProdutoUsoColetivo" layout="block">
								<h:inputText value="#{farmaciaForm.codProdutoUsoColetivo}" maxlength="10" onkeypress="return soNumero(event, this)" styleClass="campoTexto largura200" style="width: 200px;" id="codProdutoUsoColetivo" rendered="#{farmaciaForm.tpPesquisaProdutoUsoColetivo == 1}"/>
								<h:inputText value="#{farmaciaForm.dscProdutoUsoColetivo}" maxlength="300" onblur="upper(this);" styleClass="campoTexto largura200" style="width: 200px;" id="dscProdutoUsoColetivo" rendered="#{farmaciaForm.tpPesquisaProdutoUsoColetivo == 2}"/>
								<span style="width: 11px;">
									<a4j:commandButton image="IMG/imgFiltrar.gif" action="#{farmaciaForm.carregarProdutosUsoColetivo}" reRender="panProdutoUsoColetivo"/>										
								</span>
								<h:selectOneMenu id="isnProdutoUsoColetivo" 
										 	  style="width: 550px"
										      value="#{farmaciaForm.objProdutoUsoColetivo}" converter="simpleIndexConverter">
										<f:selectItems var="o" itemValue="o" itemLabel="o.dscProdutoUsoColetivo" value="#{farmaciaForm.listProdutosUsoColetivo}" />
								</h:selectOneMenu>
							</h:panelGroup>
						</td>
					</tr>
					</h:panelGroup>
					
					<h:panelGroup rendered="#{farmaciaForm.tpPesquisaProdutoUsoColetivo == 3}">
					<tr>
						<td>
							<b>Kit: </b> 
						</td>
						<td>
							<h:panelGroup id="panKitUsoColetivo" layout="block">
								<h:inputText value="#{farmaciaForm.dscKitUsoColetivo}" maxlength="300" onblur="upper(this);" styleClass="campoTexto largura200" style="width: 200px;" id="dscKitUsoColetivo"/>
								<span style="width: 11px;">
									<a4j:commandButton image="IMG/imgFiltrar.gif" action="#{farmaciaForm.carregarKitsUsoColetivo}" reRender="panKitUsoColetivo"/>										
								</span>
								<h:selectOneMenu id="isnKitUsoColetivo" 
										 	  style="width: 550px"
										      value="#{farmaciaForm.objKitUsoColetivo}" converter="simpleIndexConverter">
										<f:selectItems var="o" itemValue="o" itemLabel="o.dscKitUsoColetivo" value="#{farmaciaForm.listKitsUsoColetivo}" />
								</h:selectOneMenu>
							</h:panelGroup>
						</td>
					</tr>
					</h:panelGroup>
					
					<h:panelGroup rendered="#{farmaciaForm.tpPesquisaProdutoUsoColetivo != 3}">
					<tr>
						<td>
							<b>Quantidade: </b> 
						</td>
						<td>
							<h:inputText value="#{farmaciaForm.objPrescricaoUpaUsoColetivo.qtdEntregue}" onkeypress="return soNumero(event, this)" maxlength="5" styleClass="campoTexto largura200" style="width: 100px;" id="qtdEntregueUsoColetivo"/>							
						</td>
					</tr>
					</h:panelGroup>
				</table>
			
				<h:panelGroup style="width: 100%;">
		    		<div style="width: 100%;" align="center">
		    			<a4j:commandButton value="Adicionar" styleClass="botaoModal" action="#{farmaciaForm.adicionarPrescricaoUpaUsoColetivo}" reRender="formUsoColetivo" oncomplete="validar('#{farmaciaForm.mensagem}');"/>
		    		</div>
	    		</h:panelGroup>
    		
			</fieldset>			

			<br/>

			<rich:dataTable id="listaAviacaoUsoColetivo"
					onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
					onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
					value="#{farmaciaForm.listaAviacaoUsoColetivo}" 
					var="rstUsoColetivo" 
					rows="5"
					rowKeyVar="linhaUsoColetivo" 
					style="width: 100%;"
					reRender="dsAviacaoUsoColetivo"
					rendered="#{not empty farmaciaForm.listaAviacaoUsoColetivo}">
				<f:facet name="header">
					<rich:columnGroup>
						<rich:column style="text-align: center;width: 10%;">
							<h:outputText value="Código"/>
						</rich:column>
						<rich:column style="text-align: center;width: 78%;">
							<h:outputText value="Descrição" />
						</rich:column>
						<rich:column style="text-align: center;width: 9%;">
							<h:outputText value="Quantidade" />
						</rich:column>
						<rich:column style="text-align: center;width: 3%;" />
					</rich:columnGroup>
				</f:facet>
				
				<rich:column align="right">
					<h:outputText value="#{rstUsoColetivo.produtoBean.isnProduto}" />	
				</rich:column>
				
				<rich:column>
					<h:outputText value="#{rstUsoColetivo.produtoBean.dscProduto}" />
				</rich:column>
				
				<rich:column align="right">
					<h:outputText value="#{rstUsoColetivo.qtdEntregue}" />
				</rich:column>
				
				<rich:column align="center">
					<a4j:commandButton image="IMG/icone_excluir.gif" action="#{farmaciaForm.excluirPrescricaoUpaUsoColetivo}" reRender="formUsoColetivo" oncomplete="validar('#{farmaciaForm.mensagem}');" rendered="#{rstUsoColetivo.isnSincFarm == null or rstUsoColetivo.isnPrescricaoUpaColetivo == null}" style="border:white; width: 12px; height: 12px;" title="INATIVAR" onclick="if (!confirm('Deseja realmente excluir este produto?')) return false">
						<f:setPropertyActionListener target="#{farmaciaForm.isnProdutoUsoColetivo}" value="#{rstUsoColetivo.produtoBean.isnProduto}" />
						<f:setPropertyActionListener target="#{farmaciaForm.isnPrescricaoUpaUsoColetivo}" value="#{rstUsoColetivo.isnPrescricaoUpaColetivo}" />
					</a4j:commandButton>
				</rich:column>

				<f:facet name="footer">
					<rich:datascroller id="dsAviacaoUsoColetivo" ajaxSingle="false" />
				</f:facet>
			</rich:dataTable>
    	
    		<br/>
    	
    		<h:panelGroup style="width: 100%;">
	    		<div style="width: 100%;" align="center">
	    			<a4j:commandButton value="Concluir Aviação" styleClass="botaoModal" oncomplete="validar('#{farmaciaForm.mensagem}'); #{rich:component('panAviacaoUsoColetivo')}.hide();" action="#{farmaciaForm.concluirAviacaoUsoColetivo}" reRender="formularioFarmacia"/>
	    		</div>
    		</h:panelGroup>
    	</h:form>
   	
		</rich:modalPanel>	
			
	<!--FIM - PANEL DE USO COLETIVO -->
	
	
	
	</ui:define>
	
</ui:composition>

</html>