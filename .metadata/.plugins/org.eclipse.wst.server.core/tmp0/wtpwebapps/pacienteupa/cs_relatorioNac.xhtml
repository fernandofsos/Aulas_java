<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
					  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">

<ui:composition template="template.xhtml">	
	<ui:define name="conteudo">
		<a4j:keepAlive beanName="internacaoForm" />

<h:form id="cdInternacao" >
   
   <h3>RELATÓRIOS</h3>
   <div class="quadroPaciente">
   	  <label>Relatório de acompanhantes nutrição:</label>	
	  <h:commandButton id="btnNutricao"  value="Impressão"
     	  			   onclick="gerarRelatorio(1,'relNutricaoAcompanhante')" />
   </div>
   
   <div class="quadroPaciente">
		<label>Relatório paciente internados:</label>	
	    <h:selectOneMenu id="dropDownClinica" 
	                       style="font-size: 12px; height: 20px; width: 200px;  margin-right: 5px"
		    			   value="#{internacaoForm.isnClinicaInternados}">
						<f:selectItems value="#{internacaoForm.sliClinica}" />
		</h:selectOneMenu>		
		<a4j:commandButton id="btnInternados" 
				  	     value="Impressão"
				  	     oncomplete="gerarRelatorio(#{internacaoForm.isnClinicaInternados},'relPacientesInternados')">
		</a4j:commandButton>
   </div>
   	
   <div class="quadroPaciente">
   	  <label>Relatório acompanhante:</label>	
	  <h:selectOneMenu id="dropDownClinica02" 
	                   style="font-size: 12px; height: 20px; width: 200px;  margin-right: 5px"
		   			   value="#{internacaoForm.isnClinicaAcompanhante}">
				<f:selectItems value="#{internacaoForm.sliClinica}" />
	  </h:selectOneMenu>		
	  <a4j:commandButton id="btnAcompanhante" 
			  	      value="Impressão"
			  	      oncomplete="gerarRelatorio(#{internacaoForm.isnClinicaAcompanhante},'relAcompanhante')" >
	  </a4j:commandButton>	
   </div>        
     
   <script type="text/javascript">
	    var corOriginal;
		function gerarRelatorio(p1,p10) {
			window.open("http://10.1.1.55:8080/relatorios/GeralRelNac?p1=" + p1 + "&amp;p10=" + p10,"relatorio","width=800,height=600");
		}
		 
		function errosPagina(erro) {
		   if (erro == 1) {
		      alert("ATENÇÃO: Paciente já possui uma internação em aberto!");
		      return false;
		   } 
		}
		
	</script>              
	  							
</h:form>
</ui:define>
</ui:composition>
</html>