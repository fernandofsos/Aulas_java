<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
					  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:rich="http://richfaces.org/rich"
        xmlns:c="http://java.sun.com/jstl/core">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!-- 	<meta http-equiv="X-UA-Compatible" content="IE=edge"/> -->
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<script type="text/javascript" src="SCRIPTS/mascara.js"></script>
	<script type="text/javascript" src="SCRIPTS/maskedinput-1.1.4.js"></script>
	<script type="text/javascript" src="SCRIPTS/rotinasComuns.js"></script>
	<script type="text/javascript" src="SCRIPTS/custom.js"></script>
	<link rel="stylesheet" type="text/css" href="CSS/layout.css" />
	<link rel="stylesheet" type="text/css" href="CSS/paciente.css" />
	
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries X -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="SCRIPTS/html5shiv.min.js"></script>
      <script src="SCRIPTS/respond.min.js"></script>
    <![endif]-->
	<script src="js/dicomtixIntegracao.min.js"></script>
	<script>
	<!--
		function setup(ed){
			ed.onKeyUp.add(
				function (ed, evt) {
					document.getElementById('deslen').value = tinyMCE.activeEditor.getContent().length;
					if(tinyMCE.activeEditor.getContent().length > 3001){
						tinyMCE.activeEditor.setContent(tinyMCE.activeEditor.getContent().substring(0,3001));
					}
				}
			);
		};
	//-->
	</script>
	<style>
	.rdSimNao label {font-size:1em;}
	.rich-calendar-input {
		    font-family: Arial !important;
		    font-size: 11px !important;
		    width: 100px;
	}
	label { font-size: 12px; }
	
	</style>
	
</head>
<body id="bodyp" onload="if (#{emergenciaForm.abrePopupSepse()}){ Richfaces.showModalPanel('#{emergenciaForm.nomePanel}'); }">
		<a4j:keepAlive beanName="emergenciaForm" />
		<a4j:keepAlive beanName="prescricaoForm" />
		<a4j:keepAlive beanName="exameForm" />
		<a4j:keepAlive beanName="templateForm" />
		<a4j:keepAlive beanName="internacaoDocTipoForm" />
		<a4j:keepAlive beanName="assistenteSocialForm" />
		<a4j:keepAlive beanName="aprazamentoPepiForm" />
		<a4j:keepAlive beanName="prescricaoPadraoForm" />
		
		<t:saveState value="#{exameForm.listExame}" />
		<t:saveState value="#{exameForm.listExameSelecionado}" />
		
		<ui:param name="isJaAtendido" value="#{emergenciaForm.objIa.isnInternacaoAtendimento.intValue() > 0}" />
		<ui:param name="isMedicoAtend" value="#{emergenciaForm.objIa.profissional.isnConselho.intValue() == 6}" />
		<ui:param name="isOdontoAtend" value="#{emergenciaForm.objIa.profissional.isnConselho.intValue() == 9}" />
		<ui:param name="isUsuarioLogadoMedico" value="#{emergenciaForm.isUsuarioLogadoMedico()}" />
		<ui:param name="isUsuarioLogadoOdonto" value="#{emergenciaForm.isUsuarioLogadoOdonto()}" />
		<ui:param name="isUsuarioLogadoEnfermeiro" value="#{emergenciaForm.isUsuarioLogadoEnfermeiro()}" />
		<ui:param name="possuiAtendMedico" value="#{emergenciaForm.objIa.flgMed == 'S'}" />
		<ui:param name="possuiAtendOdonto" value="#{emergenciaForm.objIa.flgOdonto == 'S'}" />
		
		<rich:modalPanel id="panelStatus" autosized="true">  
	 		<h:panelGrid columns="2"> 
	 			<h:graphicImage url="IMG/ajax-loader.gif" style="border:0px"/> 
	 			<h:outputText value="Carregando..." />
	 		</h:panelGrid> 
		</rich:modalPanel>


	<rich:modalPanel id="panelInfeccao" width="850" autosized="true" headerClass="headerPanel3">
			<f:facet name="header">
				<h:outputText value="SUSPEITA DE SEPSE"></h:outputText>		
			</f:facet>  
			<f:facet name="controls">
				<h:panelGroup rendered="#{emergenciaForm.mostrarBotaoCancelamentoSepse}">
					<h:graphicImage value="IMG/fechar.png" id="hidelinkInf" action="#{emergenciaForm.limparSepse}"/>
					<rich:componentControl for="panelInfeccao" attachTo="hidelinkInf" 
					operation="hide" event="onclick" action="#{emergenciaForm.carregarProtocoloSepse}" 
					reRender="tblSepse, tblProtocoloSepse"/>
				</h:panelGroup>
			</f:facet>			
	    	
	    	<div style="height: 470px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
	    		<h:form id="formInfeccao">
	    		
	    		<h:panelGroup rendered="#{emergenciaForm.viewPager == 0}">
	    			<h:outputText style="font-size:12px;font-weight:bold" value="Sinais de SIRS identificados na classificação de Risco"/> <br/>
	    			<ui:repeat var="item" value="#{emergenciaForm.lstSinaisSirsRisco}">
       				  <h:outputText style="font-size:11px;" value="#{item.dscSinaisSirs}" /> <br/>
   					</ui:repeat>
   				    <br/>						
					<h:panelGrid columns="6">
						<h:panelGroup layout="block">
						<h:outputLabel value="SatO2: " />
						<h:outputText value="#{emergenciaForm.paciente.dscSato2}" styleClass="campoWidth55Size09em" />
						</h:panelGroup>
						
						<h:panelGroup layout="block">
						<h:outputLabel value="Glasgow: " />
						<h:outputText value="#{emergenciaForm.paciente.dscGlassgow}" styleClass="campoWidth55Size09em" />
						</h:panelGroup>
						
						<h:panelGroup layout="block">
						<h:outputLabel value="Temperatura: " />
						<h:outputText value="#{emergenciaForm.paciente.dscTemperatura}" styleClass="campoWidth55Size09em" />
						</h:panelGroup>

						<h:panelGroup layout="block">
						<h:outputLabel value="Glicemia: " />
						<h:outputText value="#{emergenciaForm.paciente.dscGlicemia}" styleClass="campoWidth55Size09em" />
						</h:panelGroup>
					
						<h:panelGroup layout="block">
						<h:outputLabel value="Régua Dor: " />
						<h:outputText value="#{emergenciaForm.paciente.dscReguaDor}" styleClass="campoWidth55Size09em" />
						</h:panelGroup>
						
						<h:panelGroup layout="block">
						<h:outputLabel value="FC: " />
						<h:outputText value="#{emergenciaForm.paciente.dscFc}" styleClass="campoWidth55Size09em" />
						</h:panelGroup>
					</h:panelGrid>
   						<br/>
	    				<h:outputText style="font-size:12px;font-weight:bold" value="HDA:"/> <br/>
							<h:inputTextarea value="#{emergenciaForm.protocoloSepse.dscHda}"
							 styleClass="campoObservacao" style="width: 98%; height:120px;" 
							  onkeyup="limitarTamanhoCampo(this,1000)" onblur="upper(this);" />
				    	<h:outputText style="font-size:12px;font-weight:bold" value="Continua com a suspeita de infecção?"/> <br/>
				    	<h:selectOneRadio id="selSepse" layout="pageDirection" value="#{emergenciaForm.protocoloSepse.suspeitaInfeccao}">
					        <f:selectItem itemLabel="Sim" itemValue="#{true}" />
					        <f:selectItem itemLabel="Não" itemValue="#{false}" />
					        <a4j:support event="onclick" reRender="formInfeccao:btnOk1" actionListener="#{emergenciaForm.verificarStatusEtapa}"/>
					    </h:selectOneRadio>
				    </h:panelGroup>
				    
	    			<h:panelGroup rendered="#{emergenciaForm.viewPager == 1}">
	    				<h:outputText style="font-size:12px;font-weight:bold" value="Paciente com sinais de alerta para infecção!"/><br/><br/>
	    				<h:outputText style="font-size:12px;" value="Verifique a história sugestiva de:"/><br/><br/>
					    <h:selectOneRadio id="selectTela1" layout="pageDirection" value="#{emergenciaForm.protocoloSepse.codTela1}">
					        <f:selectItem itemLabel="Infecção Respiratória" itemValue="1" />
					        <f:selectItem itemLabel="Infecção Urinária" itemValue="2" />
					        <f:selectItem itemLabel="Infecção Abdominal Aguda" itemValue="3" />
					        <f:selectItem itemLabel="Infecção de Pele e Partes Moles" itemValue="4" />
					        <f:selectItem itemLabel="S/ foco Definido" itemValue="5" />
					        <!--  f:selectItem itemLabel="Não tem história sugestiva de infecção" itemValue="6" /-->
					        <f:selectItem itemLabel="Infecção do Sistema Nervoso Central (SNC)" itemValue="7" />
					        <f:selectItem itemLabel="OUTROS" itemValue="8" />
					        <a4j:support event="onclick" reRender="formInfeccao:btnOk1, tela1Outros" actionListener="#{emergenciaForm.verificarStatusEtapa}"/>
					    </h:selectOneRadio><br/>
					    <h:inputTextarea
					    	id="tela1Outros"
					    	disabled="#{emergenciaForm.protocoloSepse.codTela1 != 8}"
					    	value="#{emergenciaForm.protocoloSepse.outrosSinaisAlerta}"
							styleClass="campoObservacao" style="width: 98%; height:120px;" 
							onkeyup="verificaTamanhoIgnoreQuebraLinha('formInfeccao',this, 500, 'lblOutrosId', false);" onblur="upper(this);"
						/>
						<br/><label id="lblOutrosId">(500 caracteres restantes)</label>
				    </h:panelGroup>

				<h:panelGroup id="viewPage2" rendered="#{emergenciaForm.viewPager == 2}">
					<h:outputText style="font-size:12px;font-weight:bold"
						value="Paciente apresenta sinais de disfunção orgânica ou choque séptico?" />
					<br /><br />
					<ui:repeat var="item" value="#{emergenciaForm.lstProtocoloSepseSinais}">
						<h:selectBooleanCheckbox style="margin-right:6px;" value="#{emergenciaForm.checkMapProtocoloSepseSinais[item]}" >
						     <a4j:support execute="@this" event="onclick" reRender="formInfeccao:viewPage2,formInfeccao:btnOk1" actionListener="#{emergenciaForm.adicionarSinaisResp}">
						     	<f:attribute name="sinalClicado" value="#{item.numOrdem}" />
						     	<f:setPropertyActionListener value="#{item}" target="#{emergenciaForm.sinalClicado}" />
						     </a4j:support>
						</h:selectBooleanCheckbox>
						<h:outputText style="font-size:12px;" value="#{item.dscProtocoloSepseSinais}" />
						<br />
					</ui:repeat><br />
				</h:panelGroup>

				<h:panelGroup rendered="#{emergenciaForm.viewPager == 3}">
					<h:outputText style="font-size:14px; font-weight: bold;"
						value="Abertura do Protocolo SEPSE" />
					<br />
					<br />
					<fieldset style="font-size: 11px;">
						<h:outputText style="font-size:11px;" value="PA *" />
						<h:inputText value="#{emergenciaForm.protocoloSepse.dscPa}" onkeypress="return soNumero(event, this)"
							maxlength="3" style="width:30px;" styleClass="campoTextoSemColar" /> 
						<h:outputText value=" X "/> 
						<h:inputText value="#{emergenciaForm.protocoloSepse.dscPaFinal}" onkeypress="return soNumero(event, this)"
							maxlength="3" style="width:30px;" styleClass="campoTextoSemColar" />
						<h:outputText value=" mmHg"/>
						<rich:spacer width="10" />
						<h:outputText style="font-size:11px;" value="Peso *" />
						<h:inputText maxlength="6"	value="#{emergenciaForm.protocoloSepse.peso}"
							onkeydown="mascara(this,decimal)" size="5" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px">
							<f:convertNumber pattern="#0.00" minFractionDigits="2" />
							<a4j:support event="onblur"	action="#{emergenciaForm.calcularVolume}" reRender="formInfeccao:vol" />
						</h:inputText>
					</fieldset>
					<br/>
					<fieldset style="font-size: 11px;">
						<legend>
							<h:outputText style="font-size:12px;font-weight:bold" value="Prescrição Médica:" /> 
						</legend>

						<h:outputText style="font-size:12px;font-weight:bold" value="Antibióticos" /> <h:outputLabel style="font-size: 11px;" value=" *"/>
						<br />
						
						<h:selectOneRadio id="selRadioFocoSepse"  layout="lineDirection" value="#{emergenciaForm.isnFocoSepse}">
							<f:selectItems value="#{emergenciaForm.sliFocoSepse}" />
							<a4j:support event="onclick" ajaxSingle="true" reRender="formInfeccao,selectFocoSepse" action="#{emergenciaForm.buscarMedicacoesPorFoco()}"  /> 
						</h:selectOneRadio>
						<br />
						
						<h:selectOneMenu id="selectFocoSepse"
							style="width: 280px;margin-right:10px"
							value="#{emergenciaForm.isnFocoPrescricaoSepse}">
							<f:selectItems value="#{emergenciaForm.sliFocoPrescricaoSepse}" />
							<a4j:support event="onchange" ajaxSingle="true"	reRender="formInfeccao,selRadioMed"
								actionListener="#{emergenciaForm.selectFoco}" />
						</h:selectOneMenu>
	
						<h:selectOneMenu id="selectTipoSepse" style="width: 280px; margin-right:10px" disabled="#{emergenciaForm.sliTipoFoco.size() == 1}"
							value="#{emergenciaForm.isnTipoFoco}" >
							<f:selectItems value="#{emergenciaForm.sliTipoFoco}" />
							<a4j:support event="onchange" ajaxSingle="true"	reRender="formInfeccao"
								actionListener="#{emergenciaForm.selectTipoFoco}" />
						</h:selectOneMenu>
						
						<h:selectOneMenu id="selectSubTipoSepse" style="width: 200px" rendered="#{emergenciaForm.isnFocoPrescricaoSepse == 1 and emergenciaForm.isnTipoFoco == 11}"
							value="#{emergenciaForm.isnSubTipoFoco}" >
							<f:selectItems value="#{emergenciaForm.sliSubTipoFoco}" />
							<a4j:support event="onchange" ajaxSingle="true"	reRender="formInfeccao:selRadioMed"
								actionListener="#{emergenciaForm.selectSubTipoFoco}" />
						</h:selectOneMenu>
						<br/>
						<rich:spacer height="8"/>
						
						<h:selectOneRadio id="selRadioMed"  layout="pageDirection" value="#{emergenciaForm.indexList}">
							<f:selectItems value="#{emergenciaForm.sliMedicamentosAgrupados}" />
							<a4j:support event="onclick" actionListener="#{emergenciaForm.selectMedicamentos}" />
						</h:selectOneRadio>
	
						<br/>

						<h:outputText style="font-size:12px;" value="Volume: *" />
						<h:selectOneMenu id="selectVolumeSepse"
							style="width: 280px;margin-right:10px"
							value="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse}">
							<f:selectItems value="#{emergenciaForm.sliVolumeSepse}" />
							<a4j:support event="onchange" ajaxSingle="true"	reRender="formInfeccao,selRadioMed"
								actionListener="#{emergenciaForm.resetarVolume}" />
						</h:selectOneMenu>
						<h:outputLabel style="font-size: 11px;" value="*" rendered="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 1 or emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 2}"/>
						<h:inputText maxlength="7" id="vol" styleClass="campoTextoSemColar"
							value="#{emergenciaForm.protocoloSepse.volume}"
							onkeypress="return soNumero(event, this)"
							rendered="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 1 or emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 2}"
							style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px"
							disabled="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 1}">
						</h:inputText>
						<h:outputText style="font-size:11px;" value="ml de soro fisiológico 0,9% fazer rápido." rendered="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 1 or emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 2}"/>
						<br />
						<rich:spacer height="8"/>
						<legend>
							<h:outputText style="font-size:12px;font-weight:bold" value="Justificativa" rendered="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 2 or emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 4}"/> <h:outputLabel style="font-size: 11px;" value="*" rendered="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 2 or emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 4}"/>
						</legend>
						<a4j:outputPanel rendered="#{emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 2 or emergenciaForm.protocoloSepse.isnVolumePrescricaoSepse == 4}">
							<h:inputTextarea
								value="#{emergenciaForm.justificativaRepoVolemica.dscJustificativaReposicaoVolemica}"
								id="inputOutros" styleClass="campoTexto"
								style="width:690px;height:71px;"
								onkeyup="verificaTamanho('formInfeccao',this, 100, 'lblOutrosMedico');"
								onblur="verificaTamanho('formInfeccao',this, 100, 'lblOutrosMedico');upper(this);" />
							<br /> <label id="lblOutrosMedico" class=" campoTextoAtendMedic">(100 caracteres restantes)</label>
						</a4j:outputPanel>
					</fieldset>
					<br/>
					<div align="center">
					<a4j:commandButton value="Novo Exame"
						action="#{exameForm.prepararPesquisaExames}"
						oncomplete="Richfaces.showModalPanel('panelExameSepse'); document.getElementById('formInfeccao:btnPesquisaExameHide').click();"
						reRender="panelExameSepse">
						<f:setPropertyActionListener value="" target="#{emergenciaForm.peso}" />
						<f:setPropertyActionListener value="" target="#{emergenciaForm.altura}" />
						<f:setPropertyActionListener value="" target="#{emergenciaForm.flgGestante}" />
						<f:setPropertyActionListener value="" target="#{emergenciaForm.dscMedicamentos}" />
					</a4j:commandButton>
					</div>
					<br/>
						<rich:spacer height="5"/>
					<a4j:commandButton id="btnPesquisaExameHide" value="Pesquisar"
						action="#{exameForm.pesquisarExames}" style="display:none;" reRender="formularioExameSepse"
						oncomplete="document.getElementById('formularioExameSepse:confirmarInserirExameSepse').disabled=false;">
						<f:setPropertyActionListener value="#{emergenciaForm.isnSepsePaciente}"	target="#{exameForm.isnSepse}" />
					</a4j:commandButton>

					<rich:dataTable id="tblEmergenciaSepse"	value="#{emergenciaForm.lstExameSolicSepse}" 
										var="emergenciaExame" rows="5" rowKeyVar="linha" style="width:98%;" reRender="ds">
							
							<f:facet name="header">
								<rich:columnGroup>									
									<rich:column style="text-align: center;width: 10%">
										Solicitação
									</rich:column>
									<rich:column style="text-align: center;width: 15%">
										Data
									</rich:column>
									<rich:column style="text-align: center;width: 40%">
										Exame
									</rich:column>
									<rich:column style="text-align: center;width: 15%">Situação</rich:column>
									<rich:column style="text-align: center;width: 5%">Ação</rich:column>
								</rich:columnGroup>
							</f:facet>
							
							<rich:columnGroup>
								<rich:column style="text-align: center;">
									<h:outputText value="#{emergenciaExame.isnExameSolicAux}"/>
								</rich:column>
								
								<rich:column style="text-align: center;">
									<h:outputText value="#{emergenciaExame.datCadastro}" converter="ConversorDeDataHora"/>
								</rich:column>
												
								<rich:column style="text-align: left;">
								  <h:outputText  value="#{emergenciaExame.examePepBean.dscExame}"/> <h:outputText  value=" #{emergenciaExame.dscExameCompl}" rendered="#{emergenciaExame.dscExameCompl != null and not empty emergenciaExame.dscExameCompl}"/>
								</rich:column>				

								<rich:column style="text-align: center;">
									<h:outputText  value="#{emergenciaExame.exameSituacaoPepBean.dscExameSituacao}"/>
								</rich:column>	
																	
								<rich:column style="text-align: center;">
								  <a4j:commandLink action="#{emergenciaForm.removerExame}" title="REMOVER EXAME" onclick="if (!confirm('Deseja realmente remover este exame?')) return false;" oncomplete="validar('#{exameForm.mensagem}');" reRender="formInfeccao:tblEmergenciaSepse">
								  		<h:graphicImage id="imgExcluir" url="IMG/icone_excluir.gif" style="border:0; width: 12px; height: 12px; text-align: center;" rendered="#{(emergenciaExame.exameSolicitacaoWsDetalheBean.flgLaudo == null or emergenciaExame.exameSolicitacaoWsDetalheBean.flgLaudo eq 'N') and emergenciaExame.exameSituacaoPepBean.isnExameSituacao == 1}" />
								  		<f:setPropertyActionListener value="#{emergenciaExame}" target="#{emergenciaForm.exameSolicPepBean}"/>						  								
								  </a4j:commandLink>
								</rich:column>
							</rich:columnGroup>					
							
							<f:facet name="footer">
								<rich:datascroller id="ds" ajaxSingle="false" />
							</f:facet>
						</rich:dataTable>					
					<br/>
					
					<fieldset style="font-size: 11px;">
						<legend>
							<b>Há critérios para: </b>
						</legend>
						<a4j:outputPanel id="idEstratificacao">
							<h:selectBooleanCheckbox id="chkSepseGrave" value="#{emergenciaForm.protocoloSepse.flgSepseGrave}">
								<a4j:support event="onclick" reRender="formInfeccao:idEstratificacao"
									ajaxSingle="true" actionListener="#{emergenciaForm.validarSepseGrave}" />
							</h:selectBooleanCheckbox>
							<h:outputLabel value="Sepse" for="chkSepseGrave" style="margin-left:3px; font-size:11px;" />
							<rich:spacer width="10" />
							<h:selectBooleanCheckbox id="chkChoqueSeptico"	value="#{emergenciaForm.protocoloSepse.flgChoqueSeptico}">
								<a4j:support event="onclick" reRender="formInfeccao:idEstratificacao"
									ajaxSingle="true" actionListener="#{emergenciaForm.validarSepseChoque}" />
							</h:selectBooleanCheckbox>
							<h:outputLabel value="Choque Séptico" for="chkChoqueSeptico" style="margin-left:3px; font-size:11px;" />
						</a4j:outputPanel>
					</fieldset>
						
					<br />
					<fieldset style="font-size: 11px;">
						<legend>
							<b>Conceitos: </b>
						</legend>
						<h:outputLabel
							value="Sepse: Presença de disfunção orgânica ameaçadora a vida secundária a resposta desregulada do hospedeiro a uma infecção."
							style="margin-left:3px; font-size:11px;" />

						<h:outputLabel style="margin-left:3px; font-size:11px;"
							value="Choque séptico: Presença de hipotensão com necessidade de vasopressores para manter pressão arterial média ≥ 65mmHg associada a lactato ≥ 2mmol/L, após adequada ressuscitação volêmica. "/>
					</fieldset>
					
					<rich:jQuery selector=".campoTextoSemColar" query="bind('paste drop', function(event) {event.preventDefault();})" />				
				    </h:panelGroup>

				<div align="center">
					<a4j:commandButton id="btnOk14" value="Voltar"
						rendered="#{emergenciaForm.viewPager != 0}"
						style="margin-right:20px;" styleClass="botaoModal"
						actionListener="#{emergenciaForm.voltarViewPager}"
						reRender="formInfeccao" />

					<a4j:commandButton value="Confirmada a abertura do protocolo sepse"
						style="margin-right:5px;" styleClass="botaoModal"
						rendered="#{emergenciaForm.viewPager == 3}"
						action="#{emergenciaForm.validarSepse(0)}"
						reRender="panelSenhaSepse"
						oncomplete="if (#{empty emergenciaForm.mensagem}) { Richfaces.showModalPanel('panelSenhaSepse') }; validarMsg('#{emergenciaForm.mensagem}')" />

					<a4j:commandButton id="btnOk1" value="Próximo"
						styleClass="botaoModal"
						rendered="#{emergenciaForm.viewPager != 3}"
						action="#{emergenciaForm.proximaEtapaSepse}"
						reRender="formularioMedico, formInfeccao, tblSepse"
						disabled = "#{emergenciaForm.statusEtapa}"
						oncomplete="if (#{emergenciaForm.etapaFinalizada == true}) {Richfaces.hideModalPanel('panelInfeccao')}; validarMsg('#{emergenciaForm.mensagem}')" />
				</div>
					
			    </h:form>
			</div>	
			
		</rich:modalPanel>
		<rich:modalPanel id="panelSenhaSepse" autosized="true" width="480" resizeable="false" headerClass="headerPanel">
			<!-- BARRA DE TITULO MODAL-->	
			<f:facet name="header">
	            <h:outputText value="Validação de Senha"/>            
	        </f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="IMG/fechar.png" id="hidelink5" />
					<rich:componentControl for="panelSenhaSepse" attachTo="hidelink5" operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			<!-- FIM DA BARRA DE TITULO MODAL-->
			<!-- CAMPOS DE BUSCA -->
			<h:form id="senhaSepse">	      
				<div>
					<hr/>
					<div class="linhaFormul" >
					    <div style="float: left; margin-right: 40px">		
							<label class="label largura110" >Usuário/Conselho:</label>
							<h:inputText value="#{emergenciaForm.usuario}" maxlength="20" styleClass="inputText" style="width: 80px"/>
						</div>
						<div style="float: left;">		
							<label class="label largura110" >Senha/Assinatura:</label>
							<h:inputSecret value="#{emergenciaForm.senha}" maxlength="20" style="width: 80px"/>
						</div>
					</div>		
				</div>
				<br clear="all"/>
				<div style="text-align: center; margin-top: 40px">
					<a4j:commandButton id="btnGSepse" value="OK"
						action="#{emergenciaForm.gravarSepse(0)}"
						style="margin-right: 10px" styleClass="botaoModal"
						oncomplete="if (validarMsg('#{emergenciaForm.mensagem}')){Richfaces.hideModalPanel('panelSenhaSepse'); Richfaces.hideModalPanel('panelInfeccao');}"
						reRender="formularioMedico, formInfeccao, tblSepse">
					</a4j:commandButton>
					<a4j:commandButton id="btnCancelSepse" value="Cancelar"
						styleClass="botaoModal">
						<rich:componentControl for="panelSenhaSepse"
							attachTo="btnCancelSepse" operation="hide" event="onclick" />
					</a4j:commandButton>
				</div>
			</h:form>
			<!-- FIM CONTEUDO MODAL -->
		</rich:modalPanel>

	<rich:modalPanel id="panelAcompSepse" width="600" autosized="true"
		headerClass="headerPanel3">
		<f:facet name="header">
			<h:outputText value="PROTOCOLO SEPSE - ACOMPANHAMENTO"></h:outputText>
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>

			</h:panelGroup>
		</f:facet>

		<div
			style="height: 470px; overflow: scroll; overflow-y: scroll; overflow-x: hidden;">
			<h:form id="formAcompanhamento">

				<h:panelGroup>
					<h:outputText style="font-size:12px;font-weight:bold"
						value="PACIENTE APRESENTA ? *" />
					<br />
						<h:selectOneRadio  layout="pageDirection" style="font-weight:bold;"
							value="#{emergenciaForm.evolucaoSepse.isnEvolucaoSepseSinais}">
							<f:selectItems value="#{emergenciaForm.slievolucaoSepseSinais}"
								var="i" itemValue="#{i.isnEvolucaoSepseSinais}"
								itemLabel="#{i.dscEvolucaoSepseSinais}" style="margin-left:5px;"/>

						</h:selectOneRadio>
					<br />
						<h:outputText style="font-size:12px;font-weight:bold" value="PA:*" />
						<h:inputText value="#{emergenciaForm.evolucaoSepse.dscPa}" onkeypress="return soNumero(event, this)"
							maxlength="3" style="width:30px;" styleClass="campoTextoSemColar" /> 
						<h:outputText value=" X "/> 
						<h:inputText value="#{emergenciaForm.evolucaoSepse.dscPaFinal}" onkeypress="return soNumero(event, this)"
							maxlength="3" style="width:30px;" styleClass="campoTextoSemColar" />
						<h:outputText value=" mmHg"/>
						
						<h:outputText style="font-size:12px;font-weight:bold;margin-left:5px;" value="FC:*" />
						<h:inputText maxlength="10" style="width:50px;margin-left:5px;" styleClass="campoTexto" value="#{emergenciaForm.evolucaoSepse.dscFc}"/>
						<h:outputText style="font-size:12px;font-weight:bold;margin-left:5px;" value="FR:*" />
						<h:inputText maxlength="10" style="width:50px;margin-left:5px;" styleClass="campoTexto" value="#{emergenciaForm.evolucaoSepse.dscFr}"/>
						<h:outputText style="font-size:12px;font-weight:bold;margin-left:5px;" value="SPO2:*" />
						<h:inputText maxlength="10" style="width:50px;margin-left:5px;" styleClass="campoTexto" value="#{emergenciaForm.evolucaoSepse.dscSpo2}"/>
						<h:outputText style="font-size:12px;font-weight:bold;margin-left:5px;" value="TEMP:*" />
						<h:inputText maxlength="10" style="width:50px;margin-left:5px;" styleClass="campoTexto" value="#{emergenciaForm.evolucaoSepse.dscTemp}"/>
						<br />
						<br />
					<h:outputText style="font-size:12px;font-weight:bold" value="EVOLUÇÃO:*" />
					<br />
					<h:inputTextarea value="#{emergenciaForm.evolucaoSepse.dscEvolucaoSepse}" 
						styleClass="campoObservacao" style="width: 98%; height:120px;"
						onblur="upper(this);"  onkeyup="verificaTamanho('formAcompanhamento',this, 1000, 'lbEvol');"/>
						<br/>
					<label id="lbEvol" style="font: bold;width:100%">(1000 caracteres restantes)</label>
					
					<br />
					
					<div style="padding:10px;text-align: center">
						<a4j:commandButton id="btnOkInfedc" value="SALVAR"
							styleClass="botaoModal" 
							reRender="panelSenhaEvolucao"
							oncomplete="Richfaces.showModalPanel('panelSenhaEvolucao');" />
					</div>
				</h:panelGroup>

			</h:form>
		</div>

	</rich:modalPanel>

		<rich:modalPanel id="panelSenhaEvolucao" autosized="true" width="480" resizeable="false" headerClass="headerPanel">
			<!-- BARRA DE TITULO MODAL-->	
			<f:facet name="header">
	            <h:outputText value="Validação de Senha"/>            
	        </f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="IMG/fechar.png" id="hidelink5EV" />
					<rich:componentControl for="panelSenhaEvolucao" attachTo="hidelink5EV" operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			<!-- FIM DA BARRA DE TITULO MODAL-->
			<!-- CAMPOS DE BUSCA -->
			<h:form id="senhaEvolucao">	      
				<div>
					<hr/>
					<div class="linhaFormul" >
					    <div style="float: left; margin-right: 40px">		
							<label class="label largura110" >Usuário/Conselho:</label>
							<h:inputText value="#{emergenciaForm.usuario}" maxlength="20" styleClass="inputText" style="width: 80px"/>
						</div>
						<div style="float: left;">		
							<label class="label largura110" >Senha/Assinatura:</label>
							<h:inputSecret value="#{emergenciaForm.senha}" maxlength="20" style="width: 80px"/>
						</div>
					</div>		
				</div>
				<br clear="all"/>
			<div style="text-align: center; margin-top: 40px">
				<a4j:commandButton id="btnOkEvo" value="OK"
					action="#{emergenciaForm.salvarEvolucaoSepse}"
					style="margin-right: 10px" styleClass="botaoModal"
					oncomplete="if (#{empty emergenciaForm.mensagem }) {Richfaces.hideModalPanel('panelSenhaEvolucao'); Richfaces.hideModalPanel('panelAcompSepse')}; validarMsg('#{emergenciaForm.mensagem}')"
					reRender="formularioMedico, formInfeccao, tblSepse"/>
				<a4j:commandButton id="btnCancelEvo" value="Cancelar"
					styleClass="botaoModal">
					<rich:componentControl for="panelSenhaEvolucao"
						attachTo="btnCancelEvo" operation="hide" event="onclick" />
				</a4j:commandButton>
			</div>
		</h:form>
			<!-- FIM CONTEUDO MODAL -->
		</rich:modalPanel>
		
	<rich:modalPanel id="panelCarregarApz" autosized="true" width="400" resizeable="false">
			<f:facet name="header">
	    		<h:panelGroup>
					<h:graphicImage value="/IMG/alerta.png" style="border:0; margin-right:10px; vertical-align:middle;" />
					<h:outputText value="Mensagem de Alerta" style="font-size:12px; font-weight: bold;"/>
				</h:panelGroup>
	    	</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="IMG/fechar.png" id="hidelinkAlertApz" />
					<rich:componentControl for="panelCarregarApz" attachTo="hidelinkAlertApz" operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			<h:form id="frmAlertApz">	   								
				<fieldset class="fsPepResp">
					<div>
						<label style="font-size: 11px; color: black;">Atenção: Existe(m) aprazamentos(s) anterior(es) em aberto!</label>
					</div>
				</fieldset>
				<br clear="all"/>
				<div style="text-align:center; margin-top:10px">
					<a4j:commandButton id="btnOkAlertApz"  value="Ok"  action="#{aprazamentoPepiForm.carregarApz}" styleClass="botaoModal" style="width:100px;">
						<rich:componentControl for="panelCarregarApz" attachTo="btnOkAlertApz" operation="hide" event="onclick" />
					</a4j:commandButton>
				</div>
			</h:form>
		</rich:modalPanel>
		
		<rich:modalPanel id="panelCid10" autosized="false" width="900" height="650" resizeable="false" headerClass="headerPanel3">
			<f:facet name="header">
				<h:outputText value="CID10"/>
		   	</f:facet>
		   	<f:facet name="controls">
		   	 	<h:panelGroup>
		       		<h:graphicImage value="IMG/fechar.png" id="fechaPanelCid10"/>
		       		<rich:componentControl for="panelCid10" attachTo="fechaPanelCid10" operation="hide" event="onclick" />
		       	</h:panelGroup>
		   	</f:facet>
		   	
			<a4j:keepAlive beanName="cid10Form"/>			
			<!-- FORM -->
			<h:form id="formTabelaCid10">
				<div class="areaPesquisa" id="filtros" > 
         	
		        		<table cellpadding="10">
		        		<tr>
		        			<td valign="top">
				        		<label>Pesquisar:</label><br/>
								<h:inputText id="inputPesquisa" 
								             value="#{cid10Form.valorPesquisa}"
								             styleClass="campoTexto"  
								             style="width: 170px;" />
								             
								<a4j:commandButton image="IMG/pesquisa.gif" 
					           	        id="btnPesquisa" 
					           	        action="#{cid10Form.buscar}" 
						    			oncomplete="avisosPesquisa(#{cid10Form.erroCid10})" 
						    			style="margin-left:10px; vertical-align:middle;"
						    			reRender="dtCid10,totalRegs,ddpGrupos,ddpCategorias" >
						    		<f:setPropertyActionListener target="#{cid10Form.tipoBusca}" value="#{0}"/>	
						    	</a4j:commandButton>
						    	<rich:hotKey key="return" selector="#inputPesquisa" 
						    	             handler="#{rich:element('btnPesquisa')}.click()"/>
						    	<br/>
								<a4j:commandLink action="#{cid10Form.buscar()}" 
								                 value="Listar Apenas os Relevantes" 
								                 reRender="dtCid10,totalRegs,ddpGrupos,ddpCategorias"
								                 styleClass="linkGeral">
									<f:setPropertyActionListener target="#{cid10Form.tipoBusca}" value="#{1}"/>
								</a4j:commandLink><br/>
								<a4j:commandLink action="#{cid10Form.buscar()}" 
								                 value="Listar com Pesquisa Adicional" 
								                 reRender="dtCid10,totalRegs,ddpGrupos,ddpCategorias"
								                 styleClass="linkGeral">
									<f:setPropertyActionListener target="#{cid10Form.tipoBusca}" value="#{2}"/>
								</a4j:commandLink>
		        			</td>
		        			<td valign="top">
					            <label>Categorias:</label><br/>
					           	<h:selectOneMenu id="ddpCategorias" 
									             value="#{cid10Form.isnCategoria}" 
									             style="width:390px;" styleClass="selectItens">
									<f:selectItems value="#{cid10Form.sliCategoriasCid}" />
									<a4j:support action="#{cid10Form.listarGruposPorCategoria}"
										         event="onchange"						              
										         ajaxSingle="true"
										         reRender="ddpGrupos,dtCid10,totalRegs"/>
								</h:selectOneMenu><br></br>
								<label>Grupo:</label><br/>
					           	<h:selectOneMenu id="ddpGrupos" 
									             value="#{cid10Form.isnGrupo}" 
									             style="width:390px;" styleClass="selectItens">
									<f:selectItems value="#{cid10Form.sliGruposCid}" />
									<a4j:support action="#{cid10Form.listarCid10}"
										         event="onchange"						              
										         ajaxSingle="true"
										         reRender="dtCid10,totalRegs"/>
								</h:selectOneMenu>	
		        			</td>
		        			<td valign="top">
							    <div style="text-align: right">
						       	   	<label>Resultado:</label><br/>
								    <h:outputText styleClass="totalizador2" value="#{cid10Form.totalRegistros}" id="totalRegs"/> 
						        </div>
		        			</td>
		        		</tr>
		        		</table>

		    	</div>
		    	<div style="height: 470px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
					<!-- DATATABLE -->
					<rich:dataTable 
						id="dtCid10" 
						onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
			            onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
						value="#{cid10Form.lstCid10}" 
						var="cid10"
						rows="12"
						rowKeyVar="linha" 
						style="width: 98%; font-size: 12px"
						reRender="ds">	
								
						<f:facet name="header">
							<rich:columnGroup>
								<h:column >
									<h:outputText value="Sel." />
								</h:column>					
								<h:column>
									<h:outputText value="Código" />
								</h:column>
								<h:column>
									<h:outputText value="Descrição" />
								</h:column>		
								<h:column>
									<h:outputText value="Categoria/Grupo" />
								</h:column>
								<h:column rendered="#{cid10Form.tipoBusca==2}">
									<h:outputText value="Pesquisa Adicional" />
								</h:column>						
								<h:column>
									<h:outputText value="---" />
								</h:column>
							</rich:columnGroup>
						</f:facet>
						
						<rich:column width="5%">
							<center>
								<a4j:commandLink id="selecionar" action="#{emergenciaForm.salvaCid10InternacaoAtendimento}" oncomplete="carregaCid10();#{rich:component('panelCid10')}.hide();" reRender="formularioMedico:isnCid10Id, formularioMedico:dscCid10Id">
									<h:graphicImage id="imgSel02" url="IMG/selecionar.png" style="border:0;" />
									<f:setPropertyActionListener value="#{cid10}" target="#{cid10Form.objCid10}" />
									<f:setPropertyActionListener value="#{cid10}" target="#{emergenciaForm.objCid10}" />
								</a4j:commandLink>
								<a4j:jsFunction name="carregaCid10" action="#{emergenciaForm.carregaCid10}" oncomplete="#{rich:element('dscCid1')}.focus();"
								reRender="formularioMedico:isnCid10Id, formularioMedico:dscCid10Id, formularioMedico:isnCid10Id2, formularioMedico:dscCid10Id2; formularioMedico:dscCid1"/>
							</center>
						</rich:column>
							
						<rich:column width="8%" style="text-align: center; font-size: 12px">
							<h:outputText value="#{cid10.codCid10}" />
						</rich:column>
							
						<rich:column style="font-size: 11px">
							<h:outputText value="#{cid10.dscCid10}" />
						</rich:column>
									
						<rich:column>
							<h:outputText value="#{cid10.cid10Grupo.cid10Categoria.dscCid10Categoria}" />
						</rich:column>
									
						<rich:column rendered="#{cid10Form.tipoBusca==2}">
							<h:outputText value="#{cid10.dscAtalho}" />
						</rich:column>
						
						<rich:column>
						    <h:graphicImage id="imgFav" url="#{(cid10.flgFavorito=='S')?'IMG/star_yellow.png':'IMG/star_grey.png'}" style="border:0;" />				
						</rich:column>
						<!-- RODAPE DA TABELA -->	
						<f:facet name="footer">
					       	<rich:datascroller fastControls="auto"  maxPages="5" id="ds" ajaxSingle="false" />
					    </f:facet>
					</rich:dataTable>
					<br/><br/><br/>
				</div>
			</h:form>
		</rich:modalPanel>
		
		<!-- CABEÇALHO -->
	    <div id="divCabecalho">
	    	<h:form id="formCabecalho">
	    	<div id="divConteudoCabecalho">
		    	<div id="divLogotipo">
		    		<a4j:commandLink action="#{templateForm.retornaPaginaPrincipal}" onclick="navegacao(1)">
		    	    	<h:graphicImage value="images/paciente/logo_paciente.png" style="border:0"></h:graphicImage>
		    	    </a4j:commandLink>
		    	</div>
		    	<div id="divLabels">
		    		<table cellspacing="10">
		    		<tr>
		    			<td><h:commandLink action="#{templateForm.retornaPaginaPrincipal}"><img src="images/paciente/btn_inicio.png" border="0"/></h:commandLink></td>
		    			<td class="bemvindo">
		    				<span class="nomeUsuario"><h:outputText value="#{sessionScope.loginUsuario.dscLogin}" /></span><br/>
		    				<span class="dataSistema"><h:outputText value="#{templateForm.getDataAtual()}"/></span>
		    			</td>
		    			<td><a4j:commandLink action="#{templateForm.sairSistema}"><img src="images/paciente/btn_sair.png" border="0"/></a4j:commandLink></td>		    			
		    		</tr>
		    		</table>
		    	</div>
		    	<div id="divSepse" >
		            <a style="display:none" id="linkSepse" href="http://www.isgh.org.br/intranet/index.php?option=com_content&amp;view=article&amp;id=1823&amp;Itemid=726" target="_blank"></a>
					<h:commandLink onclick="document.getElementById('linkSepse').click();">
				    		<h:graphicImage value="IMG/Sepse.png" width="90" height="40" style="float:right; margin-right:180px; margin-top:12px; border:0;" ></h:graphicImage>		
					</h:commandLink>
        		</div>		
		    	<div id="divLogoHgwa">
		    		<h:graphicImage value="images/paciente/#{templateForm.logoUpa}"  ></h:graphicImage>
	        	</div>
	        	<div id="divIcons">
				<ul id="navbar">
					<!-- The strange spacing herein prevents an IE6 whitespace bug. -->
					<li><a href="#" title="Internados" class="img"><img src="images/paciente/icon_internados.png" border="0" title="Internados" /></a>
						<ul>
							<li><a4j:commandLink value="Eixos da Emergência" action="#{templateForm.chamaPaginaEixosEmergencia}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
		    				<li><a4j:commandLink value="Farmácia" action="#{templateForm.chamaPaginaFarmacia}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
		    				<li><a4j:commandLink value="Laboratório / Raio-X" action="#{templateForm.chamaPaginaLaboratorio}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
		    				<li><a4j:commandLink value="Pacientes Atendimento" action="#{templateForm.chamaPaginaAtendimento}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
		    				<li><a4j:commandLink value="Pacientes Recepção" action="#{templateForm.chamaPaginaRecepcao}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
		    				<li><a4j:commandLink value="Serviço Social" action="paginaPrincipalSocial" /></li>
						</ul>
					</li>
					<li><a href="#" title="Assistência" class="img"><img src="images/paciente/icon_assistencia.png" border="0" title="Assistência" /></a>
						<ul>
	            			<li><a4j:commandLink value="Cadastros" action="principalParaCadastros" /></li>
	            			<li><a4j:commandLink value="NAC" action="principalParaNAC" /></li>
							
						</ul>
					</li>
					<li><a href="#" title="Relatórios" class="img"><img src="images/paciente/icon_relatorios.png" border="0" title="Relatórios" /></a>
						<ul>
							<li><a4j:commandLink value="Censo Diário" action="#{templateForm.chamaPaginaCensoHospitalar}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
	            			<li><a4j:commandLink value="Estatistica Emergência" action="#{templateForm.chamaPaginaEstatisticaEmergencia}" oncomplete="navegacao('#{templateForm.retorno}')" rendered="#{templateForm.hospital=='UPA'}" /></li>
	            			<li><a4j:commandLink value="Geral Exame" action="#{templateForm.chamaPaginaExameDetalhado}" oncomplete="navegacao('#{templateForm.retorno}')" /></li>
	            			<li><a4j:commandLink value="Relatórios Gerencias" action="paginaPrincipalRelatorio"  /></li>
	               			<li><a4j:commandLink value="Indicadores" action="#{templateForm.chamaPaginaIndicadores}" oncomplete="navegacao('#{templateForm.retorno}')" rendered="false" /></li>
	               			<li><a4j:commandLink value="Relatórios" action="#{templateForm.chamaPaginaRelatorios}" oncomplete="navegacao('#{templateForm.retorno}')" rendered="false" /></li>							
						</ul>
					</li>
				</ul>
	    	</div>
			</div>
			</h:form>
		</div><br clear="all"/>	
		
		<rich:modalPanel id="panelDengue" autosized="true" width="600" resizeable="false" headerClass="headerPanel3">
		<!-- BARRA DE TITULO MODAL-->
        <f:facet name="header">            
            <h:outputText value="ATENDIMENTO DENGUE"></h:outputText>            
        </f:facet>
        	<f:facet name="controls">
        	<h:form>
		   	 	<a4j:commandButton id="seleck" styleClass="primeiro" value="der"  image="IMG/fechar.png" reRender="formularioMedico:isnCid10Id, formularioMedico:dscCid10Id, 
		   	 	formularioMedico:isnCid10Id2, formularioMedico:dscCid10Id2"  action="#{emergenciaForm.resetarCid10}" oncomplete="#{rich:component('panelDengue')}.hide();">
				</a4j:commandButton>
		       	</h:form>
		   	</f:facet>
        <!-- CAMPOS DE BUSCA -->			 
   	    <h:form id="formPanelDengue">
   	    	<div class="geralCampos">
			<h:outputText  style="font-size:11px;font-weight:bold;text-align:center;
				 color:#C3322E;width:100%;background-color:#F2DEDE;"  rendered="#{emergenciaForm.msgAlerta != null}"
				  value="#{emergenciaForm.msgAlerta}" />
			<rich:messages style="font-size:15px;font-weight:bold;background-color:#F2DEDE;width:100%;color:#C3322E;text-align:center"/>
			<div class="linhaFormulario" >
			    <div style="float: left; margin-right: 40px">
			    
			    <h:panelGroup  layout="block" rendered="#{emergenciaForm.flgChoque}">		
					<label style="font-weight: bold;">Sinais de Choque?</label>
					<h:selectOneRadio  id="naso" value="#{emergenciaForm.atendimentoDengue.sinaisChoque}" required="true"
						requiredMessage="Selecione uma das opções abaixo!">
					<f:selectItem itemValue="#{true}" itemLabel="SIM" />
					<f:selectItem itemValue="#{false}" itemLabel="NÃO"/>
				</h:selectOneRadio>
				<h:panelGrid columns="2">	   
					 <label style="font-weight: bold;">Data dos primeiros sintomas*:</label>
					 <rich:calendar value="#{emergenciaForm.datSintomas}" datePattern="dd/MM/yyyy" showWeeksBar="false" 
					 				enableManualInput="false" oninputkeypress="return formataData(event, this);" 
					 				maxlength="10" inputStyle="height:14px;font-size:8pt!important;" />
					</h:panelGrid>
				</h:panelGroup>
				</div>
				
				<div style="float: left; margin-right: 0px">
			    <h:panelGroup layout="block" rendered="#{emergenciaForm.flgAlerta}" id="alerta">	
			    	<h:panelGrid columns="1">
					<label style="font-weight: bold;">Sinais de alerta?</label>
					 <ui:repeat var="item" value="#{emergenciaForm.itensDscAlerta}">
       				 <h:selectBooleanCheckbox value="#{emergenciaForm.checkMapAlerta[item]}" style="margin-right:6px;"/>
       				  <h:outputText style="font-size:11px;" value="#{item}" /><br/>
   					 </ui:repeat>
			    	
			    	</h:panelGrid>
				</h:panelGroup>
				</div>
				
				<div style="float: left; margin-right: 40px">
				 <h:panelGroup layout="block" rendered="#{emergenciaForm.flgSangramento}" >		
					<label style="font-weight: bold;">Apresenta sangramento espontâneo?</label><br/>
					<h:selectOneRadio  id="nasor" value="#{emergenciaForm.atendimentoDengue.sinaisSangramento}" required="true"
						requiredMessage="Selecione uma das opções abaixo!">
					<f:selectItem itemValue="#{true}" itemLabel="SIM" />
					<f:selectItem itemValue="#{false}" itemLabel="NÃO"/>
					</h:selectOneRadio>
					</h:panelGroup>
					</div>
					
					<div style="float: left; margin-right: 0px">
			    <h:panelGroup layout="block" rendered="#{emergenciaForm.flgSituacaoExtra}">		
					<label style="font-weight: bold;">Apresenta alguma situação abaixo?</label><br/>
					<ui:repeat var="item" value="#{emergenciaForm.itensDscSituacao}">
       				 <h:selectBooleanCheckbox value="#{emergenciaForm.checkMapSituacao[item]}" style="margin-right:6px;"/>
       				  <h:outputText style="font-size:11px;" value="#{item}" /><br/>
   					 </ui:repeat>
				</h:panelGroup>
				</div>
				
				<div style="float: left; margin-right: 0px">
			    <h:panelGroup layout="block" rendered="#{emergenciaForm.flgLaco}">		
					<label style="font-weight: bold;">Prova do laço.</label><br/>
					<h:selectOneRadio  id="nasorr" value="#{emergenciaForm.atendimentoDengue.provaLaco}" required="true"
						requiredMessage="Selecione uma das opções abaixo!">
					<f:selectItem itemValue="#{true}" itemLabel="Positivo" />
					<f:selectItem itemValue="#{false}" itemLabel="Negativo"/>
					</h:selectOneRadio>
					
				</h:panelGroup>
				</div>
				<div style="margin-right: 0px;">
			    <h:panelGroup layout="block" rendered="#{emergenciaForm.flgPeso}" >		
					<label style="font-weight: bold;margin-left:5px;">Digite o peso:</label>
					 <h:inputText maxlength="6" value="#{emergenciaForm.pesoDengue}" onkeydown="mascara(this,decimal)"
					 size="5" id="peso" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px" >
				        <f:convertNumber pattern="#0.00" minFractionDigits="2"  />
				        <a4j:support event="onblur" oncomplete="document.getElementById('formPanelDengue:btnCalcDengue').click();" />
				     </h:inputText>
				     <a4j:commandButton id="btnCalcDengue" value="CALCULAR HV" action="#{emergenciaForm.calcularPesoGeral}"
				     style="padding-left:5px;padding-right:5px;"  reRender="alerti,formPanelDengue" />
				    
				</h:panelGroup>
				 <h:outputText id="alertGr" style="font-size:15px;font-weight:bold;
				 text-align:center;float:right;" value="#{emergenciaForm.tipoGrupo}" />
				</div>
			
				<br style="clear: both;" />
				 <h:outputText id="alerti"  rendered="#{emergenciaForm.mensagemAlertaDengue != null}" style="font-size:15px;font-weight:bold;text-align:center;
				 color:#C3322E;width:100%;background-color:#F2DEDE;margin-top:10px;" value="#{emergenciaForm.mensagemAlertaDengue}" /><br/>
				  <h:outputText id="aler" rendered="#{emergenciaForm.mensagemHidratacao != null}" style="font-size:11px;font-weight:bold;text-align:center;
				 color:#265269;width:100%;background-color:#BFE0F1;margin-top:10px;" value="#{emergenciaForm.mensagemHidratacao}" /><br/>
				   <h:outputText id="alerd" rendered="#{emergenciaForm.stringExame != null}" style="font-size:11px;font-weight:bold;text-align:center;
				 color:#55763D;width:100%;background-color:#CBE6BF;margin-top:10px;" value="#{emergenciaForm.stringExame}" />
			</div>
			</div>	
			<div class="linhaSeparadora" />
			<a4j:commandButton id="btnproximo" value="PRÓXIMO" action="#{emergenciaForm.avancarDengue}" rendered="#{emergenciaForm.flgLiberarConfirmar == false}"
								   styleClass="botaoModal" style="float:right;" reRender="alerti,formPanelDengue" >
				</a4j:commandButton>
			<a4j:commandButton id="btnOkRisco" value="CONFIRMAR" 
				action="#{emergenciaForm.concluirDengue}"
				rendered="#{emergenciaForm.flgLiberarConfirmar == true}"
				styleClass="botaoModal" style="float:right;"
				reRender="formPanelDengue,formularioMedico:pesqCid10,formularioMedico:ddpDestino,formularioMedico"
				disabled = "#{emergenciaForm.flgBloqueiaConfirmar}"
				oncomplete="validarAtendimentoDengue('#{emergenciaForm.fecharPanelDengue}','panelDengue','linkImpri');">
			</a4j:commandButton>
			<t:commandLink id="linkImpri"  action="#{emergenciaForm.imprimirRec}" target="blank" style="display:none" />
		
		<script>
		<!--function validarAtendimentoDengue(erro,panel,id){
		
		if(erro == 1){
			alert('Solicitação realizada com sucesso!');
			Richfaces.hideModalPanel(panel);
		}if(erro == 2){
			alert('Solicitação realizada com sucesso!');
			
			document.getElementById("formPanelDengue:linkImpri").click();
			Richfaces.hideModalPanel(panel);
		}
		
	}	-->
		</script>
		</h:form>
	</rich:modalPanel>	
		
		<rich:modalPanel id="panelAutorizar" autosized="true" width="600" resizeable="false" headerClass="headerPanel">
		<!-- BARRA DE TITULO MODAL-->
        <f:facet name="header">            
            <h:outputText value="Autenticação de senhas"></h:outputText>            
        </f:facet>
        <!-- CAMPOS DE BUSCA -->			 
   	    <h:form>
   	    	<div class="geralCampos">
			
			<div class="linhaFormulario" >
			    <div style="float: left; margin-right: 40px">		
					<label>Usuário/Conselho:</label>
					<h:inputText value="#{emergenciaForm.usuario}" maxlength="20" styleClass="campoTexto" style="width: 90px"/>
				</div>
				<div style="float: left;">		
					<label>Senha/Assinatura:</label>
					<h:inputSecret value="#{emergenciaForm.senha}" maxlength="20" styleClass="campoTexto"  style="width: 90px"/>
				</div>
			</div>
			</div>	
			<div class="linhaSeparadora" />
			<div style="text-align: center; margin-top: 10px">
				<a4j:commandButton id="btnOkRisco" value="OK" 
								   action="#{emergenciaForm.atendimentoPaciente}"				    
								   reRender="tabEmergencia,totaisEmergencia,formularioMedico"
								   style="margin-right: 10px" 
								   styleClass="botaoModal"
								   rendered="#{emergenciaForm.origemTelaRecpcao}"
								   oncomplete="this.disabled=false; avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelRisco', false); 
								   abrirRelatorio('#{emergenciaForm.msgRelatorio}');">
				</a4j:commandButton>
					
				<a4j:commandButton id="btnOkRisco2" value="OK" 
								   action="#{emergenciaForm.atendimentoPacienteCama}"				    
								   reRender="tabEmergencia,totaisEmergencia,formularioMedico"
								   style="margin-right: 10px" 
								   styleClass="botaoModal"
								   rendered="#{!emergenciaForm.origemTelaRecpcao}"
								   oncomplete="this.disabled=false; avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelRisco', false); abrirRelatorio('#{emergenciaForm.msgRelatorio}');">
				</a4j:commandButton>	
				
				<a4j:commandButton id="btnCancelRisco"  value="Cancelar"  styleClass="botaoModal" action="#{emergenciaForm.fechaPanel}" onclick="Richfaces.hideModalPanel('panelAutorizar');">
					
				</a4j:commandButton>
			</div>
	    </h:form>	
	</rich:modalPanel>	
	
	<rich:modalPanel id="panelMenor12" autosized="true" width="300" resizeable="false" headerClass="headerPanel">
		<!-- BARRA DE TITULO MODAL-->
        <f:facet name="header">            
            <h:outputText value="Deseja inserir o diagnóstico?"></h:outputText>            
        </f:facet>
   	    <h:form>
			
			<div style="text-align: center; margin-top: 10px">
				
					
				<a4j:commandButton id="btnDiagnNao" value="NÃO" 
								   action="#{emergenciaForm.resetarCid10}" 
								   oncomplete="#{rich:component('panelMenor12')}.hide();"			    
								   style="margin-right: 10px" 
								   styleClass="botaoModal"
								   reRender="formularioMedico:isnCid10Id, formularioMedico:dscCid10Id,formularioMedico:dscCid10IdOut, 
		   	 						formularioMedico:isnCid10Id2, formularioMedico:dscCid10Id2"
								   >
				</a4j:commandButton>	
				<a4j:commandButton id="btnDiagnSim" value="SIM" 
								   action="#{emergenciaForm.concluirDengueMenor12}"	
								   oncomplete="#{rich:component('panelMenor12')}.hide();"	
								   reRender="formularioMedico"			    
								   style="margin-right: 10px" 
								   styleClass="botaoModal">
				</a4j:commandButton>
			</div>
	    </h:form>	
	</rich:modalPanel>
	
	<rich:modalPanel id="panelChikungunya" autosized="true" width="400" resizeable="false" headerClass="headerPanel3">
		<!-- BARRA DE TITULO MODAL-->
        <f:facet name="header">           
            <h:outputText value="Atendimento Chikungunya"></h:outputText>            
        </f:facet>
        	<f:facet name="controls">
        	<h:form>
		   	 	<a4j:commandButton id="seleckic" styleClass="primeiro" value="der"  image="IMG/fechar.png" reRender="formularioMedico:isnCid10Id, formularioMedico:dscCid10Id, 
		   	 	formularioMedico:isnCid10Id2, formularioMedico:dscCid10Id2"  action="#{emergenciaForm.resetarCid10}" oncomplete="#{rich:component('panelChikungunya')}.hide();">
				</a4j:commandButton>
		       	</h:form>
		   	</f:facet>
   	    <h:form id="formPanelChikungunya">
			
			<div style="text-align: left; margin-top: 10px">
				<h:panelGrid columns="2">	   
					 <label style="font-weight: bold;">Data dos primeiros sintomas*:</label><br/>
					 <rich:calendar value="#{emergenciaForm.datSintomaChikungunya}" datePattern="dd/MM/yyyy" showWeeksBar="false" 
					 				enableManualInput="false" oninputkeypress="return formataData(event, this);" 
					 				maxlength="10" inputStyle="height:14px;font-size:8pt!important;" />
					</h:panelGrid>
					
					
				<a4j:commandButton id="btnDiagnSim" value="Confirmar" 
								   action="#{emergenciaForm.concluirChikungunya}"	
								   oncomplete="if(#{emergenciaForm.msgAlerta != null}){alert('#{emergenciaForm.msgAlerta}');}else{ #{rich:component('panelChikungunya')}.hide();}"	
								   reRender="formularioMedico"			    
								   style="margin-right: 10px" 
								   styleClass="botaoModal">
				</a4j:commandButton>
			</div>
	    </h:form>	
	</rich:modalPanel>
	
	<!-- MODAL PANEL DE AUTORIZAR A ATUALIZACAO PRESCRICOES --> 
	<rich:modalPanel id="panelAutorizarPrescricao" autosized="true" width="600" resizeable="false" headerClass="headerPanel">
		<!-- BARRA DE TITULO MODAL-->
        <f:facet name="header">            
            <h:outputText value="Autenticação de senha"></h:outputText>            
        </f:facet>
        <!-- CAMPOS DE BUSCA -->			 
   	    <h:form>
   	    	<div class="geralCampos">
			
			<div class="linhaFormulario" >
			    <div style="float: left; margin-right: 40px">		
					<label>Usuário/Conselho:</label>
					<h:inputText value="#{emergenciaForm.usuario}" maxlength="20" styleClass="campoTexto" style="width: 150px"/>
				</div>
				<div style="float: left;">		
					<label>Senha/Assinatura:</label>
					<h:inputSecret value="#{emergenciaForm.senha}" maxlength="20" styleClass="campoTexto"  style="width: 90px"/>
				</div>
			</div>
			</div>	
			<div class="linhaSeparadora" />
			<div style="text-align: center; margin-top: 10px">
				<a4j:commandButton id="btnOkPrescricao" value="OK" 
								   action="#{emergenciaForm.atendimentoEixo}"				    
								   reRender="tabEmergencia,totaisEmergencia,formularioMedico"
								   style="margin-right: 10px" 
								   styleClass="botaoModal"
								   oncomplete="this.disabled=false; avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelRisco', false);">
				</a4j:commandButton>
				
				<a4j:commandButton id="btnCancelPrescricao"  value="Cancelar"  styleClass="botaoModal" action="#{emergenciaForm.fechaPanel}" onclick="Richfaces.hideModalPanel('panelAutorizarPrescricao');">
					
				</a4j:commandButton>
			</div>
	    </h:form>	
	</rich:modalPanel>
	
	<!-- *****  MODAL PANEL ASSINATURA ENFERMAGEM -->
	<rich:modalPanel id="panelSenhaEnfermagem" autosized="true" width="480" resizeable="false" headerClass="headerPanel">
    	<f:facet name="header">            
            <h:outputText value="Autenticação de senha"></h:outputText>            
        </f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="IMG/fechar.png" id="hidelink3" />
				<rich:componentControl for="panelSenhaEnfermagem" attachTo="hidelink3" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form id="senhaEnf">	      
			<div>
				<div class="linhaFormulario" >
				    <div style="float: left; margin-right: 40px">		
						<label class="label largura110" >Usuário/Conselho: </label>
						<h:inputText value="#{emergenciaForm.usuarioCoren}" maxlength="20" styleClass="inputText" style="width: 80px"/>
					</div>
					<div style="float: left;">		
						<label class="label largura110" >Senha/Assinatura: </label>
						<h:inputSecret value="#{emergenciaForm.senhaAssinatura}" maxlength="20" style="width: 80px"/>
					</div>
				</div>		
			</div>
			<br clear="all"/> 
			<div style="text-align: center; margin-top: 40px">
				<a4j:commandButton id="btnGravarPrescricaoEnf" 
								   value="OK" 
								   action="#{emergenciaForm.gravarPrescricaoEnfermagemPepi}"
								   style="margin-right: 10px" 
								   styleClass="botaoModal"
								   oncomplete="validaPrescricaoEnfermagem(#{emergenciaForm.codigo})" reRender="formularioMedico:dtPrescEnf,frmPrescricaoEnfInc:dtPrescricaoEnfermagemInc,frmPrescricaoEnf" >
 					
				</a4j:commandButton>
				<a4j:commandButton id="btnCancelaEnf" value="Cancelar" styleClass="botaoModal">
					<rich:componentControl for="panelSenhaEnfermagem" attachTo="btnCancelaEnf" operation="hide" event="onclick" />
				</a4j:commandButton>
			</div>
		</h:form>
	</rich:modalPanel>
	<!-- FINAL DO MODAL PANEL ASSINATURA ENFERMAGEM -->
	
	<!-- MODAL PANEL DE DETALHES --> 
	<rich:modalPanel id="panelDetalhe" autosized="true" width="600" resizeable="false" headerClass="headerPanel">
	        <f:facet name="header">            
	            <h:outputText value="Prescrição Itens"></h:outputText>            
	        </f:facet>
	        
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fechar3" />
	                <rich:componentControl for="panelDetalhe" attachTo="fechar3" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet> 
	                
		<h:form id="formularioDetalhe">
	         <div class="dadosPaciente">
			    <div class="col380">
			       	<label>Paciente: </label>
					<h:outputText value="#{emergenciaForm.paciente.dscNome}" style="font-weight: bold" />
				</div>
				<div class="col150">
					<label>Nº atendimento: </label>
					<h:outputText value="#{emergenciaForm.paciente.isnInternacao}" style="font-weight: bold" />
				</div>
				<div class="col380">
				    <label>Data entrada: </label>
					<h:outputText value="#{emergenciaForm.paciente.datCadastro}" style="font-weight: bold">
				    	<f:convertDateTime pattern="dd/MM/yyyy"/>				       
					</h:outputText>
					<h:outputText value=" #{emergenciaForm.paciente.horChegada}" style="font-weight: bold"/>									
				</div>
				<div class="col170">
				    <div style="float: left; margin-right: 10px">
						<label>Idade: </label>
						<h:outputText value="#{emergenciaForm.paciente.idade}" style="font-weight: bold"/>
					</div>
					<div>
						<label>Sexo: </label>
						<h:outputText value="#{emergenciaForm.paciente.sglSexo}" style="font-weight: bold"/>
					</div>
				</div>
				<div class="col400">
				    <div style="float: left; margin-right: 10px">
						<label>Número da Prescrição: </label>
						<h:outputText value="#{emergenciaForm.prescricao.isnPrescricaoPep}" style="font-weight: bold"/>
					</div>
					<div>
						<label>Profissional: </label>
						<h:outputText value="#{emergenciaForm.prescricao.profissional.dscUsuario}" style="font-weight: bold"/>
					</div>
				</div>
				<div class="col200">
				 	<label>Data da Prescrição: </label>
					<h:outputText value="#{emergenciaForm.prescricao.datPrescricao}" style="font-weight: bold"/>
				</div>
			</div>		
		</h:form>
	 </rich:modalPanel>
		
		<rich:modalPanel id="panelExameSepse" width="1170" height="700" autosized="true" resizeable="false" headerClass="headerPanel3">
	        <f:facet name="header">
	            <h:outputText value="Solicitação de Exames"></h:outputText>            
	        </f:facet>
	        
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fechar4s" />
	                <rich:componentControl for="panelExameSepse" attachTo="fechar4s" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet> 
	                
			<h:form id="formularioExameSepse">
			 <h:panelGroup style="overflow-y: scroll;overflow-x:hidden;">
				<h:panelGroup style="height:470px;" layout="block">
	    		<fieldset style="background-color: #F5F5F5;">	    			
	    			<div>
				   		<h:panelGroup layout="block" style="width:100%;margin-left:0px;">
							<h:selectOneRadio value="#{exameForm.isnSepse}" disabled="true" style="font-size:xx-small; font: bold; padding:0; margin:0;">
								<f:selectItem itemValue="11" itemLabel="Sepse Adulto"/>						
								<a4j:support event="onclick" action="#{exameForm.pesquisarExames}"
								 reRender="formularioExameSepse, btnPesquisaExameSepse,dscExameSepse"/>
							</h:selectOneRadio>
						</h:panelGroup>
               		</div>	    			                	               		
		    		<table class="tabela" style="width: 100%">	  		
			    		<tr>
							<td class="tdCor" width="10%"><h:outputText value="Exame" rendered="#{exameForm.isnSepse==0}"/></td> 
							<td class="tdBranco" width="90%">
								<h:inputText size="120" maxlength="80" id="dscExameSepse" 
											 style="height:16px; text-transform: uppercase;" onblur="upper(this);" value="#{exameForm.dscExame}"
											 rendered="#{exameForm.isnSepse==0}"/>
							</td>
						</tr>
						<tr>
							<td class="tdCor" colspan="2" width="100%" align="center">
								<a4j:commandButton id="btnPesquisaExameSepse" value="Pesquisar" action="#{exameForm.pesquisarExames}" rendered="#{exameForm.isnSepse==0}"
												   oncomplete="validar('#{exameForm.mensagem}');" reRender="formularioExameSepse" />
							</td>
						</tr>
		    		</table>
		    		
		    		<rich:dataTable id="tabelaPesquisaExamesSepse"
									value="#{exameForm.listExame}"								
									var="listExame" 
									style="width: 100%;"
									rowClasses="par,impar"
									rows="5"
									rowKeyVar="linha" 
									rendered="#{not empty exameForm.listExame}">
					
						<f:facet name="header">
							<rich:columnGroup>
								<h:column>
									<h:outputText width="5%"/>
								</h:column>
								<h:column>
									<h:outputText width="75%" value="Exame" />
								</h:column>
								<h:column>
									<h:outputText width="20%" value="Complemento" />
								</h:column>	
							</rich:columnGroup>
						</f:facet>
						
						<rich:columnGroup>
							<rich:column align="center" width="5%" sortable="true">
								<h:selectBooleanCheckbox value="#{listExame.flagExameSelecionado}" style="border:white;" />
							</rich:column>					
							<rich:column width="59%" sortable="true">
								<h:outputText value="#{listExame.dscExame}" />
								<h:panelGroup style="float:right; font-size:11px" rendered="#{listExame.flgRegiaoColeta == 'S' and emergenciaForm.laboratorioInterfaceamento.vlrParametro == 'M'}">
										Região de Coleta:
										<h:selectOneMenu value="#{listExame.isnRegiaoColeta}" style="margin-left: 10px">
										    <f:selectItems value="#{listExame.listRegiaoColeta}" />
										</h:selectOneMenu>
									</h:panelGroup>
							</rich:column>
							<rich:column width="18%" align="center" sortable="true" >
								<h:inputText value="#{listExame.dscComplementoExameSelecionado}" style="text-transform: uppercase;" onblur="upper(this);"/>
							</rich:column>
						</rich:columnGroup>
						
						<f:facet name="footer">
							<rich:datascroller id="dsSepse" ajaxSingle="false" />
						</f:facet>
					</rich:dataTable>
		    		<table class="tabela" style="width: 100%;">
			    		<tr>
		    				<td colspan="2" align="center">
		    					<a4j:commandButton value="Adicionar" action="#{exameForm.selecionarExames}" rendered="#{not empty exameForm.listExame}" reRender="formularioExameSepse"/>
		    				</td>
	    				</tr>	    				
    				</table>
         
    			</fieldset>	
                  
         		<!-- Lista de Itens selecionados -->
	    		<h:panelGroup rendered="#{not empty exameForm.listExameSelecionado}" style="width:100%;" layout="block">
					<fieldset style="FONT-FAMILY: calibri; font-size: 12px;">
						<legend style="height: 20px;"><b>Exames Selecionados</b></legend>
						
						<div  style="height: 90px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
				    		<rich:dataList var="sel" value="#{exameForm.listExameSelecionado}" id="tblListSelecionadoSepse">
		         			<a4j:commandLink style="font-color=red;" value="#{sel.dscExame} #{sel.dscComplementoExameSelecionado} #{sel.dscRegiaoColeta}" onclick="if (!confirm('Deseja realmente remover este exame?')) return false" action="#{exameForm.deleteExameList}" reRender="formularioExameSepse" >
		         				<f:setPropertyActionListener value="#{sel.isnExame}" target="#{exameForm.isnExame}"/>
		         			</a4j:commandLink>
						    </rich:dataList>
					    </div>	
					    
					    <h:panelGroup rendered="#{emergenciaForm.laboratorioInterfaceamento.vlrParametro == 'M'}">
					    	<div style="float:left; margin-right:20px">
								Observação Medicamentos:<br/>
								<h:inputTextarea value="#{emergenciaForm.dscMedicamentos}" onkeyup="verificaTamanho('formularioExameSepse',this, 255, 'lblDscObs');" style="width:340px; height:50px" />
								<br/><label id="lblDscObs" style="font: bold; float: right;margin-right:15px;">(255 caracteres restantes)</label>
							</div>
						</h:panelGroup>
					    
					    <h:panelGroup rendered="#{(not empty exameForm.listExameSelecionado) and (exameForm.mostrarParametrosMatrix)}" style="float:left; font-size:12px">			
							<div style="float:left">
								Altura(m):
				         		<h:inputText value="#{emergenciaForm.altura}" onkeydown="mascara(this,decimal)" size="5" id="altura" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px" >
				         			<f:convertNumber pattern="#0.00" minFractionDigits="2"  />
				         		</h:inputText>
				         		Peso(kg):
				         		<h:inputText value="#{emergenciaForm.peso}" onkeydown="mascara(this,decimal)" size="5" id="peso" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px" >
				         			<f:convertNumber pattern="#0.00" minFractionDigits="2"  />
				         		</h:inputText>
			         		</div>
			         		
			         		<h:panelGroup rendered="#{emergenciaForm.pacienteOtimizado.sglSexo eq 'F'}" style="float:left">
				         		<div style="float:left; font-size:12px; margin-left:5px; margin-right:10px">Gestante:</div>
				         		<div style="float:left">
				         		<h:selectOneRadio  value="#{emergenciaForm.flgGestante}" style="font-size:xx-small; font: bold; padding:0; margin:0;">
									<f:selectItem itemValue="S" itemLabel="Sim"/>
									<f:selectItem itemValue="N" itemLabel="Não"/>
								</h:selectOneRadio>
								</div>			 
								<div style="clear:both"/>
							</h:panelGroup>
							
							
							<div style="clear:both"/>
						</h:panelGroup>
						
						<div style="clear:both"/>
						
						<div style="float:left;width: 100%;text-align: center; margin-top:-30px">
							<a4j:commandButton oncomplete="confirmarInserirExameSepse(0);" 
												   id="confirmarInserirExameSepse"														  
												value="Confirmar"
											 onclick="this.disabled=true;"
											 reRender="formularioMedico">
								<f:setPropertyActionListener value="#{exameForm.listExameSelecionado}" target="#{emergenciaForm.listExameSelecionado}"/>
								<f:setPropertyActionListener value="#{exameForm.isnSepse}"             target="#{emergenciaForm.isnSepse}" />
							 </a4j:commandButton>
							
							<a4j:commandButton oncomplete="validarConfirmacaoSepse('#{emergenciaForm.mensagemConfirmacao}');" 
												   id="inserirSepse"														  
												value="Confirmar Oculto"
											   action="#{emergenciaForm.inserirExameSepse}"
											 reRender="formInfeccao:tblEmergenciaSepse"
											 onclick="document.getElementById('formularioExameSepse:confirmarInserirExameSepse').disabled=true;"
											 style="display:none">
								<f:setPropertyActionListener value="#{emergenciaForm.pacienteOtimizado.isnInternacao}" target="#{exameForm.isnInternacao}"/>
								<f:setPropertyActionListener value="#{emergenciaForm.pacienteOtimizado.isnInternacao}" target="#{emergenciaForm.isnInternacao}"/>
								<f:setPropertyActionListener value="S" target="#{emergenciaForm.flgEmergencia}"/>
							 </a4j:commandButton>
						</div>
				
				    </fieldset>
			    </h:panelGroup>	    		
	    		<!-- end -->
         		</h:panelGroup>
         	  </h:panelGroup>	         
			</h:form>
	 	</rich:modalPanel>

		<!-- MODAL DE EXAMES -->
		
		<rich:modalPanel id="panelExame" width="1170" height="700" autosized="true" resizeable="false" headerClass="headerPanel3">
	        <f:facet name="header">
	            <h:outputText value="Solicitação de Exames"></h:outputText>            
	        </f:facet>
	        
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fechar4" />
	                <rich:componentControl for="panelExame" attachTo="fechar4" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet> 
	                
			<h:form id="formularioExame">
				<h:panelGroup style="height:650px; scroll-y:scroll" layout="block">
	    		<fieldset style="background-color: #F5F5F5;">	    			
	    			<div>
				   		<h:panelGroup layout="block" style="width:100%;margin-left:0px;">
							<h:selectOneRadio value="#{exameForm.isnSepse}" style="font-size:xx-small; font: bold; padding:0; margin:0;">
								<f:selectItem itemValue="0" itemLabel="Nenhum"/>
								<f:selectItem itemValue="1" itemLabel="Sepse Adulto"/>
								<f:selectItem itemValue="2" itemLabel="Sepse Neo"/>
								<f:selectItem itemValue="3" itemLabel="Sepse Ped"/>
								<f:selectItem itemValue="4" itemLabel="NPT Semanal"/>
								<f:selectItem itemValue="5" itemLabel="NPT Quinzenal"/>
								<f:selectItem itemValue="6" itemLabel="NPT Mensal"/>
								<f:selectItem itemValue="7" itemLabel="* PDO Inicial"/>
								<f:selectItem itemValue="8" itemLabel="* PDO Rotina"/>
								<f:selectItem itemValue="9" itemLabel="SESMT - Paciente Fonte"/>
								<f:selectItem itemValue="10" itemLabel="SESMT - Funcionário"/>
								<a4j:support event="onclick"  action="#{exameForm.pesquisarExames}"
								 reRender="formularioExame, panelGroupDeExibicao, btnPesquisaExame,dscExame"/>
							</h:selectOneRadio>
						</h:panelGroup>
               		</div>	    			                	               		
		    		<table class="tabela" style="width: 100%">	  		
			    		<tr>
							<td class="tdCor" width="5%"><h:outputText value="Exame" rendered="#{exameForm.isnSepse==0}"/></td> 
							<td class="tdBranco" width="80%">
								<h:inputText size="100" maxlength="80" id="dscExame" 
											 style="height:16px; text-transform: uppercase; margin-right:10px" onblur="upper(this);" value="#{exameForm.dscExame}"
											 rendered="#{exameForm.isnSepse==0}"/>
								<a4j:commandButton id="btnPesquisaExame" value="Pesquisar" action="#{exameForm.pesquisarExames}" rendered="#{exameForm.isnSepse==0}"
												   oncomplete="validar('#{exameForm.mensagem}');" reRender="formularioExame" />			 
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<h:outputText style="background-color: #FF6262;color: #FF6262;" value="LEGENDA ISGH" />
								<span>NECESSITA DE AUTORIZAÇÃO DO COORDENADOR DA UNIDADE OU DIREÇÃO ISGH</span>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<h:outputText style="background-color: #FFFF80;color: #FFFF80;" value="LEGENDA ISGH" />
								<span>NECESSITA DE AUTORIZAÇÃO DO CHEFE DE EQUIPE OU COORDENADOR DA UNIDADE</span>
							</td>
						</tr>
		    		</table>
		    		
		    		<rich:dataTable id="tabelaPesquisaExames"
									value="#{exameForm.listExame}"								
									var="listExame" 
									style="width: 100%;"
									rowClasses="par,impar"
									rows="5"
									rowKeyVar="linha" 
									rendered="#{not empty exameForm.listExame}">
					
						<f:facet name="header">
							<rich:columnGroup>
								<h:column>
									<h:outputText width="5%"/>
								</h:column>
								<h:column>
									<h:outputText width="75%" value="Exame" />
								</h:column>
								<h:column>
									<h:outputText width="20%" value="Complemento" />
								</h:column>	
							</rich:columnGroup>
						</f:facet>
						
						<rich:columnGroup style="background-color:#{(listExame.isnDisponibilidade == 3)?'#FF6262':  (listExame.isnDisponibilidade == 2) ? '#FFFF80' : 'white' };">
							<rich:column align="center" width="5%" sortable="true">
								<h:selectBooleanCheckbox value="#{listExame.flagExameSelecionado}" style="border:white;" />
							</rich:column>					
							<rich:column width="59%" sortable="true">
								<h:outputText value="#{listExame.dscExame}" />
								<h:panelGroup style="float:right; font-size:11px" rendered="#{listExame.flgRegiaoColeta == 'S' and emergenciaForm.laboratorioInterfaceamento.vlrParametro == 'M'}">
										Região de Coleta:
										<h:selectOneMenu value="#{listExame.isnRegiaoColeta}" style="margin-left: 10px">
										    <f:selectItems value="#{listExame.listRegiaoColeta}" />
										</h:selectOneMenu>
									</h:panelGroup>
							</rich:column>
							<rich:column width="18%" align="center" sortable="true" >
								<h:inputText value="#{listExame.dscComplementoExameSelecionado}" style="text-transform: uppercase;" onblur="upper(this);"/>
							</rich:column>
						</rich:columnGroup>
						
						<f:facet name="footer">
							<rich:datascroller id="ds" ajaxSingle="false" />
						</f:facet>
					</rich:dataTable>
		    		<table class="tabela" style="width: 100%;">
			    		<tr>
		    				<td colspan="2" align="center">
		    					<a4j:commandButton value="Adicionar" action="#{exameForm.selecionarExames}" rendered="#{not empty exameForm.listExame}" reRender="formularioExame"/>
		    				</td>
	    				</tr>	    				
    				</table>
         
    			</fieldset>	
                  
         		<!-- Lista de Itens selecionados -->
	    		<h:panelGroup rendered="#{not empty exameForm.listExameSelecionado}" style="width:100%;" layout="block">
					<fieldset style="FONT-FAMILY: calibri; font-size: 12px;">
						<legend style="height: 20px;"><b>Exames Selecionados</b></legend>
						
						<div  style="height: 90px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
				    		<rich:dataList var="sel" value="#{exameForm.listExameSelecionado}" id="tblListSelecionado">
		         			<a4j:commandLink style="font-color=red;" value="#{sel.dscExame} #{sel.dscComplementoExameSelecionado} #{sel.dscRegiaoColeta}" onclick="if (!confirm('Deseja realmente remover este exame?')) return false" action="#{exameForm.deleteExameList}" reRender="formularioExame" >
		         				<f:setPropertyActionListener value="#{sel.isnExame}" target="#{exameForm.isnExame}"/>
		         			</a4j:commandLink>
						    </rich:dataList>
					    </div>	
					    
					    <h:panelGroup rendered="#{emergenciaForm.laboratorioInterfaceamento.vlrParametro == 'M'}">
					    	<div style="float:left; margin-right:20px">
								Observação Medicamentos:<br/>
								<h:inputTextarea value="#{emergenciaForm.dscMedicamentos}" onkeyup="verificaTamanho('formularioExame',this, 255, 'lblDscObs');" style="width:340px; height:50px" />
								<br/><label id="lblDscObs" style="font: bold; float: right;margin-right:15px;">(255 caracteres restantes)</label>
							</div>
						</h:panelGroup>
					    
					    <h:panelGroup rendered="#{(not empty exameForm.listExameSelecionado) and (exameForm.mostrarParametrosMatrix)}" style="float:left; font-size:12px">			
							<div style="float:left">
								Altura(m):
				         		<h:inputText value="#{emergenciaForm.altura}" onkeydown="mascara(this,decimal)" size="5" id="altura" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px" >
				         			<f:convertNumber pattern="#0.00" minFractionDigits="2"  />
				         		</h:inputText>
				         		Peso(kg):
				         		<h:inputText value="#{emergenciaForm.peso}" onkeydown="mascara(this,decimal)" size="5" id="peso" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px" >
				         			<f:convertNumber pattern="#0.00" minFractionDigits="2"  />
				         		</h:inputText>
			         		</div>
			         		
			         		<h:panelGroup rendered="#{emergenciaForm.paciente.sglSexo eq 'F'}" style="float:left">
				         		<div style="float:left; font-size:12px; margin-left:5px; margin-right:10px">Gestante:</div>
				         		<div style="float:left">
				         		<h:selectOneRadio  value="#{emergenciaForm.flgGestante}" style="font-size:xx-small; font: bold; padding:0; margin:0;">
									<f:selectItem itemValue="S" itemLabel="Sim"/>
									<f:selectItem itemValue="N" itemLabel="Não"/>
								</h:selectOneRadio>
								</div>			 
								<div style="clear:both"/>
							</h:panelGroup>
							
							
							<div style="clear:both"/>
						</h:panelGroup>
						
						<div style="clear:both"/>
						
						<div style="float:left;width: 100%;text-align: center; margin-top:-30px">
							
							
							<a4j:commandButton oncomplete="confirmarInserirExame(#{emergenciaForm.pedidoBloqueado});" 
												   id="confirmarInserirExame"														  
												value="Confirmar"
											   action="#{emergenciaForm.verificarPedidoBloqueado}"
											 reRender="formularioMedico">
								<f:setPropertyActionListener value="#{exameForm.listExameSelecionado}" target="#{emergenciaForm.listExameSelecionado}"/>
								<f:setPropertyActionListener value="#{exameForm.isnSepse}"             target="#{emergenciaForm.isnSepse}" />
							 </a4j:commandButton>
							
							<a4j:commandButton oncomplete="validarConfirmacao('#{emergenciaForm.mensagemConfirmacao}');" 
												   id="inserir"														  
												value="Confirmar Oculto"
											   action="#{emergenciaForm.prepararInserirExame}"
											 reRender="formularioMedico"
											 style="display:none">
								<f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{exameForm.isnInternacao}"/>							
								<f:setPropertyActionListener value="S" target="#{emergenciaForm.flgEmergencia}"/>
							 </a4j:commandButton>
						</div>
				
				    </fieldset>
			    </h:panelGroup>	    		
	    		<!-- end -->
         		</h:panelGroup>
         		         
			</h:form>
	 	</rich:modalPanel>
		
		<!-- FIM DO MODAL DE EXAMES -->

		
		<!-- MODAL DE PRESCRIÇÃO -->
		<rich:modalPanel id="panelPrescricao" autosized="true" width="800" height="500" resizeable="false" headerClass="headerPanel3">
	        <f:facet name="header">
	            <h:outputText value="Prescrição"></h:outputText>            
	        </f:facet>
	        
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fechar5" />
	                <rich:componentControl for="panelPrescricao" attachTo="fechar5" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet> 
	                
			<h:form id="formularioPrescricao">
				<h:panelGroup style="height:300px;" layout="block">
		    		<fieldset style="background-color: #F5F5F5;">
		    			<div align="center">
					   		<h:outputText value="Paciente: " /><strong><h:outputText value="#{emergenciaForm.paciente.dscNome}"  /></strong><rich:spacer width="20"/>
					   		<h:outputText value="Prontuário: " /><strong><h:outputText value="#{emergenciaForm.paciente.numProntuario}"  /></strong>
				   		</div>		    		
			    		<table class="tabela" style="width: 100%">	  		
				    		<tr>
								<td class="tdCor" width="10%">Prescrição</td>
								<td class="tdBranco" width="90%">
									<h:inputText size="120" maxlength="180" id="dscPrescricao" style="height:16px; text-transform: uppercase;" onblur="upper(this);" value="#{emergenciaForm.dscPrescricao}"/>
								</td>
							</tr>
			    		</table>
			    		<br/>
			    		
			    		<div align="center" style="height: 30px;">
							<a4j:commandButton value="Adicionar" action="#{emergenciaForm.incluirItem}" oncomplete="validar('#{emergenciaForm.mensagemConfirmacao}');" reRender="formularioPrescricao,formularioMedico" />
						</div>
						<h:panelGroup style="overflow-y: auto; position: relative; height:200px">
				    		<rich:dataTable id="dtPepModal"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.lstPrescricaoPepAtual}" 
										var="listaPep" 
										rows="15" 
										rowKeyVar="linha" 
										style="width:100%; background-color:#F1F1F1;" 
										reRender="ds">
							
								<f:facet name="header">
									<rich:columnGroup>
										<h:column>
											<h:outputText>Prescrição Atual</h:outputText>
										</h:column>
									</rich:columnGroup>
								</f:facet>
								<rich:columnGroup onRowMouseOver="this.style.backgroundColor='#f1f1f1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
									<rich:column style="background:#CCCCCC;">
	
										<h:graphicImage id="expandMostrar" value="IMG/collapse.gif" onclick="expandItens(this,'subItens0')"/>
	
										<rich:spacer width="10"/>
										De 
										<strong>
											<h:outputText value="#{listaPep.datCadastro}" >
				     		  					<f:convertDateTime pattern=" dd/MM/yyyy" />
				          					</h:outputText>
				          				</strong>
			          					às 
			          					<strong>
				          					<h:outputText value="#{listaPep.datCadastro}" >
				     		  					<f:convertDateTime pattern=" HH:mm" timeZone="GMT-3" />  
				          					</h:outputText>
				          				</strong>
			          					 por <strong><h:outputText value="#{listaPep.usuario.dscUsuario}" /></strong>
									
										<rich:dataTable id="subItens0"
														var="subItem"
														value="#{listaPep.listPrescricaoPepItem}" 
														 style="width:100%;" onRowMouseOver="this.style.backgroundColor='#f1f1f1'"
														 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
											
											
											<rich:column title="Clique para alterar!">
												<rich:inplaceInput layout="block"
												value="#{subItem.dscPrescricao}"
												id="inplace"
												editEvent="onclick"
												showControls="false"
												onviewactivation="old = event.memo.oldValue;"
												style="text-transform: uppercase;"
												viewHoverClass="hover"
												viewClass="inplace"
												changedClass="inplace"
												changedHoverClass="hover" rendered="#{null == subItem.isnPrescricaoPepIs}">
												
													<a4j:support event="onviewactivated" action="#{emergenciaForm.alterarItem}" reRender="formularioPrescricao,formularioMedico" onsubmit="if (event.memo.value == old) return false;" oncomplete="validar('#{emergenciaForm.mensagemConfirmacao}');">
														<f:setPropertyActionListener value="#{subItem}" target="#{emergenciaForm.objPrescricaoPepItem}" />
													</a4j:support>
												</rich:inplaceInput>
												<b><h:outputText value="#{subItem.dscPrescricao}" style="text-decoration:line-through;" rendered="#{null != subItem.isnPrescricaoPepIs}" /></b>
											</rich:column>
											
											
											<rich:column style="text-align: center; width:10%">
												<a4j:commandButton image="/IMG/icone_excluir.gif" style="border:white; width: 12px; height: 12px;" title="EXCLUIR" action="#{emergenciaForm.excluirItem}" reRender="formularioPrescricao,formularioMedico" onclick="if (!confirm('Deseja realmente excluir esta prescrição?')) return false" oncomplete="validar('#{emergenciaForm.mensagemConfirmacao}');">
													<f:setPropertyActionListener value="#{subItem}" target="#{emergenciaForm.objPrescricaoPepItem}" />
												</a4j:commandButton>
											</rich:column> 
										
										</rich:dataTable>
									</rich:column>
								</rich:columnGroup>
							</rich:dataTable>
						</h:panelGroup>

						<br />
						<hr/>
						
						<h:panelGroup style="overflow-y: auto; position: relative; height:180px">
							
							<rich:dataTable style="width: 100%; background-color:#F1F1F1;"	   					
										value="#{emergenciaForm.lstPrescricaoPepAnt}"
										var="listaPep"
										rows="15"
										id="dtPepAnt"
									 reRender="dsEixo">
								<f:facet name="header">
									<rich:columnGroup>
										<h:column>
											<h:outputText>Prescrições Anteriores</h:outputText>
										</h:column>
									</rich:columnGroup>
								</f:facet>
								
								<rich:columnGroup onRowMouseOver="this.style.backgroundColor='#f1f1f1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
									<rich:column style="background:#CCCCCC;">
										<div style="float:left">
											<h:graphicImage id="expandMostrar" value="IMG/expand.gif" onclick="expandItens(this,'subItensAnt')"/>
											
											<rich:spacer width="10"/>
											De 
											<strong>
												<h:outputText value="#{listaPep.datCadastro}" >
					     		  					<f:convertDateTime pattern=" dd/MM/yyyy" />
					          					</h:outputText>
					          				</strong>
				          					às 
				          					<strong>
					          					<h:outputText value="#{listaPep.datCadastro}" >
					     		  					<f:convertDateTime pattern=" HH:mm" timeZone="GMT-3" />  
					          					</h:outputText>
					          				</strong>
				          					 por <strong><h:outputText value="#{listaPep.usuario.dscUsuario}" rendered="#{null == listaPep.usuarioConcl}"/><h:outputText value="#{listaPep.usuarioConcl.dscUsuario}" rendered="#{null != listaPep.usuarioConcl}"/></strong>
										</div>
									
										<a4j:commandButton image="/IMG/icone_seta_cima.png" style="border:white; width: 12px; height: 12px; float:right;" title="SUBIR PRESCRICAO PARA PRESCRICAO ATUAL" action="#{emergenciaForm.copiaPrescricaoGrupo}" reRender="formularioPrescricao,formularioMedico:dtPep" onclick="if (!confirm('Deseja realmente subir essa prescrição para a prescrição atual?')) return false" oncomplete="validar('#{emergenciaForm.mensagemConfirmacao}');">
											<f:setPropertyActionListener value="#{listaPep}" target="#{emergenciaForm.objPrescricaoPepCopia}" />
										</a4j:commandButton>
									
										<rich:dataTable id="subItensAnt"
														var="subItem"
														value="#{listaPep.listPrescricaoPepItem}" 
														style="width:100%; display:none" onRowMouseOver="this.style.backgroundColor='#f1f1f1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
											
											<rich:column>
												<b><h:outputText value="#{subItem.dscPrescricao}" rendered="#{null == subItem.isnPrescricaoPepIs}" /></b>
												<b><h:outputText value="#{subItem.dscPrescricao}" style="text-decoration:line-through;" rendered="#{null != subItem.isnPrescricaoPepIs}" /></b>
											</rich:column>
																				
											<rich:column style="text-align: center; width:10%">
												<a4j:commandButton image="/IMG/icone_seta_cima.png" style="border:white; width: 12px; height: 12px;" title="SUBIR ITEM PARA PRESCRICAO ATUAL" action="#{emergenciaForm.copiaPrescricao}" reRender="formularioPrescricao,formularioMedico:dtPep" onclick="if (!confirm('Deseja realmente subir esse item para a prescrição atual?')) return false" >
													<f:setPropertyActionListener value="#{subItem}" target="#{emergenciaForm.objPrescricaoPepItemCopia}" />
												</a4j:commandButton>
										    </rich:column>
										    
										    <rich:column style="text-align: center; width:10%">
													<a4j:commandButton image="/IMG/icone_excluir.gif" style="border:white; width: 12px; height: 12px;" title="SUSPENDER" action="#{emergenciaForm.suspender}" reRender="formularioPrescricao,formularioMedico" onclick="if (!confirm('Deseja realmente suspender esta prescrição?')) return false" oncomplete="validar('#{emergenciaForm.mensagemConfirmacao}');">
														<f:setPropertyActionListener value="#{subItem}" target="#{emergenciaForm.objPrescricaoPepItem}" />
													</a4j:commandButton>
										    </rich:column>
										    
										</rich:dataTable>
									
									</rich:column>
								</rich:columnGroup>
							</rich:dataTable>
							
						</h:panelGroup>    						

	    			</fieldset>	
    			</h:panelGroup>
			</h:form>
	 	</rich:modalPanel>
		<!-- FIM DO MODAL DE PRESCRIÇÃO -->
		
		
		<!-- MODAL CADASTRO DE PRESCRIÇÃO PADRÃO -->
		<rich:modalPanel id="panelCadastraPrescricaoPadrao" autosized="true" width="1100" height="250" resizeable="false">
   		<f:facet name="header">
    		<h:panelGroup>
				<h:graphicImage value="/images/icons/lupa.png" style="border:0; margin-right:10px; vertical-align:middle;" />
				<h:outputText value="Cadastro Prescrição Médica Padrão"/>
			</h:panelGroup>
		</f:facet>
    	<h:form id="formCadastroPP">
	    	<div class="areaPesquisa">
				<h:panelGroup id="panelPrescricaoPadrao">
	            	<h:outputText value="Prescrição Padrão: " style="font-size: 11px;  width:90px; white-space: nowrap;" /> <h:outputLabel style="color:red; font-size: 11px;" value="*" />
	                <h:selectOneMenu value="#{prescricaoPadraoForm.isnPrescricaoPadrao}" id="selPrescricaoPadrao">
						<f:selectItems value="#{prescricaoPadraoForm.sliPrescricaoPadrao}" />
						<a4j:support event="onchange" reRender="formCadastroPP" action="#{prescricaoPadraoForm.limparPrescricao}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<t:htmlTag value="br"/>  
				<a4j:region id="rb">
					<a4j:status id="status" 
				                onstart="#{rich:component('panelStatus')}.show()" 
				                onstop="#{rich:component('panelStatus')}.hide()" >
				 	</a4j:status>
					<h:panelGroup id="panelGrupo">
		            	<h:outputText value="Grupo: " style="font-size: 11px;  width:90px;" /> <h:outputLabel style="color:red; font-size: 11px;" value="*" />
		                <h:selectOneMenu value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao}" 
		                rendered="#{empty prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 0 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2}" style="margin-right:10px; width:200px;">
							<f:selectItem itemValue="0" itemLabel="Selecione"/>
							<f:selectItem itemValue="2" itemLabel="Medicamento"/>
							<f:selectItem itemValue="19" itemLabel="Hidratação"/>
							<f:selectItem itemValue="20" itemLabel="Antibiótico"/>			
							<a4j:support event="onchange" reRender="formCadastroPP" action="#{prescricaoPadraoForm.limparPrescricao}" 
								oncomplete="document.getElementById('formCadastroPP:statesinput2').value = ''; document.getElementById('formCadastroPP:statesinput').value = '';" />
						</h:selectOneMenu>
						<rich:spacer width="10"/>
		                <h:selectOneMenu value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao}" 
		                rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19}" style="margin-right:10px; width:200px;">
							<f:selectItem itemValue="0" itemLabel="Selecione"/>
							<f:selectItem itemValue="2" itemLabel="Medicamento"/>
							<f:selectItem itemValue="19" itemLabel="Hidratação"/>
							<f:selectItem itemValue="20" itemLabel="Antibiótico"/>			
							<a4j:support event="onchange" reRender="formCadastroPP" action="#{prescricaoPadraoForm.limparPrescricao}" 
								oncomplete="document.getElementById('formCadastroPP:statesinput').value = '';" />
						</h:selectOneMenu>
					</h:panelGroup>	
				</a4j:region>	
				<a4j:region>		
				<h:panelGroup id="panelDroga"  rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2}">					
		        
		        
		            <h:outputText value="Medicamento:" style="font-size: 11px; width:70px;"/>	<h:outputLabel style="color:red; font-size: 11px;" value="*" />	
	                <h:inputText value="" id="statesinput" style="margin-right:10px; width:522px; text-transform:uppercase;" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2}">
	       				<a4j:support event="onblur" reRender="panelDiluicao2 ,complementoTextH, formCadastroPP:selUnidadeDose, formCadastroPP:selPrescricaoVia" />
	       			</h:inputText>
	                <h:inputText value="" id="statesinput3" style="margin-right:10px; width:522px; text-transform:uppercase;" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19}">         
	       				<a4j:support event="onblur" reRender="panelDiluicao2 ,complementoTextH, formCadastroPP:selPrescricaoVia2, formCadastroPP:selUnidadeDose2 "/>
	       			</h:inputText>
	                <a4j:commandButton value="Pesquisar" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20}" 
	                                   onclick="#{rich:component('suggestion3')}.callSuggestion(true)"/>
	                <a4j:commandButton value="Pesquisar" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19}" onclick="#{rich:component('suggestionH3')}.callSuggestion(true)"/>
			        				
					<rich:suggestionbox height="200" width="500" usingSuggestObjects="true" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20}"
									 suggestionAction="#{prescricaoPadraoForm.autocomplete}" var="produto" ignoreDupResponses="true"				 
          				 						for="statesinput" fetchValue="#{produto.dscProduto}" id="suggestion3">
           				 <h:column>
			                <h:outputText value="#{produto.dscProduto}" />
			             </h:column>	    
                         <a4j:support id="a4j5" action="#{prescricaoPadraoForm.carregarCamposPreDefinidosDaPrescricao}" event="onselect">
                           <f:setPropertyActionListener value="#{produto}" target="#{prescricaoPadraoForm.objProduto}" reRender="formCadastroPP:idUnidade"/>
                    	 </a4j:support>                         
          				 </rich:suggestionbox>
          				 
					<rich:suggestionbox height="200" width="500" usingSuggestObjects="true" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19}"
					 suggestionAction="#{prescricaoPadraoForm.autocomplete}" var="produto" ignoreDupResponses="true"				 
          				 for="statesinput3" fetchValue="#{produto.dscProduto}" id="suggestionH3">
           				 <h:column>
			                <h:outputText value="#{produto.dscProduto}" />
			             </h:column>	    
                         <a4j:support id="a4j5" action="#{prescricaoPadraoForm.carregarCamposPreDefinidosDaPrescricao}" event="onselect">
                           <f:setPropertyActionListener value="#{produto}" target="#{prescricaoPadraoForm.objProduto}"/>
                    	 </a4j:support>                         
          				 </rich:suggestionbox>
				</h:panelGroup>
				</a4j:region>
				<t:htmlTag value="br" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20}"/>  						
				<h:panelGroup id="panelDiluicao" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20}">
					<h:outputText value="Dose:" style="font-size: 11px; width:103px;"/> <h:outputLabel style="color:red; font-size: 11px;" value="*" />
					<rich:spacer width="5"/>	
					<h:inputText maxlength="8" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.qtdDose}" onkeyup="javascript:return(formataNumero2(this))" onblur="validarNumero(this);"
					 id="dose" style="margin-right:10px; width:50px;" />
					<rich:spacer width="2"/>
	                <h:selectOneMenu value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.dscApresentacao}" id="selUnidadeDose" style="width:73px; height:18px;">
						<f:selectItems value="#{prescricaoPadraoForm.sliUnidadeDose}" />
					</h:selectOneMenu>
					<rich:spacer width="5"/>
					<h:outputText value="Diluição:" style="font-size: 11px; width:45px;"/>					
					<h:inputText value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.dscDiluicao}" maxlength="100" id="diluicao" style="margin-right:10px; width:225px; text-transform:uppercase;"/>
					<rich:spacer width="10"/>
					<h:outputText value="Via:" style="font-size: 11px; width:20px;"/>	<h:outputLabel style="color:red; font-size: 11px;" value="*" />						
					<h:selectOneMenu id="selPrescricaoVia" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnPrescricaoVia}" style="width:110px;">
						<f:selectItems value="#{prescricaoPadraoForm.sliPrescricaoVia}"/>
					</h:selectOneMenu>
					<rich:spacer width="5"/>
					<h:outputText value="Posologia:" style="font-size: 11px; width:52px;"/>	<h:outputLabel style="color:red; font-size: 11px;" value="*"  />						
					<h:selectOneMenu value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnPrescricaoPosologia}" style="width:162px;">
						<f:selectItems value="#{prescricaoPadraoForm.sliPrescricaoPosologia}"/>
					</h:selectOneMenu>
				</h:panelGroup>
				<t:htmlTag value="br" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19}"/>  						
				<h:panelGroup id="panelDiluicao2" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 19}">
					<h:outputText value="Volume:" style="font-size: 11px; width:93px;"/> <h:outputLabel style="color:red; font-size: 11px;" value="*" />				
					<h:inputText maxlength="8" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.qtdVolume}" onkeyup="javascript:return(formataNumero2(this))" onblur="validarNumero(this);"
					 id="quantidade" style="margin-right:10px; width:50px;" />
					<rich:spacer width="2"/>
	                <h:selectOneMenu value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.dscApresentacao}" id="selUnidadeDose2" style="width:70px; height:18px;">
						<f:selectItems value="#{prescricaoPadraoForm.sliUnidadeDose}" />
					</h:selectOneMenu>
					<rich:spacer width="5"/>
					<h:outputText value="Via:" style="font-size: 11px; width:20px;"/>	<h:outputLabel style="color:red; font-size: 11px;" value="*" />						
					<h:selectOneMenu id="selPrescricaoVia2" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnPrescricaoVia}" style="width:137px;">
						<f:selectItems value="#{prescricaoPadraoForm.sliPrescricaoVia}"/>
					</h:selectOneMenu>
					<rich:spacer width="10"/>
					<h:outputText value="Complemento:" style="font-size: 11px; width:85px;"/>
						<h:inputText maxlength="200" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.dscComplemento}" style="width:400px; text-transform: uppercase;"/>
					<rich:spacer width="10"/>
					<h:selectBooleanCheckbox id="seNecessarioH" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.flgSeNecessarioBoolean}" />
					<h:outputLabel value="Se Necessário" for="seNecessario" style="font-size: 11px; white-space: nowrap;"/>
					<h:panelGrid columns="3" rendered="#{prescricaoPadraoForm.objProduto.isnProduto == 1142 or prescricaoPadraoForm.objProduto.isnProduto == 1152 or prescricaoPadraoForm.objProduto.isnProduto == 1492 or prescricaoPadraoForm.objProduto.isnProduto == 1489 or prescricaoPadraoForm.objProduto.isnProduto == 1493 or prescricaoPadraoForm.objProduto.isnProduto == 1491 or prescricaoPadraoForm.objProduto.isnProduto == 1490 or prescricaoPadraoForm.objProduto.isnProduto ==1141}">
						<rich:spacer width="10"/>
						<h:selectBooleanCheckbox  value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.flgAcmBoolean}"/>
 							<h:outputLabel value=" ACM" for="idAcm" style="font-size: 11px; white-space: nowrap;"/>
					</h:panelGrid>
				</h:panelGroup>	
												
				<t:htmlTag value="br" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2}"/>  
				<h:panelGroup id="complementoTextH" rendered="#{prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 20 or prescricaoPadraoForm.prescricaoPadraoItemPep.isnTipoPrescricao == 2}">
					<h:panelGrid columns="6">
						<h:outputText value="Complemento:" style="font-size: 11px; width:85px;"/>
						<h:inputText maxlength="200" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.dscComplemento}" style="width:795px; text-transform: uppercase;"/>
						<rich:spacer width="10"/>
						<h:selectBooleanCheckbox id="seNecessario" value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.flgSeNecessarioBoolean}" />
 						<h:outputLabel value="Se Necessário" for="seNecessario" style="font-size: 11px; white-space: nowrap;"/>
 						<h:panelGrid columns="3" rendered="#{prescricaoPadraoForm.objProduto.isnProduto == 1142 or prescricaoPadraoForm.objProduto.isnProduto == 1152 or prescricaoPadraoForm.objProduto.isnProduto == 1492 or prescricaoPadraoForm.objProduto.isnProduto == 1489 or prescricaoPadraoForm.objProduto.isnProduto == 1493 or prescricaoPadraoForm.objProduto.isnProduto == 1491 or prescricaoPadraoForm.objProduto.isnProduto == 1490 or prescricaoPadraoForm.objProduto.isnProduto ==1141}">
							<rich:spacer width="10"/>
							<h:selectBooleanCheckbox value="#{prescricaoPadraoForm.prescricaoPadraoItemPep.flgAcmBoolean}"/>
  							<h:outputLabel value=" ACM" for="idAcm" style="font-size: 11px; white-space: nowrap;"/>
						</h:panelGrid>
					</h:panelGrid>
				</h:panelGroup>					
				<br/>			
			</div>
			<div style="text-align:center; margin-top:10px;">
			
				<a4j:commandButton value="Salvar" 
				                   styleClass="botaoModal" 
				                   style="margin-right:10px" 
				                   action="#{prescricaoPadraoForm.validarItem}" 
				                   reRender="frmCadPadrao, formCadastroPP"
				                   onclick="#{rich:component('panelStatus')}.show();"
							       oncomplete="#{rich:component('panelStatus')}.hide(); if (validaProduto('#{prescricaoPadraoForm.mensagem}')){ Richfaces.showModalPanel('panelSenhaCadPadrao') }"/>
				<a4j:commandButton id="btnCancelaPP" value="Cancelar" styleClass="botaoModal">
					<rich:componentControl for="panelCadastraPrescricaoPadrao" attachTo="btnCancelaPP" operation="hide" event="onclick" />
				</a4j:commandButton>					                   
			</div>
	    </h:form>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanelPadronizacao2"/>
        		<rich:componentControl for="panelCadastraPrescricaoPadrao" attachTo="fechaPanelPadronizacao2" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
	</rich:modalPanel>
	<!-- FIM DO MODAL PRESCRIÇÃO PADRÃO -->

		<!-- *****  MODAL PANEL ASSINATURA  -->
	<rich:modalPanel id="panelSenhaCadPadrao" autosized="true" width="450" resizeable="false">
		<f:facet name="header">
    		<h:panelGroup>
				<h:graphicImage value="/images/icons/access.png" style="border:0; margin-right:10px; vertical-align:middle" />
				<h:outputText value="Validação de Senha" style="font-size:11px; font-weight:bold;"/>
			</h:panelGroup>
    	</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="IMG/fechar.png" id="hidelinkCadPad" />
				<rich:componentControl for="panelSenhaCadPadrao" attachTo="hidelinkCadPad" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form id="frmCadPadrao">	      
			<fieldset class="fsPepResp">
				<div style="float: left; margin-right: 20px">		
					<h:outputLabel value="Usuário/Conselho" for="inputConselho"/><h:outputLabel value="*" style="color:red;" /><br/>
					<h:inputText id="inputConselho" value="#{prescricaoPadraoForm.usuarioCoren}" maxlength="20" styleClass="inputText" style="width: 150px">
						<a4j:support event="onchange"  actionListener="#{prescricaoPadraoForm.pesquisaNomeMedicoCoren}" reRender="nomeMedico"/>
					</h:inputText>
				</div>
				<div style="float: left;">
					<h:outputLabel value="Senha/Assinatura" for="inputAssinatura" /><h:outputLabel value="*" style="color:red;" /><br/>
					<h:inputSecret value="#{prescricaoPadraoForm.senhaAssinatura}" id="inputAssinatura" maxlength="20" styleClass="inputText" style="width: 150px"/>
				</div>
				<div style="clear:both;">
					<span style="width:400px; height:14px; padding:3px; display:block;">
						<strong>
							<h:outputText id="nomeMedico" value="#{prescricaoPadraoForm.nomeMedico}" style="font-size:11px;"/>
						</strong>
					</span>
				</div>
			</fieldset>
			<br clear="all"/>
			<div style="text-align:center; margin-top:10px">
				<a4j:commandButton id="btnAssinatura"
								   value="OK" 
								   action="#{prescricaoPadraoForm.salvar}"
								   onclick="this.disabled=true;"
								   style="margin-right:10px;width:100px;" 
								   styleClass="botaoModal"
								   oncomplete="this.disabled=false; if (validaProduto('#{prescricaoPadraoForm.mensagem}')){alert('Prescrição Médica Padrão cadastrada com sucesso!'); 
								   				Richfaces.hideModalPanel('panelSenhaCadPadrao'); Richfaces.hideModalPanel('panelCadastraPrescricaoPadrao'); document.getElementById('frmCadPadrao:btnAtualizarTablePadronizacao').click(); }"/>				
				<a4j:commandButton id="btnCancelCadPadrao"  value="Cancelar"  styleClass="botaoModal" style="width:100px;">
					<rich:componentControl for="panelSenhaCadPadrao" attachTo="btnCancelCadPadrao" operation="hide" event="onclick" />
				</a4j:commandButton>
				<a4j:commandButton id="btnAtualizarTablePadronizacao"
				   style="display:none;"
				   reRender="tablePadronizacao" action="#{prescricaoForm.handlePadronizacaoChange}"/> 
			</div>
		</h:form>
	</rich:modalPanel>
	<!-- FINAL DO MODAL PANEL ASSINATURA -->


		<!-- MODAL DE PRESCRIÇÃO ENFERMAGEM -->
		<rich:modalPanel id="panelPrescricaoEnfermagem" autosized="true" width="600" height="300" resizeable="false" headerClass="headerPanel3">
	        <f:facet name="header">
	            <h:outputText value="Prescrição Enfermagem"></h:outputText>            
	        </f:facet>
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fecharPrescEnf" />
	                <rich:componentControl for="panelPrescricaoEnfermagem" attachTo="fecharPrescEnf" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet>
	        <div class="campos">
	        	<h:form id="formPrescricaoEnfermagem">
	        		<h:panelGrid columns="2">
	        			<h:outputLabel value="Tipo Prescrição:" for="somCodTipoPrescricao" />
						<h:selectOneMenu value="#{emergenciaForm.objInternacaoPrescricao.codTipoPrescricao}" id="somCodTipoPrescricao" style="margin-right: 8px">
							<f:selectItems value="#{emergenciaForm.sliTipoPrescricaoEnfermagemPep}"/>
						</h:selectOneMenu>
						
						<h:outputLabel value="Observação:" for="inputObs" />
						<h:panelGroup>
							<h:inputTextarea value="#{emergenciaForm.objInternacaoPrescricao.dscObs}" id="inputObs" styleClass="campoTexto" style="width:500px; height:100px;" onkeyup="verificaTamanho('formPrescricaoEnfermagem',this, 200, 'lblObs');" onblur="upper(this);" /><br/>
       						<label id="lblObs" class="campoVazio2 campoTextoAtendMedic">(200 caracteres restantes)</label>
       					</h:panelGroup>
       					
       					<rich:column colspan="2" style="text-align:right">
							<a4j:commandButton id="btnGravarEnf" 
											   value="Salvar" 
											   action="#{emergenciaForm.limpaFormUsuario}"
											   onclick="#{rich:component('panelSenhaEnfermagem')}.show()" 
											   style="margin-right: 10px" 
											   styleClass="botaoModal" reRender="senhaEnf" />
							<a4j:commandButton id="btnCancelaEnf" value="Cancelar" styleClass="botaoModal">
								<rich:componentControl for="panelPrescricaoEnfermagem" attachTo="btnCancelaEnf" operation="hide" event="onclick" />
							</a4j:commandButton>       						
       					</rich:column>
	        		</h:panelGrid>
	        	</h:form>
			</div>
		</rich:modalPanel>	   
		<!-- FIM DO MODAL DE PRESCRIÇÃO ENFERMAGEM -->
		
		<!-- MODAL DE PRESCRIÇÃO ENFERMAGEM ITEM -->
		<rich:modalPanel id="panelPrescricaoEnfermagemItemVisualizacao" autosized="true" width="1000" height="500" resizeable="false" headerClass="headerPanel3">
	        <f:facet name="header">
	            <h:outputText value="Prescrição Enfermagem"/>            
	        </f:facet>
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fecharPrescEnfItemV" />
	                <rich:componentControl for="panelPrescricaoEnfermagemItemVisualizacao" attachTo="fecharPrescEnfItemV" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet>
	        <div class="campos" style="overflow:scroll; overflow-y:scroll; overflow-x:hidden; position:relative; height:450px;">
				<rich:panel headerClass="head2">
					<rich:panel bodyClass="pbody">
						<f:facet name="header"><h:outputText value="Prescrição"></h:outputText></f:facet>
						<h:form id="frmPrescricaoEnfIncV">
							<div>
								<rich:dataTable id="dtPrescricaoEnfermagemIncV"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.lstPrescricaoEnfermagemItemInc}" 
										var="itemInc" 
										style="" rowKeyVar="rowCount">
									<f:facet name="header">
										<rich:columnGroup>
											<rich:column style="width:5%">
												<h:panelGroup layout="block">  
													<table>   
													<tr>  
														<td valign="top"><h:selectBooleanCheckbox id="t1" onclick="checkAll( this.id, this.checked );" /></td>  
														<td><h:outputLabel value="Excluir" for="t1" /></td>  
													</tr>  
													</table>  
									            </h:panelGroup>
											</rich:column>
											<rich:column>Tipo</rich:column>
											<rich:column>Prescrição</rich:column>
											<rich:column>Aprazamento</rich:column>
										</rich:columnGroup>
									</f:facet>
									<rich:column>
										<h:inputHidden value="#{itemInc.isnItemPrescricaoPresc}" />
			   							<h:selectBooleanCheckbox value="#{itemInc.deleteItem}" />
									</rich:column>
									<rich:column>
								  		<h:outputText value="#{itemInc.tipoPrescricao.dscTipoPrescricao}" />
									</rich:column>
									<rich:column>
										<h:outputText value="#{itemInc.dscObs}"/>
									</rich:column>
									<rich:column>
										<h:outputText value="#{itemInc.dscAprazamento}" />
									</rich:column>
								</rich:dataTable>
							</div>
							<div>
								<div align="right" style="padding-top: 6px" >
						   			<a4j:commandButton id="btnVoltarEnfItem" value="Voltar" styleClass="botaoModal" action="#{emergenciaForm.carregarPrescricaoEnfermagem}" reRender="formularioMedico:dtPrescEnf">
										<rich:componentControl for="panelPrescricaoEnfermagemItemVisualizacao" attachTo="btnVoltarEnfItem" operation="hide" event="onclick" />
									</a4j:commandButton>
							   	</div>
							</div>
						</h:form>
					</rich:panel>
				</rich:panel>
			</div>
		</rich:modalPanel>	   
		<!-- FIM DO MODAL DE PRESCRIÇÃO ENFERMAGEM ITEM -->		
		
		<!-- MODAL DE PRESCRIÇÃO ENFERMAGEM ITEM -->
		<rich:modalPanel id="panelPrescricaoEnfermagemItem" autosized="true" width="1000" height="500" resizeable="false" headerClass="headerPanel3">
	        <f:facet name="header">
	            <h:outputText value="Prescrição Enfermagem"/>            
	        </f:facet>
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="IMG/fechar.png" id="fecharPrescEnfItem" />
	                <rich:componentControl for="panelPrescricaoEnfermagemItem" attachTo="fecharPrescEnfItem" operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet>
	        <div class="campos" style="overflow:scroll; overflow-y:scroll; overflow-x:hidden; position:relative; height:450px;">
				<rich:panel headerClass="head2">
			        <rich:panel bodyClass="pbody">
						<f:facet name="header"><h:outputText value="Prescrição Padrão"/></f:facet>
						<h:form id="frmPrescricaoEnf">								
							<div class="areaPesquisa">
			            		Prescrição de <strong><h:outputText value="#{emergenciaForm.objInternacaoPrescricao.datCadastro}" ><f:convertDateTime pattern=" dd/MM/yyyy" timeZone="GMT-3" /></h:outputText></strong>
			          			as <strong><h:outputText value="#{emergenciaForm.objInternacaoPrescricao.datCadastro}" ><f:convertDateTime pattern=" HH:mm" timeZone="GMT-3" /></h:outputText></strong>
			          			por <strong><h:outputText value="#{emergenciaForm.objInternacaoPrescricao.usuario.dscUsuario}" /></strong><br/>
				                <h:selectOneMenu value="#{emergenciaForm.isnTipoPrescricaoEnfermagemPadrao}" style="margin-right: 8px">
									<f:selectItems value="#{emergenciaForm.sliTipoPrescricaoEnfermagemPadrao}"/>
									<a4j:support event="onchange" reRender="frmPrescricaoEnf:dtPrescricaoEnfermagemPepiItem" action="#{emergenciaForm.handleTipoPrescricaoEnfermagemChange}" />
								</h:selectOneMenu>
							</div>
							<div style="border:1px solid #BED6F8">
								<h:panelGroup style="overflow:scroll; overflow-y:scroll; overflow-x:hidden; position:relative; height:120px;">
									<rich:dataTable id="dtPrescricaoEnfermagemPepiItem"
											onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
							           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
											value="#{emergenciaForm.lstPrescricaoEnfermagemItem}" 
											var="item" 
											style=""
											rowKeyVar="rowCount">
										<f:facet name="header">
											<rich:columnGroup>
												<rich:column style="width:5%">
													<h:panelGroup layout="block">  
														<table>   
														<tr>  
															<td valign="top"><h:selectBooleanCheckbox id="t0" onclick="checkAll( this.id, this.checked );" /></td>  
															<td><h:outputLabel value="Incluir" for="t0" /></td>  
														</tr>  
														</table>  
										            </h:panelGroup>
												</rich:column>
												<rich:column>Prescrição Padronizada</rich:column>
												<rich:column>Complemento</rich:column>
												<rich:column>Aprazamento</rich:column>
											</rich:columnGroup>
										</f:facet>
										<rich:column>
											<h:inputHidden value="#{item.isnItemPrescricaoPresc}" />
			    							<h:selectBooleanCheckbox value="#{item.insertItem}" />
										</rich:column>		
										<rich:column>
											<h:outputText value="#{item.dscPrescricao}"/>
										</rich:column>	
										<rich:column>
									  		<h:inputTextarea value="#{item.dscObs}" style="height: 40px;" styleClass="campoTexto" />
										</rich:column>
										<rich:column>
											<h:inputTextarea value="#{item.dscAprazamento}" cols="10" styleClass="campoTexto" />
										</rich:column>
									</rich:dataTable>
								</h:panelGroup>
							</div>
							<div>
								<div align="right" style="padding-top: 6px" >
							   		<a4j:commandButton value="Incluir" action="#{emergenciaForm.incluirLstPrescricaoEnfermagemItemInc}" reRender="dtPrescricaoEnfermagemInc,frmPrescricaoEnf:dtPrescricaoEnfermagemPepiItem" styleClass="botaoModal" />
							   	</div>
							</div>
						</h:form>						
					</rich:panel>
					<rich:panel bodyClass="pbody">
						<f:facet name="header"><h:outputText value="Prescrição"></h:outputText></f:facet>
						<h:form id="frmPrescricaoEnfInc">
							<div>
								<rich:dataTable id="dtPrescricaoEnfermagemInc"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.lstPrescricaoEnfermagemItemInc}" 
										var="itemInc" 
										style="" rowKeyVar="rowCount">
									<f:facet name="header">
										<rich:columnGroup>
											<rich:column style="width:5%">
												<h:panelGroup layout="block">  
													<table>   
													<tr>  
														<td valign="top"><h:selectBooleanCheckbox id="t1" onclick="checkAll( this.id, this.checked );" /></td>  
														<td><h:outputLabel value="Excluir" for="t1" /></td>  
													</tr>  
													</table>  
									            </h:panelGroup>
											</rich:column>
											<rich:column>Tipo</rich:column>
											<rich:column>Prescrição</rich:column>
											<rich:column>Aprazamento</rich:column>
										</rich:columnGroup>
									</f:facet>
									<rich:column>
										<h:inputHidden value="#{itemInc.isnItemPrescricaoPresc}" />
			   							<h:selectBooleanCheckbox value="#{itemInc.deleteItem}" />
									</rich:column>
									<rich:column>
								  		<h:outputText value="#{itemInc.tipoPrescricao.dscTipoPrescricao}" />
									</rich:column>
									<rich:column>
										<h:outputText value="#{itemInc.dscObs}"/>
									</rich:column>
									<rich:column>
										<h:outputText value="#{itemInc.dscAprazamento}" />
									</rich:column>
								</rich:dataTable>
							</div>
							<div>
								<div align="right" style="padding-top: 6px" >
							   		<a4j:commandButton value="Excluir" styleClass="botaoModal" action="#{emergenciaForm.excluirLstPrescricaoEnfermagemItemInc}" reRender="dtPrescricaoEnfermagemInc,frmPrescricaoEnf:dtPrescricaoEnfermagemPepiItem"  /><rich:spacer width="10"/>
							   		<a4j:commandButton value="Concluir Prescrição" action="#{emergenciaForm.limpaFormUsuario}" styleClass="botaoModal" onclick="#{rich:component('panelSenha')}.show()" reRender="senha" /><rich:spacer width="10"/>
						   			<a4j:commandButton id="btnCancelaEnfItem" value="Cancelar" styleClass="botaoModal" action="#{emergenciaForm.carregarPrescricaoEnfermagem}" reRender="formularioMedico:dtPrescEnf">
										<rich:componentControl for="panelPrescricaoEnfermagemItem" attachTo="btnCancelaEnfItem" operation="hide" event="onclick" />
									</a4j:commandButton>
							   	</div>
							</div>
						</h:form>
					</rich:panel>
				</rich:panel>
			</div>
		</rich:modalPanel>	   
		<!-- FIM DO MODAL DE PRESCRIÇÃO ENFERMAGEM ITEM -->
		
		<!-- *****  MODAL PANEL ASSINATURA  -->
		<rich:modalPanel id="panelSenha" autosized="true" width="480" resizeable="false" headerClass="headerPanel">
			<!-- BARRA DE TITULO MODAL-->	
			<f:facet name="header">
	            <h:outputText value="Validação de Senha"/>            
	        </f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="IMG/fechar.png" id="hidelink2" />
					<rich:componentControl for="panelSenha" attachTo="hidelink2" operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			<!-- FIM DA BARRA DE TITULO MODAL-->
			<!-- CAMPOS DE BUSCA -->
			<h:form id="senha">	      
				<div>
					<hr/>
					<div class="linhaFormulario" >
					    <div style="float: left; margin-right: 40px">		
							<label class="label largura110" >Usuário/Conselho:</label>
							<h:inputText value="#{emergenciaForm.usuarioCoren}" maxlength="20" styleClass="inputText" style="width: 80px"/>
						</div>
						<div style="float: left;">		
							<label class="label largura110" >Senha/Assinatura:</label>
							<h:inputSecret value="#{emergenciaForm.senhaAssinatura}" maxlength="20" style="width: 80px"/>
						</div>
					</div>		
				</div>
				<br clear="all"/>
				<div style="text-align: center; margin-top: 40px">
					<a4j:commandButton id="btnGravarPrescricaoPep" 
									   value="OK" 
									   action="#{emergenciaForm.concluirPrescricaoEnfermagemPepi}"
									   style="margin-right: 10px" 
									   styleClass="botaoModal"
									   oncomplete="avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelSenha', false);" 
									   reRender="formularioMedico:dtPrescEnf">
					</a4j:commandButton>	
					<a4j:commandButton id="btnCancelConcluir"  value="Cancelar" styleClass="botaoModal">
						<rich:componentControl for="panelSenha" attachTo="btnCancelConcluir" operation="hide" event="onclick" />
					</a4j:commandButton>
				</div>
			</h:form>
			<!-- FIM CONTEUDO MODAL -->
		</rich:modalPanel>
		<!-- FINAL DO MODAL PANEL ASSINATURA -->
		
		
		<!-- INICIO DO MODAL ALERTA ALERGIA -->
		<rich:modalPanel id="panelAlerta" autosized="true" width="600" height="100" resizeable="false" headerClass="headerPanel3">
					
			<f:facet name="header">
	            <h:outputText value="ALERGIA"></h:outputText>            
	        </f:facet>
			<h:form id="formModalAlergia">
			<h:panelGrid id="modalContentAlergia" columns="1">
				<h:panelGroup layout="block">
					<b><h:outputText value="Paciente possui alergia?" /></b>
				</h:panelGroup>
				<h:panelGroup layout="block">
					<h:selectOneRadio value="#{emergenciaForm.pacienteAlergia.flgAlergia}" styleClass="table">
			      					<f:selectItem itemLabel="   Sim" itemValue="S"/>
			      					<f:selectItem itemLabel="   Não" itemValue="N"/>
			      					<a4j:support event="onclick" reRender="modalContentAlergia" />
      				</h:selectOneRadio>
				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{emergenciaForm.pacienteAlergia.flgAlergia eq 'S'}">
					<h:inputTextarea value="#{emergenciaForm.pacienteAlergia.dscAlergia}"
				                 	 style="width: 550px; height:120px; margin-top:20px" 
				                 	 onkeyup="return limitarTamanhoCampo(this,1000);" />		 
				</h:panelGroup>
			</h:panelGrid>
			
			<center>
				<a4j:commandButton 
			  	   value="Confirmar"
			  	   actionListener="#{emergenciaForm.inserirPacienteAlergia}"
			  	   oncomplete="validarPacienteAlergia('#{emergenciaForm.codigoErro}');" 
			  	   styleClass="botaoModal100"
			  	   reRender="tblAlergia,formularioMedico"
			  	   style="margin-right: 20px"
			  	   />
			  	   <h:outputText value="   "/>
			  	   <a4j:commandButton value="Cancelar" 
			  	   				   rendered="#{(emergenciaForm.permitirFechaPanelAlergia eq 'S')}"
		  	   					 styleClass="botaoModal100"
		  	   					 onclick="Richfaces.hideModalPanel('panelAlerta')">
			  	   
			  	   </a4j:commandButton>
			  	   
			</center>
			</h:form>
		</rich:modalPanel>			
		<!-- FIM DO MODAL RECEITUARIO -->
		
		
		<!-- INICIO DO MODAL RECEITUARIO -->
		<rich:modalPanel id="panelReceituario" autosized="true" width="800" height="370" resizeable="false" headerClass="headerPanel3" domElementAttachment="parent">
					
					<f:facet name="header">
			            <h:outputText value="RECEITUÁRIO"></h:outputText>            
			        </f:facet>
					
			        <f:facet name="controls">
			            <h:panelGroup>
			                <h:graphicImage value="IMG/fechar.png" id="fecharReceituario" />
			                <rich:componentControl for="panelReceituario" attachTo="fecharReceituario" operation="hide" event="onclick" />
			            </h:panelGroup>
			        </f:facet>		
		
					<h:form id="formularioReceituario">
		        		<h:panelGrid  width="100%">
							<h:panelGrid columns="2">
								<h:panelGroup layout="block">
				        			<h:outputLabel value="Tipo de Receita"  style="font-size: 12px; height: 15px;"/>
				        		</h:panelGroup>
				        		<h:panelGroup layout="block">	
									<h:selectOneRadio id="tipoRec" value="#{internacaoDocTipoForm.isnInternacaoDocTipo}" style="font-size: 17px; height: 17px;">
													<f:selectItem itemValue="2" itemLabel="Receita Livre"/>
													<f:selectItem itemValue="1" itemLabel="Receita Controlada"/>
													<f:selectItem itemValue="5" itemLabel="Receita Dengue"/>
													<a4j:support  event="onclick" reRender="formularioReceituario" />
									</h:selectOneRadio>        	
								</h:panelGroup>	
							</h:panelGrid>        		
			        		<h:panelGrid width="100%" rendered="#{internacaoDocTipoForm.isnInternacaoDocTipo != 5}">
			        			<h:panelGroup>
			        				
			        				<script>
			        				<!--
			        					function limitarReceituario(lengthBanco, lengthEditor){
			        						if(tinyMCE.activeEditor.getContent().length > lengthBanco){
				        					   tinyMCE.activeEditor.setContent(tinyMCE.activeEditor.getContent().substring(0, lengthBanco));
				        					}

				        					var str = tinyMCE.activeEditor.getContent({'format' : 'text'});
				        					str = str.replace('<p>', '');
				        					str = str.replace('</p>', '');

				        					var i = lengthEditor - str.length;
				        					if(str.length > lengthEditor){
				        					   i = 0;
					        				   tinyMCE.activeEditor.setContent(tinyMCE.activeEditor.getContent({'format' : 'text'}).substring(0, lengthEditor));
					        				}

				        					document.getElementById('lblReceituarioDocTipo').innerHTML = '(' + i + ' caracteres restantes)';
			        					}

			        					function setupReceituario(ed, lengthBanco, lengthEditor){
			        						ed.onKeyUp.add(function (ed, evt) {
			        							limitarReceituario(lengthBanco, lengthEditor);
						        			});

				        					ed.onInit.add(function(ed) {
				        						limitarReceituario(lengthBanco, lengthEditor);
				        					});
				        				};
				        			-->
				        			</script>
				        			<rich:editor id="editor" theme="simple" 
				        			width="900" height="250" value="#{internacaoDocTipoForm.dscTexto}"
			        				  onsetup="setupReceituario(this, 4000, 2000);">			        					
			        				</rich:editor>
			        				<label id="lblReceituarioDocTipo">(2000 caracteres restantes)</label>
			                     </h:panelGroup>
			        		</h:panelGrid>
			        		<h:panelGrid width="100%" rendered="#{internacaoDocTipoForm.isnInternacaoDocTipo == 5}" style="margin-top:10px">
			        			Digite o Peso(kg):
				         		<h:inputText maxlength="6" value="#{internacaoDocTipoForm.peso}" onkeydown="mascara(this,decimal)" size="5" id="peso" style="height:16px; text-transform: uppercase; margin-left:5px; margin-right:10px" >
				         			<f:convertNumber pattern="#0.00" minFractionDigits="2"  />
				         		</h:inputText>
				         		
				         		<div style="margin-top:20px">
				         			Selecione o Tipo:
				         			<h:selectOneRadio value="#{internacaoDocTipoForm.tipo}">
									   <f:selectItem itemValue="A" itemLabel="Tipo A" />
									   <f:selectItem itemValue="B" itemLabel="Tipo B" />	   							
									</h:selectOneRadio>
				         		</div>
			        		</h:panelGrid>
		        		</h:panelGrid>
		        		
		        		<center>
			        		<a4j:commandButton oncomplete="validarDoc('#{internacaoDocTipoForm.codigoErro}','panelReceituario','fechar');" 
														   id="inserirReceituario"														  
														   value="Confirmar"
														   actionListener="#{internacaoDocTipoForm.inserir}"
														   action="#{emergenciaForm.carregarReceituario}"
														   reRender="formularioMedico, formularioMedico:tblReceituario, panelReceituario">
												<f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}"/>
							 </a4j:commandButton>
		        		</center>
		        		
		        		
		        		
					</h:form>
					
		</rich:modalPanel>			
		<!-- FIM DO MODAL RECEITUARIO -->	

		<!-- INICIO DO MODAL EVOLUCAO -->
		<rich:modalPanel id="panelEvolucao" autosized="true" width="800" height="250" resizeable="false" headerClass="headerPanel3">
					
					<f:facet name="header">
			            <h:outputText value="EVOLUÇÃO"></h:outputText>            
			        </f:facet>
					
			        <f:facet name="controls">
			            <h:panelGroup>
			                <h:graphicImage value="IMG/fechar.png" id="fecharEvolucao" />
			                <rich:componentControl for="panelEvolucao" attachTo="fecharEvolucao" operation="hide" event="onclick" />
			            </h:panelGroup>
			        </f:facet>		
		
					<h:form id="formularioEvolucao">
		        		<h:panelGrid  width="100%">
			        		<h:panelGrid width="100%" >
			        			<h:panelGroup>
			        				<rich:editor id="editor" theme="simple" width="800" height="200" onsetup="setup(this);" value="#{emergenciaForm.dscEvolucao}">
			        				</rich:editor>
			        				<input id="deslen" name="deslen" size="10" type="text" readonly="readonly" /> caracteres (máx. 3000)
			                     </h:panelGroup>
			        		</h:panelGrid>
		        		</h:panelGrid>
		        		
		        		<rich:spacer height="205"/>
		        		<center>
			        		<a4j:commandButton oncomplete="avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelEvolucao', false);" 
														   id="inserirEvolucao"														  
														   value="Confirmar"
														   action="#{emergenciaForm.inserirEvolucao}"
														   reRender="formularioMedico,panelEvolucao">
							 </a4j:commandButton>						
		        		</center>
					</h:form>
					
		</rich:modalPanel>			
		<!-- FIM DO MODAL EVOLUCAO -->	
	
		
		<!-- INICIO DO MODAL ATESTADO -->
		<rich:modalPanel id="panelAtestado" autosized="true" width="500" height="100" resizeable="false" headerClass="headerPanel3">
					
					<f:facet name="header">
			            <h:outputText value="ATESTADO"></h:outputText>            
			        </f:facet>
					
			        <f:facet name="controls">
			            <h:panelGroup>
			                <h:graphicImage value="IMG/fechar.png" id="fecharAtestado" />
			                <rich:componentControl for="panelAtestado" attachTo="fecharAtestado" operation="hide" event="onclick" />
			            </h:panelGroup>
			        </f:facet>		
									
		        	<h:form id="formularioAtestado">						
						<h:panelGrid  width="100%">
								<h:panelGrid columns="2">
										<h:panelGroup layout="block" width="100">
						        			<h:outputLabel value="Tipo"  style="font-size: 12px; height: 15px;" width="100"/>
						        		</h:panelGroup>
						        		<h:panelGroup layout="block">	
											<h:selectOneRadio value="#{internacaoDocTipoForm.isnInternacaoDocTipo}" style="font-size: 17px; height: 15px;">
															<f:selectItem itemValue="4" itemLabel="Atestado Livre"/>
															<f:selectItem itemValue="3" itemLabel="Atestado - Número de dias"/>
															<a4j:support  event="onclick" reRender="formularioAtestado" />
											</h:selectOneRadio>        	
										</h:panelGroup>
										<h:panelGroup layout="block">
										</h:panelGroup>		
										        		
					        			<h:panelGrid width="100%" >
					        			<h:panelGroup>
					        				<rich:editor id="editor" theme="simple" width="900" height="250" value="#{internacaoDocTipoForm.dscTexto}" 
					        							rendered="#{internacaoDocTipoForm.isnInternacaoDocTipo == 4}">
					        				</rich:editor>
					                     </h:panelGroup>
					        			<h:panelGroup rendered="#{internacaoDocTipoForm.isnInternacaoDocTipo == 3}" id="numeroDiasAtestadoId">
						        			<h:outputLabel value="Número de dias"  style="font-size: 12px; height: 15px;"/>
						        			<h:inputText id="idQtdDias" value="#{internacaoDocTipoForm.qtdDias}" onkeypress="return soNumero(event, this)" size="3" maxlength="3" />
					                     </h:panelGroup>
				                  		</h:panelGrid>
				        		</h:panelGrid>
			        	</h:panelGrid>
			        		
			        		<rich:spacer height="255"/>
			        		<center>
				        		<a4j:commandButton oncomplete="validarDoc('#{internacaoDocTipoForm.codigoErro}','panelReceituario','fechar');" 
															   id="inserirAtestado"														  
															   value="Confirmar"
															   actionListener="#{internacaoDocTipoForm.inserirAtestado}"
															   action="#{emergenciaForm.carregarAtestado}"
															   reRender="formularioMedico,formularioMedico:tblAtestado,panelAtestado"
															   rendered="#{internacaoDocTipoForm.isnInternacaoDocTipo == 4}">
													<f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}"/>
								 </a4j:commandButton>
								 <a4j:commandButton oncomplete="validarDoc('#{internacaoDocTipoForm.codigoErro}','panelAtestado','fechar');" 
															   id="inserirAtestado1"														  
															   value="Confirmar"
															   actionListener="#{internacaoDocTipoForm.inserirAtestado}"
															   action="#{emergenciaForm.carregarAtestado}"
															   reRender="formularioMedico,formularioMedico:tblAtestado,panelAtestado"
															   rendered="#{internacaoDocTipoForm.isnInternacaoDocTipo == 3}">
													<f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}"/>
								 </a4j:commandButton>
			        		</center>
		        		</h:form>
					
		</rich:modalPanel>			
		<!-- FIM DO MODAL ATESTADO -->		
		
					<!-- BARRA DE TITULO MODAL-->	
		<rich:modalPanel id="pnlPrescricaoPep" autosized="false" width="900" height="600" resizeable="false">
    	<f:facet name="header">
    		<h:panelGroup>
				<h:graphicImage value="images/icons/mensagem2.png" style="border:0; margin-right:10px; vertical-align:middle;" />
				<h:outputText value="Observação Prescrição" style="font-size:11px; font-weight:bold;"/>
			</h:panelGroup>
    	</f:facet>
    	<f:facet name="controls">
    	 	<h:panelGroup>
        		<h:graphicImage value="IMG/fechar.png" id="fechaPanel"/>
        		<rich:componentControl for="pnlPrescricaoPep" attachTo="fechaPanel" operation="hide" event="onclick" />
        	</h:panelGroup>
    	</f:facet>
    	<h:form id="formPrescricaoObs">
    		<fieldset style="background-color: #F5F5F5">
	    		<div style="float:left;" >
	    			<table cellspacing="10">
	    			<tr>
	    				<td>
	    					<label class="font10">Observação:</label><br/>
	    					<h:inputTextarea id="dscObs" value="#{prescricaoForm.dscObs}" maxlength="1000"  styleClass="campoTexto largura200" 
	       				                 onblur="this.value.toUpperCase(); verificaTamanho('formPrescricaoObs',this, 1000, 'lblDscObs');" style="width: 450px;" onkeyup="verificaTamanho('formPrescricaoObs',this, 1000, 'lblDscObs')" />
							<br/><label id="lblDscObs" class="labelChar">(1000 caracteres restantes)</label>
	    				</td>
	    				<td>
	    					<a4j:commandButton styleClass="botaoModal" style="width:120px;" 
	       				                   id="salvar" value="Salvar" action ="#{prescricaoForm.adicionaPrescricaoObs}" 
	       				                   reRender="prescricaoObs,formularioMedico:prescricaoPepi,formPrescricaoObs:dscObs" 
	       				                   oncomplete="validacaoCadastroObs(#{prescricaoForm.erroCadastroObs})"/>
		       				<rich:spacer width="10"/>
		       				<a4j:commandButton id="cancelar" styleClass="botaoModal" style="width:120px;" value="Cancelar" onclick="#{rich:component('pnlPrescricaoPep')}.hide()" />	
	    				</td>
	    			</tr>
	    			</table>
	    		</div>
    		</fieldset>
    		<br/>
    		<div style="height:200px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
				<rich:dataTable id="prescricaoObs"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
								onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{prescricaoForm.listaPrescricaoObs}" 
								var="presObs" 
								rows="10"
								rowKeyVar="linha" 
								style="width: 97%; 
								cursor: pointer;">
					<f:facet name="header">
						<rich:columnGroup>
							<h:column>
								<h:outputText value="Data" />
							</h:column>
							<h:column>
								<h:outputText value="Observações" />
							</h:column>
							<h:column>
								<h:outputText value="Profissional" />
							</h:column>
						</rich:columnGroup>
					</f:facet>
					<rich:column sortable="true">
						<h:outputText value="#{presObs.datObs}" >
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
						</h:outputText> 
					</rich:column>
					<rich:column  sortable="true">
						<h:outputText value="#{presObs.dscObs}" />
					</rich:column>
					<rich:column sortable="true">
						<h:outputText value="#{presObs.profissional.dscUsuario}" />
					</rich:column>
					<f:facet name="footer">
						<rich:datascroller id="ds" ajaxSingle="false" />
					</f:facet>
				</rich:dataTable>
			</div>
			<br/>
			<div style="height:200px; overflow:scroll; overflow-y:scroll; overflow-x:hidden;">
				<rich:dataTable id="prescricaoItem"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
								onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{prescricaoForm.lstPrescricaoPepItem}"
								var="presItem" 
								rows="7"
								rowKeyVar="linha" 
								style="width: 97%; 
								cursor: pointer;">
					<f:facet name="header">
						<rich:columnGroup>
							<h:column>
								<h:outputText value="Item" />
							</h:column>
							<h:column>
								<h:outputText value="Tipo" />
							</h:column>
							<h:column>
								<h:outputText value="Prescrição" />
							</h:column>
							<rich:column>
								<h:outputText value="Complemento" />
							</rich:column>									
						</rich:columnGroup>
					</f:facet>
					<rich:column sortable="true">
						<h:outputText value="#{linha+1}" />
					</rich:column>
					<rich:column  sortable="true">
						<h:outputText value="#{presItem.tipoPrescricao.dscTipoPrescricao}" style="text-transform: uppercase; font-size: 11px;"/>
					</rich:column>
					<rich:column sortable="true">
						<h:panelGroup>
							<h:outputText value="#{presItem.dscPrescricao}" style="#{(not empty presItem.produto and presItem.produto.flgMpp)?'text-transform: uppercase; font-size: 11px; text-decoration: underline; font-weight:bold;':'text-transform: uppercase; font-size: 11px;'}" rendered="#{presItem.isnPrescricaoPepIs == null and !presItem.edit}"/>
							<h:outputText value="#{presItem.dscPrescricao}" style="#{(not empty presItem.produto and presItem.produto.flgMpp)?'text-decoration: line-through underline; text-transform: uppercase; font-size: 11px; font-weight:bold;':'text-decoration: line-through; text-transform: uppercase; font-size: 11px;'}" rendered="#{presItem.isnPrescricaoPepIs != null}"/>
						</h:panelGroup>
					</rich:column>
					<rich:column>
					  	<h:outputText value="#{presItem.dscComplemento}" style="text-transform: uppercase; font-size: 11px;"/>
					</rich:column>	
					<f:facet name="footer">
						<rich:datascroller id="ds1" ajaxSingle="false" />
					</f:facet>
				</rich:dataTable>
			</div>
    		</h:form>
		</rich:modalPanel>	
		
		<!-- *****  MODAL PANEL ASSINATURA  -->
		<rich:modalPanel id="panelObsFarm" autosized="true" width="800" resizeable="false">
			<f:facet name="header">
	    		<h:panelGroup>
					<h:graphicImage value="/images/icons/access.png" style="border:0; margin-right:10px; vertical-align:middle" />
					<h:outputText value="Análise do Farmacêutico" style="font-size:11px; font-weight:bold;" rendered="#{prescricaoForm.objPrescricaoPep.datConclusao != null and prescricaoForm.objPrescricaoPep.datAnaliseFarm == null}"/>
					<h:outputText value="Observação do Farmacêutico" style="font-size:11px; font-weight:bold;" rendered="#{prescricaoForm.objPrescricaoPep.datAnaliseFarm != null}"/>
				</h:panelGroup>
	    	</f:facet>		
			<h:form id="frmPrescItemObs">	    
				<h:outputText value="Análise realizada pelo farmacêutico." style="font-size:11px;" rendered="#{prescricaoForm.objPrescricaoPep.datConclusao != null and prescricaoForm.objPrescricaoPep.datAnaliseFarm == null}"/>
				<h:outputText value="Observação realizada pelo farmacêutico." style="font-size:11px;" rendered="#{prescricaoForm.objPrescricaoPep.datAnaliseFarm != null}"/>
				<br/> <br/>
				<fieldset class="fsPepResp">
					<div>		
						<h:outputLabel value="Observação" for="inputObservacao"/><h:outputLabel value=" *" style="color: red;" rendered="#{prescricaoForm.objPrescricaoPep.datAnaliseFarm != null}"/> <br/>
						<h:inputTextarea id="inputObservacao"
										 ajaxsingle="true"
						                 styleClass="campoTexto"
						                 style="width: 700px; height: 100px;"
						                 onkeyup="limitarTamanhoCampo(this,500)"
						                 onblur="upper(this); limitarTamanhoCampo(this,500);"
										 value="#{prescricaoForm.dscObsAnaliseFarmacia}" /><br/>
					</div>
					<br/>
					<br/>
				</fieldset>
				<br clear="all"/>
				<div style="text-align:center; margin-top:10px">
					<a4j:commandButton id="btnObs"
									   value="OK" 
									   actionListener="#{prescricaoForm.verificarObservacao}"
									   style="margin-right:10px;width:100px;" 
									   styleClass="botaoModal"
									   reRender="panelSenhaAnaliseFarm"
									   oncomplete="avisosValidacaoObs(#{prescricaoForm.avisoValidacao});">   		
					</a4j:commandButton>	
					
					<a4j:commandButton id="btnCancelObs" action="#{prescricaoForm.carregaPrescricoesPepi}"  value="Voltar"  styleClass="botaoModal" style="width:100px;" reRender="panelObsFarm, formularioMedico:prescricaoPepi">
						<f:setPropertyActionListener value="#{null}" target="#{prescricaoForm.dscObsAnaliseFarmacia}"  />
						<rich:componentControl for="panelObsFarm" attachTo="btnCancelObs" operation="hide" event="onclick" />
					</a4j:commandButton>
				</div>
				<br clear="all"/>
				<h:panelGroup rendered="#{prescricaoForm.listaObsAnaliseFarmacia.size() > 0}">
				<fieldset>				
					<div style="height:200px; overflow:scroll; overflow-y:scroll; overflow-x:hidden;">
						<rich:dataTable id="tabelaObsAnaliseFarmacia"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
								onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{prescricaoForm.listaObsAnaliseFarmacia}" 
								var="analise" 
								rows="5"
								rowKeyVar="linha" 
								style="width: 97%"
								rendered="#{prescricaoForm.listaObsAnaliseFarmacia.size() > 0}" 
								reRender="ds">
							<f:facet name="header">
								<rich:columnGroup>
									<rich:column>
						            	<h:outputText value="Data Cadastro" />
						            </rich:column>					            
						            <rich:column>
						            	<h:outputText value="Observação" />
						            </rich:column>					            			            			            					
								</rich:columnGroup>
							</f:facet>
							<rich:columnGroup>
								<rich:column width="15%" style="text-align:center">
									<h:outputText value="#{analise.datObsAnaliseFarm}" >
										<f:convertDateTime pattern="dd/MM/yyyy - HH:mm" timeZone="GMT-3" />
									</h:outputText>					
								</rich:column>							
								<rich:column width="85%" style="text-align:left">
									<h:outputText value="#{analise.dscObsAnaliseFarm}" />					
								</rich:column>							
							</rich:columnGroup>				
							<f:facet name="footer" >
								<rich:datascroller id="ds" ajaxSingle="false" />
							</f:facet>			
						</rich:dataTable>
					</div>								
				</fieldset>
				</h:panelGroup>
			</h:form>
		</rich:modalPanel>
		<!-- FINAL DO MODAL PANEL ASSINATURA -->

			<!-- *****  MODAL PANEL ASSINATURA  -->
		<rich:modalPanel id="panelSenhaAnaliseFarm" autosized="true" width="400" resizeable="false">
			<f:facet name="header">
	    		<h:panelGroup>
					<h:graphicImage value="/images/icons/access.png" style="border:0; margin-right:10px; vertical-align:middle" />
					<h:outputText value="Validação de Senha"/>				
				</h:panelGroup>
	    	</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="IMG/fechar.png" id="hidelink4" />
					<rich:componentControl for="panelSenhaAnaliseFarm" attachTo="hidelink4" operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			<h:form id="frmPrescItemSenha">			
				<h:outputText value="Análise realizada pelo farmacêutico." rendered="#{prescricaoForm.objPrescricaoPep.datConclusao != null and prescricaoForm.objPrescricaoPep.datAnaliseFarm == null}"/>
				<h:outputText value="Observação realizada pelo farmacêutico." rendered="#{prescricaoForm.objPrescricaoPep.datAnaliseFarm != null}"/>
				<br/> <br/>
				<fieldset class="fsPepResp">
					<div style="float: left; margin-right: 20px">		
						<h:outputLabel value="Usuário/Conselho" for="inputConselho"/><h:outputLabel value="*" style="color:red;" /><br/>
						<h:inputText id="inputConselho" value="#{prescricaoForm.usuarioCoren}" maxlength="20" styleClass="inputText" style="width: 150px">
							<a4j:support event="onchange"  actionListener="#{prescricaoForm.pesquisaNomeMedicoCoren}" reRender="nomeMedico" oncomplete="setarFocoSenha('frmPrescItemSenha:inputAssinatura');" />
						</h:inputText>
					</div>
					<div style="float: left;">
						<h:outputLabel value="Senha/Assinatura" for="inputAssinatura" /><h:outputLabel value="*" style="color:red;" /><br/>
						<h:inputSecret value="#{prescricaoForm.senhaAssinatura}" id="inputAssinatura" maxlength="20" styleClass="inputText" style="width: 150px"/>
					</div>
					<div style="clear:both;">
						<span style="width:400px; height:14px; padding:3px; display:block;">
							<strong>
								<h:outputText id="nomeMedico" value="#{prescricaoForm.nomeMedico}" style="font-size:11px;"/>
							</strong>
						</span>
					</div>
				</fieldset>
				<br clear="all"/>
				<div style="text-align:center; margin-top:10px">
					<a4j:commandButton id="btnAssinatura"
									   value="OK" 
									   action="#{prescricaoForm.gravarAnaliseFarmacia}"
									   style="margin-right:10px;width:100px;" 
									   styleClass="botaoModal"
									   reRender="panelProrrogacao, formularioMedico:prescricaoPepi, panelObsFarm"
									   oncomplete="avisosValidacaoFarm(#{prescricaoForm.avisoValidacao}, 'panelSenhaAnaliseFarm', false);">   		
					</a4j:commandButton>	
					
					<a4j:commandButton id="btnCancelAssinatura"  value="Cancelar"  styleClass="botaoModal" style="width:100px;">
						<rich:componentControl for="panelSenhaAnaliseFarm" attachTo="btnCancelAssinatura" operation="hide" event="onclick" />
					</a4j:commandButton>
				</div>
			</h:form>
		</rich:modalPanel>
		<!-- FINAL DO MODAL PANEL ASSINATURA -->
			
		<rich:modalPanel id="panelProtocoloSepse" autosized="true" width="500" resizeable="false" headerClass="headerPanel">
			<!-- BARRA DE TITULO MODAL-->	
			<f:facet name="header">
				<h:outputText value="CONFIRMAR A OPERAÇÃO"></h:outputText>		
			</f:facet>
		
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="IMG/fechar.png" id="icoLibera" />
					<rich:componentControl for="panelProtocoloSepse" attachTo="icoLibera" operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			
			<!-- FIM DA BARRA DE TITULO MODAL-->
		
			<!-- CAMPOS DE BUSCA -->
			<h:form id="formProtocoloSepse">
				 <h:panelGroup style="float: left; align:left; text-align:left; width:100%;">
					<fieldset style="font-size: 11px;">
						<legend><b>Sepse</b></legend>
						<h:outputLabel value="ATB" style="margin-right:10px;"/> <h:outputText style="font-size:11px;" value="Hora: "/> 
		 				<h:inputText maxlength="5"
						    onkeypress="javascript:return(formataHora(this,event))"
						    onblur="tamanhoHora(this);"
						    value="#{emergenciaForm.protocoloSepse.horaAtb}"
						    style="width:50px" /> <h:outputText style="font-size:11px; color:red;" value=" *"/> 
						<br/>
						<h:outputText style="font-size:11px;" value="Volume: "/> <h:outputText style="font-size:11px; color:red;" value=" *"/>
				    	<h:selectOneRadio id="selSepse" layout="pageDirection" value="#{emergenciaForm.protocoloSepse.codVolumeReposicao}">
					        <f:selectItem itemLabel="Volume não prescrito" itemValue="1" />
					        <f:selectItem itemLabel="Volume administrado menor/maior que prescrição médica" itemValue="2" />
					        <f:selectItem itemLabel="Reposição volêmica conforme prescrição médica" itemValue="3" />
					        <a4j:support event="onclick" reRender="formProtocoloSepse"/>
					    </h:selectOneRadio>
						<a4j:outputPanel rendered="#{emergenciaForm.protocoloSepse.codVolumeReposicao == 2}">
						    <fieldset style="font-size: 11px;">					    
							<legend><b>Reposição Volêmica: </b></legend>
					   	    	<h:outputText style="font-size:11px;" value="Vol: "/> 
								<h:inputText maxlength="7" value="#{emergenciaForm.protocoloSepse.volumeReposicao}" onkeypress="return soNumero(event, this)"
											 style="width:45px; text-transform: uppercase; margin-left:5px; margin-right:10px"/>		
							    <h:outputText style="font-size:11px; color:red;" value=" *"/>	   	    	
								<h:outputText style="font-size:11px; margin-right:10px;" value=" ml"/>
								<h:outputText style="font-size:11px;" value="Hora: "/> 
				 				<h:inputText maxlength="5"
								    onkeypress="javascript:return(formataHora(this,event))"
								    onblur="tamanhoHora(this);"
								    value="#{emergenciaForm.protocoloSepse.horaReposicao}"
								    style="width:50px" /> <h:outputText style="font-size:11px; color:red;" value=" *"/>
								<br style="clear:both;" />
								<h:panelGrid columns="2">
									<h:outputLabel value="Justificativa para não reposição volêmica completa" style="font-size:11px; font-weight: bold;"/> 
									<h:outputText style="font-size:11px; color:red;" value=" *"/>
								</h:panelGrid>
								<h:selectOneMenu value="#{emergenciaForm.protocoloSepse.isnSintomaSepseEnf}" 
				                 style="margin-right:10px; width:200px;">
									<f:selectItem itemValue="0" itemLabel="Selecione"/>
									<f:selectItem itemValue="1" itemLabel="Hipervolemia"/>
									<f:selectItem itemValue="2" itemLabel="Cogestão Pulmomar"/>
									<f:selectItem itemValue="3" itemLabel="Outros"/>
							<a4j:support event="onchange" reRender="formProtocoloSepse"/>									
								</h:selectOneMenu>
								<h:panelGrid columns="2">
									<h:outputLabel value="Justificativa" style="font-size:11px; font-weight: bold;"/> 
									<h:outputText style="font-size:11px; color:red;" value=" *" rendered="#{emergenciaForm.protocoloSepse.isnSintomaSepseEnf == 3}"/>
								</h:panelGrid>
								<h:inputTextarea
									value="#{emergenciaForm.justificativaRepoVolemica.dscJustificativaReposicaoVolemica}"
									id="inputOutros" styleClass="campoTexto"
									style="width:400px; height:60px;"
									onkeyup="verificaTamanho('formProtocoloSepse',this, 200, 'lblOutrosEnfermagem');"
									onblur="verificaTamanho('formProtocoloSepse',this, 200, 'lblOutrosEnfermagem'); upper(this);" />
								<br />
								<label id="lblOutrosEnfermagem" class="campoVazio2 campoTextoAtendMedic">(200
									caracteres restantes)</label>
							</fieldset>
						</a4j:outputPanel>
						<br/>
						<h:outputText style="font-size:11px; margin-right:5px;" value="Coleta de Exames: "/> 
						<h:outputText style="font-size:11px;" value="Hora: "/>
		 				<h:inputText maxlength="5"
						    onkeypress="javascript:return(formataHora(this,event))"
						    onblur="tamanhoHora(this);"
						    value="#{emergenciaForm.protocoloSepse.horaColetaExame}"
						    style="width:50px" /> <h:outputText style="font-size:11px; color:red;" value=" *"/>
						     
					 </fieldset>
			   	  </h:panelGroup> 
			   	  <br/>
	   	  		  <center>
				    	<a4j:commandButton value="OK" style="margin-right:5px;" styleClass="botaoModal" 
				    						action="#{emergenciaForm.gravarProtocoloSepse}" reRender="formInfeccao, tblSepse, tblProtocoloSepse" 
				    						oncomplete="if (validarMsg('#{emergenciaForm.mensagem}')){ Richfaces.hideModalPanel('panelProtocoloSepse'); }"/>

				    	<a4j:commandButton value="Cancelar" styleClass="botaoModal"
				    						oncomplete="Richfaces.hideModalPanel('panelProtocoloSepse');"/>	
        		</center>
			 </h:form>
		</rich:modalPanel>
		
		<h:panelGroup rendered="#{emergenciaForm.alertaAlergia and not(isMedicoAtend or isOdontoAtend or possuiAtendMedico)}">
			<script>
				Richfaces.showModalPanel('panelAlerta');
			</script>
		</h:panelGroup>
		
		<h:form id="formularioMedico">
		<div style="text-align: center">
		<div id="geral">   
		    <div class="cabAreaPesquisa">ATENDIMENTO MÉDICO</div>
		   	
		   	<!-- ALTERAÇÃO DIA 09.04.2012 POR JORGE MAIA EM: QUADRO ATENDIMENTO -->	
   			<h:panelGrid width="98%" style="padding: 0px 2px 0px 2px; margin:0px auto 0px auto;">
   				<h:panelGrid width="98%" columns="3" styleClass="quadroAtendimento" columnClasses="col1,col2,col3" >		
						<h:panelGroup layout="block">
				   		<h:outputLabel value="Paciente:" /><br />
				   		<h:outputLabel value="#{emergenciaForm.paciente.dscNome}" styleClass="campoVazio2 campoTextoAtendMedic" />
				   		<h:graphicImage id="imgDocFoto" url="IMG/imgDocFoto.png" title="Cadastro de Documento sem Foto" style="margin:0 0 0 4px; border:0; vertical-align:middle" rendered="#{emergenciaForm.paciente.flgDocFoto eq 'N'}" />
				   		</h:panelGroup>
				   		
				   		<h:panelGroup layout="block">
				   		<h:outputLabel value="Mãe:" /><br />
				   		<h:outputLabel value="#{emergenciaForm.paciente.dscMae}" styleClass="campoVazio2 campoTextoAtendMedic" />
				   		</h:panelGroup>
				   		
				   		<h:panelGroup layout="block">
						<h:outputLabel value="Fluxograma:" /><br />
						<h:outputLabel value="#{emergenciaForm.paciente.dscFluxograma}" styleClass="campoVazio2 campoTextoAtendMedic" />
						</h:panelGroup>
						
						<h:panelGroup layout="block">
						<h:outputLabel value="Discriminador:" /><br />
						<h:outputLabel value="#{emergenciaForm.paciente.dscDiscriminador}" styleClass="campoVazio2 campoTextoAtendMedic" />
						</h:panelGroup>
						
						<h:panelGrid columns="3">
							<h:panelGroup layout="block">
							<h:outputLabel value="Nascimento:" /><br />
							<h:outputLabel value="#{emergenciaForm.paciente.datNascimento}" styleClass="campoVazio2 campoTextoAtendMedic" />
							<rich:spacer width="50px" height="0" />
							</h:panelGroup>
								
							<h:panelGroup layout="block">
							<h:outputLabel value="Nº Atendimento:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.isnInternacao}" styleClass="campoVazio2 campoTextoAtendMedic" />
							</h:panelGroup>
							
							<h:panelGroup layout="block">
							<h:outputLabel value="Atendimentos na Unidade:" /><br />
							<h:outputText value="#{emergenciaForm.numAtendimentos}" styleClass="campoVazio2 campoTextoAtendMedic" style="text-align:center; width:100%"/>
							</h:panelGroup>
				   		</h:panelGrid>
				   		
				   		<h:panelGrid columns="2">
					   		<h:panelGroup layout="block">
							<h:outputLabel value="Risco:" /><br />
							<h:graphicImage url="IMG/#{emergenciaForm.imagensRiscos[emergenciaForm.paciente.isnRisco]}" style="border:0; height: ; float:left" />
							
							<div style="margin-top:3px; float:left">
								<h:outputText value="(" style="color:black; font-size:11px"/>
								<h:outputText value="Alergia" style="color:blue; font-size:11px" rendered="#{emergenciaForm.paciente.flgAlergia == 'S'}"/>
								<h:outputText value=" / " style="color:black; font-size:11px" rendered="#{emergenciaForm.paciente.flgAlergia == 'S' and emergenciaForm.paciente.flgRiscoQueda == 'S'}"/>
								<h:outputText value="Queda" style="color:red; font-size:11px" rendered="#{emergenciaForm.paciente.flgRiscoQueda == 'S'}"/>
								<h:outputText value=")" style="color:black; font-size:11px"/>
							</div>
							<div style="clear:both"/>
							<rich:spacer width="50px" height="0" />
							</h:panelGroup>
					   			
					   		<h:panelGroup layout="block">
					   		<h:outputLabel value="Sexo:" /><br />
					   		<h:outputText value="#{emergenciaForm.paciente.sglSexo}" styleClass="campoVazio2 campoTextoMenor" />
							</h:panelGroup>
						</h:panelGrid>
											
						<h:panelGroup layout="block">
						<h:outputLabel value="Queixa:" /><br />
						<h:outputLabel value="#{emergenciaForm.paciente.dscQueixa}" styleClass="campoVazio2 campoTextoAtendMedic" />
						</h:panelGroup>
						
						<h:panelGrid columns="3">
							<h:panelGroup layout="block">
							<h:outputLabel value="SatO2:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.dscSato2}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							
							<h:panelGroup layout="block">
							<h:outputLabel value="Glasgow:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.dscGlassgow}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							
							<h:panelGroup layout="block">
							<h:outputLabel value="Temperatura:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.dscTemperatura}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
						</h:panelGrid>
						
						<h:panelGrid columns="5">
							<h:panelGroup layout="block">
							<h:outputLabel value="Glicemia:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.dscGlicemia}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
						
							<h:panelGroup layout="block">
							<h:outputLabel value="Régua Dor:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.dscReguaDor}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							
							<h:panelGroup layout="block">
							<h:outputLabel value="FC:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.dscFc}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							
							<h:panelGroup layout="block">
							<h:outputLabel value="Dengue:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.flgDengue =='S'?'SIM':'NÃO'}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							
							<h:panelGroup layout="block" rendered="#{emergenciaForm.paciente.flgDengue =='S'}">
							<h:outputLabel value="Primeiro sintoma dengue:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.datSintomaDengue}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							
							<h:panelGroup layout="block">
							<h:outputLabel value="Chikungunya:" /><br />
							<h:outputText value="#{emergenciaForm.paciente.flgChikungunya =='S'?'SIM':'NÃO'}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
							<h:panelGroup layout="block" rendered="#{emergenciaForm.paciente.flgChikungunya =='S'}">
							<h:outputLabel value="Primeiro sintoma Chikungunya" /><br />
							<h:outputText value="#{emergenciaForm.paciente.datSintomaChikungunya}" styleClass="campoVazio2 campoTextoMenorAinda" />
							</h:panelGroup>
						</h:panelGrid>
	  			</h:panelGrid>
	  		</h:panelGrid>
    		<br/>    		
    		
    		<div style="text-align:center"> 
    		<rich:tabPanel style="width:98%" selectedTab="#{templateForm.tabAmbulatorio}" switchType="client">
        		<rich:tab label="ATENDIMENTO" id="atendimentoAba" rendered="#{(emergenciaForm.origemTelaRecpcao ) or emergenciaForm.origemTelaParaAtendimento == 1 or emergenciaForm.origemTelaParaAtendimento == 2}">
				          		 
           		<h:panelGrid width="100%" style="margin-bottom:10px;">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">
									HDA/Exame físico: <span style="color:#666666; font-size: 12px">*</span>
								</h:outputLabel>
								<h:inputTextarea value="#{emergenciaForm.objIa.dscAtendimento}" id="hdam"
								                 styleClass="campoObservacao" 
							                 	 style="width: 98%; height:120px;" 				        
							                     onkeyup="limitarTamanhoCampo(this,1000)"
							                   	 onblur="upper(this);"
							                     disabled="#{emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico}"/>
							</h:panelGrid>
							<h:panelGroup style="float:left;height:170px; margin-top:7px; margin-right:10px;margin-left:15px;width:500px;">
								<fieldset style="border: 1px solid #BED6F8; height: 170px; padding: 0; margin: 0;">
									<legend style="font-size: 12px; font-weight: bold;">CID 10</legend>
									<h:panelGrid style="border:1px solid #BED6F8;height:40px;margin-left:2px;margin-bottom:10px;" columns="3" width="465">
										<h:outputLabel style="font-size: 12px;font-weight: bolder;">
											Hipóteses Diagnóstico: <span style="color:#666666; font-size: 12px">*</span>
										</h:outputLabel>
										<h:inputText value="#{emergenciaForm.objIa.cid10.codCid10}" 
													maxlength="20" styleClass="campoTexto" 
													onblur="upper(this);buscarCid10Onblur(); #{rich:element('dscCid1')}.focus();" 
													style="width: 100px;"
													id="isnCid10Id"  
													disabled="#{emergenciaForm.permissaoOdonto == 'S' or 
													(isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or emergenciaForm.flgCid10Dengue == true}">
										
										</h:inputText>
										<a4j:commandButton style="height:19px;padding:0px;width:50px;" id="pesqCid10" 
																				value="CID 10" onclick="#{rich:component('panelCid10')}.show();" 
																				styleClass="botaoModal"  
																				rendered="#{!isJaAtendido and isUsuarioLogadoMedico}" disabled="#{emergenciaForm.flgCid10Dengue == true}"/>
									</h:panelGrid>
									<div style="width: 465px; margin-left: 2px; margin-right: 2px;">
									<h:outputText id="dscCid10Id"
										value="#{emergenciaForm.objIa.cid10.dscCid10}"
										style="float:left;font-size:10px;" />
								</div>
									
									<div style="margin-left: 2px; margin-right: 2px; ">
										<h:inputText  id="dscCid1" style="float:left;
										background:none;border:none;width:0px" >
										<a4j:support action="#{emergenciaForm.verificaSeDengue}" actionListener="#{emergenciaForm.verificaSeChikungunya}" event="onfocus" reRender="formPanelDengue,formPanelChikungunya" 
												oncomplete="validaPanelDengue(#{emergenciaForm.flgDengue},#{emergenciaForm.flgMenor12});validaPanelChic(#{emergenciaForm.flgChikungunya});" ></a4j:support>
										</h:inputText>
									</div>
									
								</fieldset>
							</h:panelGroup>
								
							<h:panelGroup id="panelDestino" layout="block" style="float:left;">
								<h:panelGrid style="border:1px solid #BED6F8; height:70px; margin-right:8px; margin-top:15px;" columns="4" width="450">
									<h:outputLabel style="font-size: 12px; font-weight: bolder;">Destino Interno: <span style="color:#666666; font-size: 12px">*</span></h:outputLabel>
									<h:selectOneMenu id="ddpDestino" value="#{emergenciaForm.isnDestino}" 
																		style="width: " 
																		disabled="#{emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
										<f:selectItems value="#{emergenciaForm.sliDestinos}" />
										<a4j:support event="onchange" reRender="formularioMedico" action="#{emergenciaForm.limparCampoAlta}">
											<f:setPropertyActionListener value="#{false}" target="#{emergenciaForm.alta}" />
										</a4j:support>
									</h:selectOneMenu>
									<h:outputLabel style="font-size: 12px;font-weight: bolder;">PA: </h:outputLabel>
									<h:inputText value="#{emergenciaForm.objIa.dscPa}" maxlength="7" styleClass="campoTexto" 
																	style="width:60px" 
																	disabled="#{emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}" />
																	
									<h:outputLabel style="font-size: 12px; font-weight: bolder;">Comorbidade: </h:outputLabel>
									<h:inputText value="#{emergenciaForm.objIa.comorbidade}" maxlength="300" styleClass="campoTexto" style="width: 200px;" onblur="upper(this);" disabled="#{emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico}" />
									<h:outputLabel style="font-size: 12px;font-weight: bolder;">Peso: </h:outputLabel>
									<h:inputText value="#{emergenciaForm.cr.dscPeso}" maxlength="5" styleClass="campoTexto" style="width: 60px" disabled="true" />
								</h:panelGrid>
								
								
								<table style="border:1px solid #BED6F8; margin-right:8px; margin-top:6px; width:450px;">
								<tr>
									<td style="width:80px">
										<h:outputLabel style="font-size:12px; font-weight:bolder;">Acidente: <span style="color:#666666; font-size:12px">*</span></h:outputLabel>
									</td>
									<td style="width:130px">
										<h:selectOneRadio id="Acidente" styleClass="rdSimNao" value="#{emergenciaForm.objIa.flgAcidente}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
											<f:selectItem id="AcdSim" itemLabel="Sim" itemValue="S" />
											<f:selectItem id="AcNao" itemLabel="Não" itemValue="N" />
											<a4j:support event="onclick" actionListener="#{emergenciaForm.limpaCombosAcidente}" reRender="pgAcidentePai,pgAcidenteFilho,pgAcidenteCampos" />
										</h:selectOneRadio>
									</td>
									<td style="text-align:left">
										<h:panelGroup id="pgAcidentePai">
											<h:selectOneMenu value="#{emergenciaForm.internacaoAtendimentoCausaAcPai}" 
																				converter="simpleIndexConverter" 
																				disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}"
																				rendered="#{emergenciaForm.objIa.flgAcidente == 'S'}" 
																				style="text-transform:uppercase">
												<f:selectItem itemValue="" itemLabel="Selecione" />
												<t:selectItems var="o" itemValue="#{o}" itemValueAsString="#{o.isnInternacaoAtendimentoCausa}" itemLabel="#{o.dscInternacaoAtendimentoCausa}" value="#{emergenciaForm.listaInternacaoAtendimentoCausaAcPai}" />
												<a4j:support event="onchange" reRender="pgAcidenteFilho" actionListener="#{emergenciaForm.carregaListaInternacaoAtendimentoCausaAcFilho}" />
											</h:selectOneMenu>
										</h:panelGroup>
										<br/>
										<h:panelGroup id="pgAcidenteFilho">
											<h:selectOneMenu value="#{emergenciaForm.internacaoAtendimentoCausaAcFilho}" 
																				converter="simpleIndexConverter" 
																				disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}" 
																				rendered="#{!empty emergenciaForm.listaInternacaoAtendimentoCausaAcFilho and emergenciaForm.objIa.flgAcidente eq 'S'}" 
																				style="text-transform:uppercase">
												<f:selectItem itemValue="" itemLabel="Selecione" />
												<t:selectItems var="o" itemValue="#{o}" itemValueAsString="#{o.isnInternacaoAtendimentoCausa}" itemLabel="#{o.dscInternacaoAtendimentoCausa}" value="#{emergenciaForm.listaInternacaoAtendimentoCausaAcFilho}" />
											</h:selectOneMenu>
										</h:panelGroup>
									</td>
								</tr>
								</table>
								
								<h:panelGroup id="pgAcidenteCampos">
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="5" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Data do acidente:</h:outputLabel>
								<rich:calendar id="datAcidente" cellWidth="24px"
									cellHeight="22px" value="#{emergenciaForm.objIac.datAcidente}"
									datePattern="dd/MM/yyyy" todayControlMode="hidden"
									optionalFooter="hidden"
									styleClass="richCalendar"
									inputClass="richCalendar datAcidente"
									enableManualInput="true"
									oninputblur="if(!validarData(this.value)){alert('Data informada é inválida!'); document.getElementById('formularioMedico:datAcidenteInputDate').focus();}"
									disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
									<a4j:support event="onchanged" reRender="formularioMedico" ajaxSingle="true" />
								</rich:calendar>
								<rich:jQuery id="mskTextDatAcidente" selector=".datAcidente" timing="onload" query="mask('99/99/9999',{placeholder:' '})"></rich:jQuery>
								
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Horário do acidente:</h:outputLabel>
								<h:inputText value="#{emergenciaForm.objIac.horAcidente}" maxlength="5" size="6" onkeypress="javascript:return(formataHora(this,event))"
								onblur="tamanhoHora(this, true);" onpaste="return false;" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}" />
							</h:panelGrid>
							
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="2" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Dia da semana:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.dscDiaSemana}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Segunda" itemValue="Segunda" />
									<f:selectItem itemLabel="Terça" itemValue="Terça" />
									<f:selectItem itemLabel="Quarta" itemValue="Quarta" />
									<f:selectItem itemLabel="Quinta" itemValue="Quinta" />
									<f:selectItem itemLabel="Sexta" itemValue="Sexta" />
									<f:selectItem itemLabel="Sábado" itemValue="Sábado" />
									<f:selectItem itemLabel="Domingo" itemValue="Domingo" />
								</h:selectOneRadio>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="4" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Tipo de Veículo:</h:outputLabel>
								<h:selectOneMenu value="#{emergenciaForm.isnTipoAcidenteVeiculo}" 
																	converter="simpleIndexConverter" 
																	disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}" 
																	rendered="#{!empty emergenciaForm.listaTipoAcidenteVeiculo and emergenciaForm.objIa.flgAcidente eq 'S'}" 
																	style="text-transform:uppercase">
									<f:selectItem itemValue="" itemLabel="Selecione" />
									<t:selectItems var="o" itemValue="#{o.isnTipoAcidenteVeiculo}" itemLabel="#{o.dscTipoAcidenteVeiculo}" value="#{emergenciaForm.listaTipoAcidenteVeiculo}" />
								</h:selectOneMenu>
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Posição no acidente:</h:outputLabel>
								<h:selectOneMenu value="#{emergenciaForm.isnPosicaoAcidente}" 
																	converter="simpleIndexConverter" 
																	disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}" 
																	rendered="#{!empty emergenciaForm.listaPosicaoAcidente and emergenciaForm.objIa.flgAcidente eq 'S'}" 
																	style="text-transform:uppercase">
									<f:selectItem itemValue="" itemLabel="Selecione" />
									<t:selectItems var="o" itemValue="#{o.isnPosicaoAcidente}" itemLabel="#{o.dscPosicaoAcidente}" value="#{emergenciaForm.listaPosicaoAcidente}" />
								</h:selectOneMenu>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="4" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Uso de capacete:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.flgCapacete}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Sim" itemValue="S" />
									<f:selectItem itemLabel="Não" itemValue="N" />
								</h:selectOneRadio>
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Ingestão de álcool:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.flgAlcool}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Sim" itemValue="S" />
									<f:selectItem itemLabel="Não" itemValue="N" />
								</h:selectOneRadio>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="2" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Uso de cinto de segurança:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.flgCintoSeguranca}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Sim" itemValue="S" />
									<f:selectItem itemLabel="Não" itemValue="N" />
								</h:selectOneRadio>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="1" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Região corpórea afetada:</h:outputLabel>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="1" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:selectManyCheckbox value="#{emergenciaForm.objsRegiaoAfetada}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
								   <t:selectItems var="o" itemValue="#{o.isnRegiaoAfetada}" itemLabel="#{o.dscRegiaoAfetada}" value="#{emergenciaForm.listaRegiaoAfetada}" />
								</h:selectManyCheckbox>
							</h:panelGrid>
							</h:panelGroup>
								
								<table style="border:1px solid #BED6F8; margin-right:8px; margin-top:6px; width:450px;">
								<tr>
									<td style="width:80px">
										<h:outputLabel style="font-size:12px; font-weight:bolder;">Agressão: <span style="color:#666666; font-size:12px">*</span></h:outputLabel>
									</td>
									<td style="width:130px">
										<h:selectOneRadio id="Agressao" styleClass="rdSimNao" value="#{emergenciaForm.objIa.flgAgressao}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}">
											<f:selectItem id="AgSim" itemLabel="Sim" itemValue="S" />
											<f:selectItem id="AgNao" itemLabel="Não" itemValue="N" />
											<a4j:support event="onclick" actionListener="#{emergenciaForm.limpaComboAgressao}" reRender="pgAgressao" />
										</h:selectOneRadio>
									</td>
									<td style="text-align:left">
										<h:panelGroup id="pgAgressao">
											<h:selectOneMenu value="#{emergenciaForm.internacaoAtendimentoCausaAg}" 
																				converter="simpleIndexConverter" 
																				disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoOdonto == 'S' or (isJaAtendido and isUsuarioLogadoOdonto) or isMedicoAtend or possuiAtendMedico or !emergenciaForm.pacienteNaRecepcao}"
																				rendered="#{emergenciaForm.objIa.flgAgressao == 'S'}" 
																				style="text-transform:uppercase">
												<f:selectItem itemValue="" itemLabel="Selecione" />
												<t:selectItems var="o" itemValue="#{o}" itemValueAsString="#{o.isnInternacaoAtendimentoCausa}" itemLabel="#{o.dscInternacaoAtendimentoCausa}" value="#{emergenciaForm.listaInternacaoAtendimentoCausaAg}" />
											</h:selectOneMenu>
										</h:panelGroup>
									</td>
								</tr>
								</table>
							</h:panelGroup>
								
					<a4j:jsFunction actionListener="#{emergenciaForm.buscarCid10Onblur}" name="buscarCid10Onblur" 
					reRender="formularioMedico:dscCid10Id"  />
		
				<h:panelGroup id="panelAlta" styleClass="linhaFormulario2" layout="block" rendered="#{emergenciaForm.isnDestino==0 and emergenciaForm.permissaoMed == 'S'}">
					<a4j:commandButton id="btnAlta"
									   value=" ALTA"
									   reRender="formularioMedico" styleClass="botaoModal" 
									   style="margin-right: 5px;width:100px;" rendered="#{emergenciaForm.isnDestino==0 and emergenciaForm.permissaoMed == 'S'}">
						<f:setPropertyActionListener value="#{true}" target="#{emergenciaForm.alta}" />									   
					</a4j:commandButton>
					<a4j:commandButton id="btnCancelarAlta"
									   value="CANCELAR"
									   reRender="formularioMedico"
									   style="margin-right: 2px;width:100px;" styleClass="botaoModal" 
									   rendered="#{emergenciaForm.alta and emergenciaForm.isnDestino==0}">
						<f:setPropertyActionListener value="#{false}" target="#{emergenciaForm.alta}" />									   
					</a4j:commandButton>
					</h:panelGroup>
					<h:panelGroup rendered="#{emergenciaForm.alta and emergenciaForm.isnDestino == 0 and emergenciaForm.permissaoMed == 'S'}" id="divAlta" style="float:left;margin-left: 12px;">

									<div
										style="border: 1px solid #BED6F8; width: 450px; margin-left: 2px;">
										<h:panelGrid columns="2" width="350">
											<label style="font-size: 12px; font-weight: bolder;">Motivo
												da alta:</label>
											<h:selectOneMenu id="ddpMotivoAlta"
												value="#{emergenciaForm.isnMotivoAlta}" style="width: 230px"
												disabled="#{emergenciaForm.isnDestino > 0}">
												<f:selectItems value="#{emergenciaForm.sliMotivosAlta}" />
											</h:selectOneMenu>

										</h:panelGrid>
									</div>
					</h:panelGroup>
					<div style="clear:both"/>
					<div style="text-align:left">

					<h:panelGroup style="border: 1px solid #BED6F8; width: 478px; margin-left: 15px; padding:10px; margin-top:10px; font-size:11px"
							rendered="#{!emergenciaForm.pacienteNaRecepcao}">
						<b>Solicitar alta paciente?</b>
						
						<h:selectOneRadio value="#{emergenciaForm.internacaoLeitoAtual.flgAltaMedica}" style="font-size:14px" disabled="#{emergenciaForm.internacaoLeitoAtual.flgAltaMedica == 'S'}">
							<f:selectItem itemLabel="Sim" itemValue="S" />
							<f:selectItem itemLabel="Não" itemValue="N" />
						</h:selectOneRadio> 
						<br/>
						<h:panelGroup rendered="#{emergenciaForm.internacaoLeitoAtual.isnUsuarioAltaMedica != null}">
							Alta Solicitada por <b>#{emergenciaForm.internacaoLeitoAtual.dscUsuarioAltaMedica}</b>
						</h:panelGroup>
						
					</h:panelGroup>
					</div>
									
           	</rich:tab>
        		
       		<rich:tab label="ODONTOLÓGICO" style="font-size:" id="odontoAba" rendered="#{(emergenciaForm.origemTelaRecpcao) or emergenciaForm.origemTelaParaAtendimento == 1 or emergenciaForm.origemTelaParaAtendimento == 2}">
           		
           		<h:panelGrid width="100%" style="margin-bottom:10px;">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">HDA/Exame físico: <span style="color:#666666; font-size: 12px">*</span></h:outputLabel>
								<h:inputTextarea value="#{emergenciaForm.objIa.dscHdaOdonto}"
					                 				styleClass="campoObservacao" 
				                 	 				style="width: 98%;height: 120px;" 
				                     			onkeyup="limitarTamanhoCampo(this,1000)"
				                     			onblur="upper(this);"
				                     			disabled="#{emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto}"/>
							</h:panelGrid>
							<h:panelGroup style="float:left; height:300px; margin-top:7px; margin-right:15px; margin-left:15px; width:49%">
								<fieldset style="border: 1px solid #BED6F8; height: 295px; margin-right:10px;">
									<div>
										<h:outputLabel value="Procedimentos" style="font-size: 12px;font-weight: bolder;"/>
										<h:selectOneMenu value="#{emergenciaForm.isnProcedimento}" id="selProcedimento" style="margin-right: 8px" disabled="#{(isJaAtendido and isUsuarioLogadoMedico)}">
											<f:selectItems value="#{emergenciaForm.sliProcedimentos}"/>
										</h:selectOneMenu>
										<a4j:commandButton value="Adicionar" action="#{emergenciaForm.addInternacaoAtendimentoProcedimento}" oncomplete="validar('#{emergenciaForm.mensagemConfirmacao}');" reRender="formularioMedico" disabled="#{(isUsuarioLogadoMedico)}"/>
										<br/><br/>
										<div style="height: 220px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
											<rich:dataTable id="tblProcedimentos"
															onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
											           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
															value="#{emergenciaForm.lstInternacaoAtendimentoProcedimentos}" 
															var="proc" 
															rows="5"
															style="width:97%;"
															reRender="rolagemProc">
															
													<f:facet name="header">
														<rich:columnGroup>
															<rich:column style="text-align: center;width: 60%;">
																Nome Procedimento
															</rich:column>
															<rich:column style="text-align: center;width: 20%;">
																Usuário
															</rich:column>
															<rich:column style="text-align: center;width: 10%;">
																Data
															</rich:column>
															<rich:column style="text-align: center;width: 10%;">
																Ação
															</rich:column>
														</rich:columnGroup>
													</f:facet>										
																					
													<rich:column style="text-align: center;">
														<h:outputText value="#{proc.procedimento.noProcedimento}" style="#{(proc.flgAtivo == 'S')?'font-size: 11px;':'text-decoration: line-through; font-size: 11px;'}"/>
													</rich:column>										
													<rich:column style="text-align: center;">
														<h:outputText value="#{proc.usuarioSolicitacao.dscUsuario}" style="font-size:11px;" title="Usuário Solicitação" rendered="#{empty proc.isnUsuarioSuspensao}"/>
														<h:outputText value="#{proc.usuarioSuspensao.dscUsuario}" style="font-size:11px;" title="Usuário Suspensão" rendered="#{not empty proc.isnUsuarioSuspensao}"/>
													</rich:column>		
													<rich:column style="text-align: center;">
														<h:outputText value="#{proc.datSolicitacao}" title="Data Solicitação" style="font-size:11px;" rendered="#{empty proc.datSuspensao}"/>
														<h:outputText value="#{proc.datSuspensao}" title="Data Suspensão" style="font-size:11px;" rendered="#{not empty proc.datSuspensao}"/>
													</rich:column>														
													<rich:column style="text-align: center;">
														<a4j:commandButton image="/IMG/icone_excluir.gif" 
																			style="border:white; width: 14px; height: 14px;" 
																			title="Suspender" rendered="#{empty proc.datSuspensao}"
																			action="#{emergenciaForm.removerInternacaoAtendimentoProcedimento}" 
																			reRender="formularioMedico" disabled="#{(isJaAtendido and isUsuarioLogadoMedico)}">
															<f:setPropertyActionListener value="#{proc}" target="#{emergenciaForm.internacaoAtendimentoProcedimento}" />						
														</a4j:commandButton>
													</rich:column>										
															
													<f:facet name="footer">
														<rich:datascroller id="rolagemProc" ajaxSingle="false" />
													</f:facet>										
											</rich:dataTable>	
										</div>
									</div>
									
								</fieldset>
							</h:panelGroup>
							<h:panelGroup id="pgPaiOdo" layout="block" style="float:left; width:48%">
								<fieldset style="#{(emergenciaForm.objIa.flgAcidente eq 'S')?'border: 1px solid #BED6F8; height: 595px;':'border: 1px solid #BED6F8; height: 295px;'}">
									<legend style="font-size: 12px; font-weight: bold;">CID 10</legend>
									<h:panelGrid style="border:1px solid #BED6F8;height:40px;margin-left:2px;margin-bottom:10px;" columns="3" width="465">
										<h:outputLabel style="font-size: 12px;font-weight: bolder;">
											Hipóteses Diagnóstico: <span style="color:#666666; font-size: 12px">*</span>
										</h:outputLabel>
										<h:inputText value="#{emergenciaForm.objIa.cid10.codCid10}"
																	maxlength="20" styleClass="campoTexto"
																	onblur="upper(this);buscarCid10Onblur();"
																	style="width: 100px;" id="isnCid10Id2"
																	disabled="#{emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto}" />
										<a4j:commandButton styleClass="botaoModal"
																				style="height:19px;padding:0px;width:50px;" value="CID 10"
																				onclick="#{rich:component('panelCid10')}.show()"
																				rendered="#{!isJaAtendido and isUsuarioLogadoOdonto}" />
									</h:panelGrid>
									<div style="width:465px; margin-left:2px; margin-right:2px;">
										<h:outputText value="#{emergenciaForm.objIa.cid10.dscCid10}" id="dscCid10Id2" style="float:left; font-size:10px;" />
									</div>

							<h:panelGroup layout="block" style="float:left;">
								<h:panelGrid style="border:1px solid #BED6F8; height:70px; margin-right:8px; margin-top:15px;" columns="4" width="450">
									<h:outputLabel style="font-size: 12px;font-weight: bolder;">Destino Interno: <span style="color: #666666; font-size: 12px">*</span></h:outputLabel>
									<h:selectOneMenu id="ddpDestinoOdonto" 
																		value="#{emergenciaForm.isnDestino}" 
																		disabled="#{emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
										<f:selectItems value="#{emergenciaForm.sliDestinos}" />
										<a4j:support event="onchange" reRender="formularioMedico" action="#{emergenciaForm.limparCampoAlta}">
											<f:setPropertyActionListener value="#{false}" target="#{emergenciaForm.alta}" />
										</a4j:support>
									</h:selectOneMenu>
									<h:outputLabel style="font-size: 12px;font-weight: bolder;">PA: </h:outputLabel>
									<h:inputText value="#{emergenciaForm.objIa.dscPa}" 
																maxlength="7" styleClass="campoTexto" style="width: 60px" 
																disabled="#{emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}" />
									
									<h:outputLabel style="font-size: 12px;font-weight: bolder;">Comorbidade: </h:outputLabel>
									<h:inputText value="#{emergenciaForm.objIa.dscComorbidadeOdonto}"
																maxlength="300" styleClass="campoTexto" style="width: 200px;"
																onblur="upper(this);"
																disabled="#{emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto}" />
									<h:outputLabel style="font-size: 12px;font-weight: bolder;">Peso: </h:outputLabel>
									<h:inputText value="#{emergenciaForm.cr.dscPeso}" 
																maxlength="3"
																styleClass="campoTexto" 
																style="width:60px" disabled="true" />
								</h:panelGrid>
								
								<table style="border:1px solid #BED6F8; margin-right:8px; margin-top:6px; width:450px;">
								<tr>
									<td style="width:80px">
										<h:outputLabel style="font-size:12px; font-weight:bolder;">Acidente: <span style="color:#666666; font-size:12px">*</span></h:outputLabel>
									</td>
									<td style="width:130px">
										<h:selectOneRadio id="AcidenteOdonto"  styleClass="rdSimNao"
																		value="#{emergenciaForm.objIa.flgAcidente}"
																		disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
											<f:selectItem id="AcdSimOdonto" itemLabel="Sim" itemValue="S" />
											<f:selectItem id="AcNaoOdonto" itemLabel="Não" itemValue="N" />
											<a4j:support event="onclick" actionListener="#{emergenciaForm.limpaCombosAcidente}" reRender="pgPaiOdo, pgAcidentePaiOdo,pgAcidenteFilhoOdo,pgAcidenteCamposOdo" />
										</h:selectOneRadio>
									</td>
									<td style="text-align:left">
										<h:panelGroup id="pgAcidentePaiOdo">
											<h:selectOneMenu value="#{emergenciaForm.internacaoAtendimentoCausaAcPai}" 
																				converter="simpleIndexConverter" 
																				disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}"
																				rendered="#{emergenciaForm.objIa.flgAcidente == 'S'}" 
																				style="text-transform:uppercase">
												<f:selectItem itemValue="" itemLabel="Selecione" />
												<t:selectItems var="o" itemValue="#{o}" itemValueAsString="#{o.isnInternacaoAtendimentoCausa}" itemLabel="#{o.dscInternacaoAtendimentoCausa}" value="#{emergenciaForm.listaInternacaoAtendimentoCausaAcPai}" />
												<a4j:support event="onchange" reRender="pgAcidenteFilhoOdo" actionListener="#{emergenciaForm.carregaListaInternacaoAtendimentoCausaAcFilho}" />
											</h:selectOneMenu>
										</h:panelGroup>
										<br/>
										<h:panelGroup id="pgAcidenteFilhoOdo">
											<h:selectOneMenu value="#{emergenciaForm.internacaoAtendimentoCausaAcFilho}" 
																				converter="simpleIndexConverter" 
																				disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}" 
																				rendered="#{!empty emergenciaForm.listaInternacaoAtendimentoCausaAcFilho and emergenciaForm.objIa.flgAcidente == 'S'}" 
																				style="text-transform:uppercase">
												<f:selectItem itemValue="" itemLabel="Selecione" />
												<t:selectItems var="o" itemValue="#{o}" itemValueAsString="#{o.isnInternacaoAtendimentoCausa}" itemLabel="#{o.dscInternacaoAtendimentoCausa}" value="#{emergenciaForm.listaInternacaoAtendimentoCausaAcFilho}" />
											</h:selectOneMenu>
										</h:panelGroup>
									</td>
								</tr>
								</table>
								
								<h:panelGroup id="pgAcidenteCamposOdo">
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="5" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Data do acidente:</h:outputLabel>
								<rich:calendar id="datAcidenteOdo" cellWidth="24px"  
									cellHeight="22px" value="#{emergenciaForm.objIac.datAcidente}"  
									datePattern="dd/MM/yyyy" todayControlMode="hidden"  
									optionalFooter="hidden" 
									styleClass="richCalendar"  
									inputClass="richCalendar datAcidenteOdo"
									enableManualInput="true"
									oninputblur="if(!validarData(this.value)){alert('Data informada é inválida!'); document.getElementById('formularioMedico:datAcidenteOdoInputDate').focus();}"
									disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
								</rich:calendar>
								<rich:jQuery id="mskTextDatAcidenteOdo" selector=".datAcidenteOdo" timing="onload" query="mask('99/99/9999',{placeholder:' '})"></rich:jQuery>
								
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Horário do acidente:</h:outputLabel>
								<h:inputText value="#{emergenciaForm.objIac.horAcidente}" maxlength="5" size="6" onkeypress="javascript:return(formataHora(this,event))"
								onblur="tamanhoHora(this, true);" onpaste="return false;" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}"/>
							</h:panelGrid>
							
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="2" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Dia da semana:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.dscDiaSemana}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Segunda" itemValue="Segunda" />
									<f:selectItem itemLabel="Terça" itemValue="Terça" />
									<f:selectItem itemLabel="Quarta" itemValue="Quarta" />
									<f:selectItem itemLabel="Quinta" itemValue="Quinta" />
									<f:selectItem itemLabel="Sexta" itemValue="Sexta" />
									<f:selectItem itemLabel="Sábado" itemValue="Sábado" />
									<f:selectItem itemLabel="Domingo" itemValue="Domingo" />
								</h:selectOneRadio>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="4" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Tipo de Veículo:</h:outputLabel>
								<h:selectOneMenu value="#{emergenciaForm.isnTipoAcidenteVeiculo}" 
									converter="simpleIndexConverter" 
									disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}" 
									rendered="#{!empty emergenciaForm.listaTipoAcidenteVeiculo and emergenciaForm.objIa.flgAcidente eq 'S'}" 
									style="text-transform:uppercase">
									<f:selectItem itemValue="" itemLabel="Selecione" />
									<t:selectItems var="o" itemValue="#{o.isnTipoAcidenteVeiculo}" itemLabel="#{o.dscTipoAcidenteVeiculo}" value="#{emergenciaForm.listaTipoAcidenteVeiculo}" />
								</h:selectOneMenu>
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Posição no acidente:</h:outputLabel>
								<h:selectOneMenu value="#{emergenciaForm.isnPosicaoAcidente}" 
									converter="simpleIndexConverter" 
									disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}" 
									rendered="#{!empty emergenciaForm.listaPosicaoAcidente and emergenciaForm.objIa.flgAcidente eq 'S'}" 
									style="text-transform:uppercase">
									<f:selectItem itemValue="" itemLabel="Selecione" />
									<t:selectItems var="o" itemValue="#{o.isnPosicaoAcidente}" itemLabel="#{o.dscPosicaoAcidente}" value="#{emergenciaForm.listaPosicaoAcidente}" />
								</h:selectOneMenu>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="4" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Uso de capacete:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.flgCapacete}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Sim" itemValue="S" />
									<f:selectItem itemLabel="Não" itemValue="N" />
								</h:selectOneRadio>
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Ingestão de álcool:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.flgAlcool}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento  or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Sim" itemValue="S" />
									<f:selectItem itemLabel="Não" itemValue="N" />
								</h:selectOneRadio>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="2" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Uso de cinto de segurança:</h:outputLabel>
								<h:selectOneRadio value="#{emergenciaForm.objIac.flgCintoSeguranca}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
									<f:selectItem itemLabel="Sim" itemValue="S" />
									<f:selectItem itemLabel="Não" itemValue="N" />
								</h:selectOneRadio>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="1" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:outputLabel style="font-size: 12px;font-weight: bolder;">Região corpórea afetada:</h:outputLabel>
							</h:panelGrid>
							<h:panelGrid style="border:1px solid red; margin-right:8px; margin-top:6px;" columns="1" width="450" rendered="#{emergenciaForm.objIa.flgAcidente eq 'S'}">
								<h:selectManyCheckbox value="#{emergenciaForm.objsRegiaoAfetada}" disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
								   <t:selectItems var="o" itemValue="#{o.isnRegiaoAfetada}" itemLabel="#{o.dscRegiaoAfetada}" value="#{emergenciaForm.listaRegiaoAfetada}" />
								</h:selectManyCheckbox>
							</h:panelGrid>
							</h:panelGroup>
								
								<table style="border:1px solid #BED6F8; margin-right:8px; margin-top:6px; width:450px;">
								<tr>
									<td style="width:80px">
										<h:outputLabel style="font-size:12px; font-weight:bolder;">Agressão: <span style="color:#666666; font-size:12px">*</span></h:outputLabel>
									</td>
									<td style="width:130px">
										<h:selectOneRadio id="AgressaoOdonto" styleClass="rdSimNao"
																		value="#{emergenciaForm.objIa.flgAgressao}"
																		disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}">
											<f:selectItem id="AgSimOdonto" itemLabel="Sim" itemValue="S" />
											<f:selectItem id="AgNaoOdonto" itemLabel="Não" itemValue="N" />
											<a4j:support event="onclick" actionListener="#{emergenciaForm.limpaComboAgressao}" reRender="pgAgressaoOdo" />
										</h:selectOneRadio>
									</td>
									<td style="text-align:left">
										<h:panelGroup id="pgAgressaoOdo">
											<h:selectOneMenu value="#{emergenciaForm.internacaoAtendimentoCausaAg}" 
																				converter="simpleIndexConverter" 
																				disabled="#{not empty emergenciaForm.objIa.isnInternacaoAtendimento or emergenciaForm.permissaoMed == 'S' or (isJaAtendido and isUsuarioLogadoMedico) or isOdontoAtend or possuiAtendOdonto or !emergenciaForm.pacienteNaRecepcao}"
																				rendered="#{emergenciaForm.objIa.flgAgressao == 'S'}" 
																				style="text-transform:uppercase">
												<f:selectItem itemValue="" itemLabel="Selecione" />
												<t:selectItems var="o" itemValue="#{o}" itemValueAsString="#{o.isnInternacaoAtendimentoCausa}" itemLabel="#{o.dscInternacaoAtendimentoCausa}" value="#{emergenciaForm.listaInternacaoAtendimentoCausaAg}" />
											</h:selectOneMenu>
										</h:panelGroup>
									</td>
								</tr>
								</table>

							</h:panelGroup>
					</fieldset>
					</h:panelGroup>
						
					
					
					<a4j:jsFunction actionListener="#{emergenciaForm.buscarCid10Onblur}" name="buscarCid10Onblur" reRender="formularioMedico:isnCid10Id, formularioMedico:dscCid10Id, formularioMedico:isnCid10Id2, formularioMedico:dscCid10Id2" />

							<h:panelGroup styleClass="linhaFormulario2" layout="block"
								rendered="#{emergenciaForm.isnDestino == 0 and emergenciaForm.permissaoOdonto == 'S'}">
								
								<a4j:commandButton id="btnAltaOdonto" value=" Alta "
									reRender="formularioMedico"
									style="margin-right: 2px;width:100px;" styleClass="botaoModal">
									<f:setPropertyActionListener value="#{true}"
										target="#{emergenciaForm.alta}" />
								</a4j:commandButton>

								<a4j:commandButton id="btnCancelarAltaOdonto" value="Cancelar"
									reRender="formularioMedico"
									style="margin-right: 2px;width:100px;" styleClass="botaoModal"
									rendered="#{emergenciaForm.alta and emergenciaForm.isnDestino == 0}">
									<f:setPropertyActionListener value="#{false}"
										target="#{emergenciaForm.alta}" />
								</a4j:commandButton>
								
							</h:panelGroup>
							<h:panelGroup rendered="#{emergenciaForm.alta and emergenciaForm.isnDestino == 0 and emergenciaForm.permissaoOdonto == 'S'}"
								id="divAltaOdonto" style="float:left;margin-left: 12px;">
								<div
									style="border: 1px solid #BED6F8; width: 450px; margin-left: 2px;">
									<h:panelGrid columns="2" width="350">
										<label style="font-size: 12px; font-weight: bolder;">Motivo
											da alta:</label>
										<h:selectOneMenu id="ddpMotivoAltaOdonto"
											value="#{emergenciaForm.isnMotivoAlta}" style="width: 230px"
											disabled="#{emergenciaForm.isnDestino > 0}">
											<f:selectItems value="#{emergenciaForm.sliMotivosAlta}" />
										</h:selectOneMenu>
									</h:panelGrid>
								</div>
							</h:panelGroup>
							<br/>
           	</rich:tab>
        	
        	
        	<rich:tab label="EXAMES" id="idExame">
				<div align="center" style="height: 30px;">
					<a4j:commandButton value="Novo Exame" 
					                   action="#{exameForm.prepararPesquisaExames}" 
									   oncomplete="Richfaces.showModalPanel('panelExame');" 
									   reRender="panelExame" >
									   
					   <f:setPropertyActionListener value="" target="#{emergenciaForm.peso}"/>
					   <f:setPropertyActionListener value="" target="#{emergenciaForm.altura}"/>
					   <f:setPropertyActionListener value="" target="#{emergenciaForm.flgGestante}"/>
					   <f:setPropertyActionListener value="" target="#{emergenciaForm.dscMedicamentos}"/>
									   
					</a4j:commandButton>
				</div>
				<div align="left">
					<h:outputText value="Todos" style="margin-left:10px; font-size: 1.0em;"/>  <br/>
					<h:selectBooleanCheckbox value="#{emergenciaForm.imprimirTodos}" style="margin-left:18px;">
						<a4j:support event="onchange" reRender="formularioMedico, formularioMedico:btnImprimirTodos" action="#{emergenciaForm.habilitaTodos}"/>		
					</h:selectBooleanCheckbox>			
				</div>
				
				<rich:dataTable id="tblEmergencia"
								value="#{emergenciaForm.lstExameSolicEmergencia}" 
								var="emergenciaExame" 
								rows="10" 
								rowKeyVar="linha" 
								style="width:100%;" 
								reRender="ds"
								>
					
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column style="text-align: center;width: 3%">Imprimir</rich:column>
							<rich:column style="text-align: center;width: 10%">Solicitação</rich:column>
							<rich:column style="text-align: center;width: 15%">Data</rich:column>
							<rich:column style="text-align: center;width: 40%">Exame</rich:column>
							<rich:column style="text-align: center;width: 5%">Ação</rich:column>
							<rich:column style="text-align: center;width: 15%">Situação</rich:column>
							<rich:column style="text-align: center;width: 5%">Resultado</rich:column>
							<rich:column style="text-align: center;width: 5%">Detalhes</rich:column>
							<!--<rich:column style="text-align: center;width: 5%">Imprimir Laudo</rich:column>-->
						</rich:columnGroup>
					</f:facet>
					
					<rich:columnGroup style="background-color:#{((emergenciaExame.examePepBean.isnDisponibilidade == 3 and empty emergenciaExame.isnProtocoloSepse)?'#FF6262':  ((emergenciaExame.examePepBean.isnDisponibilidade == 2 and empty emergenciaExame.isnProtocoloSepse) ? '#FFFF80' : 'white')) };">
						<rich:column style="text-align: center;">
							<h:selectBooleanCheckbox value="#{emergenciaExame.imprimir}">
								<a4j:support event="onchange" reRender="formularioMedico, formularioMedico:btnImprimirTodos"/>		
							</h:selectBooleanCheckbox>
						</rich:column>
						
						<rich:column style="text-align: center;">
							<h:outputText value="#{emergenciaExame.isnExameSolicAux}"/>
						</rich:column>
						
						<rich:column style="text-align: center;">
							<h:outputText value="#{emergenciaExame.datCadastro}" converter="ConversorDeDataHora"/>
						</rich:column>
										
						<rich:column style="text-align: left;">
						  <h:outputText  value="#{emergenciaExame.examePepBean.dscExame}"/> <h:outputText  value=" #{emergenciaExame.dscExameCompl}" rendered="#{emergenciaExame.dscExameCompl != null and not empty emergenciaExame.dscExameCompl}"/>
						</rich:column>				
							
						<rich:column style="text-align: center;">
						
						  <a4j:commandLink action="#{emergenciaForm.excluirExame}" title="EXCLUIR EXAME" onclick="if (!confirm('Deseja realmente excluir este exame?')) return false;" oncomplete="validar('#{exameForm.mensagem}');" reRender="formularioMedico">
						  		<h:graphicImage id="imgExcluir" url="IMG/icone_excluir.gif" style="border:0; width: 12px; height: 12px; text-align: center;" rendered="#{(emergenciaExame.exameSolicitacaoWsDetalheBean.flgLaudo == null or emergenciaExame.exameSolicitacaoWsDetalheBean.flgLaudo eq 'N') and emergenciaExame.exameSituacaoPepBean.isnExameSituacao == 1}" />
						  		<f:setPropertyActionListener value="#{emergenciaExame.isnExameSolic}" target="#{emergenciaForm.isnExameSolic}"/>	
						  		<f:setPropertyActionListener value="#{emergenciaExame}" target="#{emergenciaForm.exameSolicPepBean}"/>						  								
						  </a4j:commandLink>
						</rich:column>
						
						<rich:column style="text-align: center;">
							<h:outputText  value="#{emergenciaExame.exameSituacaoPepBean.dscExameSituacao}"/>
							<h:outputText  value="(Autorização)" rendered="#{emergenciaExame.flgAutorizacao == 'E'}"/>
							<h:outputText  value="(Autorização)" rendered="#{emergenciaExame.flgAutorizacao == 'P'}"/>
							<h:outputText  value="(Não Autorizado)" rendered="#{emergenciaExame.flgAutorizacao == 'N'}"/>
						</rich:column>					
							
						<rich:column style="text-align: center;">
					   		<a4j:commandLink action="#{emergenciaForm.visualizarExame}" title="VISUALIZAR EXAME" rendered="#{emergenciaExame.datRealizacao != null and emergenciaExame.isnExameGrupo != 2 and emergenciaExame.examePepBean.flgImpressao eq 'S'}" 
					   		oncomplete="if (#{emergenciaForm.erro}) { alert('Exame não disponível!')} else { window.open('#{emergenciaForm.urlReport}') } ">
					   			<h:outputText value="#{emergenciaExame.isnExameSolicAux}"/><h:outputText  value="_"/><h:outputText  value="#{emergenciaExame.examePepBean.dscMnemonico}"/>
					  			<f:setPropertyActionListener value="#{emergenciaExame.isnExameSolicAux}" target="#{emergenciaForm.isnExameSolicAux}"/>
					  			<f:setPropertyActionListener value="#{emergenciaExame}" target="#{emergenciaForm.exameSolicLaudo}"/>
					  			<f:setPropertyActionListener value="#{emergenciaExame.examePepBean.dscMnemonicoSil}" target="#{emergenciaForm.dscMnemonicoSil}"/>					  								
					  		</a4j:commandLink>
					  		<a4j:commandLink title="VISUALIZAR EXAME" rendered="#{emergenciaExame.datRealizacao != null and emergenciaExame.isnExameGrupo != 2 and emergenciaExame.examePepBean.flgImpressao eq 'N'}" onclick="alert('Para imprimir o laudo desse exame entre em contato com o laboratório!'); return false;">
					  			<h:outputText value="#{emergenciaExame.isnExameSolicAux}"/><h:outputText  value="_"/><h:outputText  value="#{emergenciaExame.examePepBean.dscMnemonico}"/>
					  		</a4j:commandLink>
					  		<a4j:commandLink title="VISUALIZAR EXAME" rendered="#{emergenciaExame.datRealizacao != null and emergenciaExame.isnExameGrupo != 3 and emergenciaForm.flgDicom}" oncomplete="verExame('#{emergenciaForm.isnExameSolic}')">
					  			<h:graphicImage id="imgReal" url="IMG/imgFiltrar.gif" style="border:0;"/>
				  				<f:setPropertyActionListener value="#{emergenciaExame.isnExameSolic}" target="#{emergenciaForm.isnExameSolic}"/>
					  		</a4j:commandLink>
						</rich:column>		
						
						<rich:column style="text-align: center;">
							<h:graphicImage url="IMG/detalhes.png" style="border:0;"/>
							<rich:toolTip direction="bottom-left" layout="block" 
					    	              styleClass="tooltipEmergencia" style="text-align:left; width:400px">
								<f:facet name="defaultContent">
									<strong>Aguarde...</strong>
								</f:facet>
								<h:panelGroup style="text-align:left; font-size:12px">
								    <label>Profissional Solicitante:</label>
								    <h:outputText style="margin-left:5px; font-weight: bold" value="#{emergenciaExame.profissionalBean.dscUsuario}"/>
								</h:panelGroup>
								<div style="clear:both"/>
								<h:panelGroup style="text-align:left; font-size:12px">
								    <label>Data Solicitação:</label>
								    <h:outputText value="#{emergenciaExame.datCadastro}" style="margin-left:5px; font-weight: bold">
										<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
									</h:outputText>
								</h:panelGroup>
								<div style="clear:both"/>
								<h:panelGroup style="text-align:left; font-size:12px" rendered="#{emergenciaExame.isnUsuarioAutorizacao != null}">
								    <label>Profissional Autorizador:</label>
								    <h:outputText style="margin-left:5px; font-weight: bold" value="#{emergenciaExame.profissionalAutorizacaoBean.dscUsuario}"/>
								</h:panelGroup>
								<div style="clear:both"/>
								<h:panelGroup style="text-align:left; font-size:12px" rendered="#{emergenciaExame.datAutorizacao != null}">
								    <label>Data Autorização:</label>
								    <h:outputText value="#{emergenciaExame.datAutorizacao}" style="margin-left:5px; font-weight: bold">
										<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
									</h:outputText>
								</h:panelGroup>
								<div style="clear:both"/>
								<h:panelGroup style="text-align:left; font-size:12px" rendered="#{emergenciaExame.flgSesmt}">
								    <label><b>Autorizado pelo Grupo</b></label>
								</h:panelGroup>
								<div style="clear:both"/>
							</rich:toolTip>	
						</rich:column>
						
						<!-- 
						<rich:column style="text-align: center;">
							<t:commandLink id="laudoExame" action="#{emergenciaForm.laudoExame}" target="_blank" title="IMPRIMIR LAUDO EXAME">
								<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;" rendered="#{emergenciaExame.exameSolicitacaoWsDetalheBean.flgLaudo eq 'S'}" />
								<f:setPropertyActionListener value="#{emergenciaExame.exameSolicitacaoWsDetalheBean.isnExameSolicWsDetalhe}" target="#{emergenciaForm.isnExameSolicWsDetalhe}" />							
							</t:commandLink>	
						</rich:column>
						-->
					</rich:columnGroup>					
					
					<f:facet name="footer">
						<rich:datascroller id="ds" ajaxSingle="false" />
					</f:facet>
				</rich:dataTable>
				
				<t:commandButton value="Imprimir Selecionados" onclick="this.form.target='_blank'" action="#{emergenciaForm.laudoListaExames}" disabled="#{emergenciaForm.desabilitaImprimirExames()}"/>
			
				<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarExames}" reRender="tblEmergencia" />
        	</rich:tab>
        	
        	<rich:tab label="PRESCRIÇÕES" id="prescricao" name="prescricao">
					<rich:dataTable id="prescricaoPepi"
									onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
					           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									value="#{prescricaoForm.lstPrescricaoPepi}" 
									var="presc" 
									style="width:100%;"
									rows="10"  
									reRender="rodapeAnotacao1"
									rowKeyVar="indice">
						<f:facet name="header">
							<rich:columnGroup>
								<rich:column style="text-align:center;width:3%">
									Sel.
								</rich:column>
								<rich:column style="text-align:center;width:5%">
									Número
								</rich:column>
								<rich:column style="text-align:center;width:15%">
									Data/Hora (Solicitação)
								</rich:column>
								<rich:column style="text-align:center;width:15%">
									Data/Hora (Conclusão)
								</rich:column>
								<rich:column style="text-align:center;width:6%">
									Tipo
								</rich:column>
								<rich:column style="text-align:center;width:22%">
									Profissional Cadastro
								</rich:column>
								<rich:column style="text-align:center;width:22%">
									Profissional Conclusão
								</rich:column>
								<rich:column style="text-align:center;width:20%">
									Observação
								</rich:column>
								<rich:column style="text-align:center;width:17%">
									Clínica Cadastro
								</rich:column>
								<rich:column style="text-align:center;width:6%">
									OBS
								</rich:column>
								<rich:column style="text-align:center;width:3%">
									IMP
								</rich:column>
								<rich:column style="text-align:center;width:3%">
									APZ
								</rich:column>
								<rich:column style="text-align:center;width:3%" rendered="#{!prescricaoForm.ehClinicaEmergencia}">
									FARM
								</rich:column>									
							</rich:columnGroup>
						</f:facet>		
						<rich:column style="text-align: center;">
							<a4j:commandLink action="#{prescricaoForm.carregaPaginaPrescricaoItensPepi}" rendered="#{presc.datConclusao == null}">
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}" />
								<f:setPropertyActionListener value="#{null}" target="#{prescricaoForm.listaIsnProdutoAntibiotico}" />
								<f:setPropertyActionListener value="#{null}" target="#{prescricaoForm.listaIsnProdutosAntibioticoSemFicha}" />									
								<f:setPropertyActionListener value="#{null}" target="#{prescricaoForm.listaFichaItemProrrogacao}" />									
								<f:setPropertyActionListener value="#{null}" target="#{prescricaoForm.mapeamentoProdutosAntibioticoProrrogacao}" />									
								<f:setPropertyActionListener value="#{false}" target="#{prescricaoForm.apenasVisualizarPrescricao}" />			
        						<f:setPropertyActionListener value="prescricao" target="#{templateForm.tabAmbulatorio}"/>
								<h:graphicImage title="Selecionar Prescrição"  value="IMG/selecionar.png" style="border-width:0"/>
							</a4j:commandLink>
							<a4j:commandLink title="Visualizar Prescrição" action="#{prescricaoForm.carregaPaginaPrescricaoItensPepi}" rendered="#{presc.datConclusao != null}">
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}" />
								<f:setPropertyActionListener value="#{true}" target="#{prescricaoForm.apenasVisualizarPrescricao}" />	
								<f:setPropertyActionListener value="prescricao" target="#{templateForm.tabAmbulatorio}"/>									
								<h:graphicImage value="/images/icons/lupa.png" style="border-width:0"/>
							</a4j:commandLink>
						</rich:column>
						<rich:column style="text-align:center;">
							<h:outputText value="#{presc.isnPrescricaoPep}"/>
						</rich:column>
						<rich:column style="text-align: center;">
						  	<div style="float:left; padding-right:2px;padding-top:2px ">
						  		<h:outputText value="#{presc.datPrescricao}">
						  		   <f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
						  		</h:outputText>
						  	</div>
						  	<div style="float:left; padding-left:2px">
							  	<h:graphicImage value="images/icons/chave.gif" rendered="#{presc.datConclusao == null}" />
								<h:graphicImage value="images/icons/Cadeado.gif" rendered="#{presc.datConclusao != null}" />
								<h:graphicImage value="images/icons/relogio.png" rendered="#{presc.datApz != null}" />																		
								<a4j:commandButton image="IMG/icone_medic_blue-01.png" action="#{prescricaoForm.limpaFormUsuario}" rendered="#{presc.datAnaliseFarm != null and presc.flgObsAnalFarm == null}" oncomplete="#{rich:component('panelObsFarm')}.show()" reRender="panelObsFarm">							
									<rich:toolTip layout="block" style="text-align:left; width: 350px;">
										<h:outputText value="Análise da Farmácia: #{presc.usuarioAnalFarm.dscUsuario}"/>											
									</rich:toolTip>
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}"  />
								</a4j:commandButton>
								<a4j:commandButton image="IMG/icone_medic1-01.png" action="#{prescricaoForm.limpaFormUsuario}" rendered="#{presc.datAnaliseFarm != null and presc.flgObsAnalFarm != null}" oncomplete="#{rich:component('panelObsFarm')}.show()" reRender="panelObsFarm">							
									<rich:toolTip layout="block" style="text-align:left; width: 350px;">
										<h:outputText value="Análise da Farmácia: #{presc.usuarioAnalFarm.dscUsuario}"/>											
									</rich:toolTip>
									<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}"  />
								</a4j:commandButton>																										
						  	</div>	
						</rich:column>
						<rich:column style="text-align: center;">
						  	<div style="float:left; padding-right:2px;padding-top:2px ">
						  		<h:outputText value="#{presc.datConclusao}">
						  		   <f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
						  		</h:outputText>
						  	</div>
						</rich:column>
						<rich:column style="text-align:center;">
							<h:outputText value="#{presc.prescricaoTipo.dscPrescricaoTipo}"/>
						</rich:column>
						<rich:column style="text-align:left;">
							<h:outputText value="#{presc.usuario.dscUsuario}"/>
						</rich:column>
						<rich:column style="text-align:left;">
							<h:outputText value="#{presc.usuarioConcl.dscUsuario}"/>
						</rich:column>
						<rich:column>
							<h:outputText value="#{presc.dscObs}"/>
						</rich:column>
						<rich:column>
							<h:outputText value="#{presc.internacaoLeito.leito.enfermaria.clinica.dscClinica}"/>
						</rich:column>
						<rich:column style="text-align:center;">
						    <a4j:commandLink action="#{prescricaoForm.carregaPanelObs}" reRender="pnlPrescricaoPep" 
						                     rendered="#{presc.flgObs == 'true'}"
						                     oncomplete="#{rich:component('pnlPrescricaoPep')}.show()" >
								<h:graphicImage value="images/icons/mensagem.png" style="border-width:0"/>
								<f:setPropertyActionListener target="#{prescricaoForm.objPrescricaoPep}" value="#{presc}" />
							</a4j:commandLink>
							<a4j:commandLink action="#{prescricaoForm.carregaPanelObs}" reRender="pnlPrescricaoPep" 
							                 rendered="#{presc.flgObs  == 'false' and presc.datConclusao != null }" 
							                oncomplete="#{rich:component('pnlPrescricaoPep')}.show()" >
								<h:graphicImage value="images/icons/mensagem2.png" style="border-width:0"/>
								<f:setPropertyActionListener target="#{prescricaoForm.objPrescricaoPep}" value="#{presc}" />
							</a4j:commandLink>	
					   	</rich:column>	
						<rich:column style="text-align:center;">
							<a4j:commandLink action="#{prescricaoForm.validarImprimirRelatorioPrescricao}"
							                oncomplete="if (validarMsg('#{prescricaoForm.mensagem}')){ chamaBotaoClick(#{indice}, 'imprimirPrescricao'); }" rendered="#{presc.datConclusao != null}">
								<h:graphicImage id="print1" value="images/icons/print.gif" style="border:0;"/>
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPepRelatorio}" />
							</a4j:commandLink>
         					<t:commandLink id="imprimirPrescricao" action="#{prescricaoForm.relatorioPrescricao}" style="display:none;"
         								   target="_blank" title="IMPRIMIR PRESCRIÇÃO" >
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPepRelatorio}" />							
							</t:commandLink>
						</rich:column>
						<rich:column style="text-align:center;">
							<a4j:commandLink action="#{aprazamentoPepiForm.validarImprimirApz}" title="IMPRESSÃO"
							                styleClass="botaoModal" oncomplete="if (validarMsg('#{aprazamentoPepiForm.mensagem}')){ chamaBotaoClick(#{indice}, 'imp'); }" 
							                rendered="#{prescricaoForm.permitirAprazar(presc.isnPrescricaoPep) == false and presc.datConclusao != null}">
								<h:graphicImage id="print" value="IMG/impressora.png" style="border:0;" />
					  		    <f:setPropertyActionListener target="#{aprazamentoPepiForm.objPrescricaoPep}" value="#{presc}" />
							</a4j:commandLink>
							<t:commandLink id="imp" 
										   action="#{aprazamentoPepiForm.imprimir}"
								  		   target="_blank"									  		   									  			 
								  		   title="IMPRESSÃO"
								  		   style="display:none;">
					  		    <f:setPropertyActionListener target="#{aprazamentoPepiForm.objPrescricaoPep}" value="#{presc}" />
					  		</t:commandLink>  
					  		<a4j:commandLink action="#{aprazamentoPepiForm.validarImprimirApz}" title="IMPRESSÃO"
							                styleClass="botaoModal" oncomplete="if (validarMsg('#{aprazamentoPepiForm.mensagem}')){ chamaBotaoClick(#{indice}, 'imp2'); }" 
							                rendered="#{prescricaoForm.permitirAprazar(presc.isnPrescricaoPep) == true and presc.datConclusao != null and presc.datApz != null}">
								<h:graphicImage value="IMG/impressora.png" style="border:0;" />
					  		    <f:setPropertyActionListener target="#{aprazamentoPepiForm.objPrescricaoPep}" value="#{presc}" />
							</a4j:commandLink>
							<t:commandLink id="imp2"
										   action="#{aprazamentoPepiForm.imprimir}"
								  		   target="_blank"									  		   									  			 
								  		   title="IMPRESSÃO"
								  		   style="display:none;" >
					  		    <f:setPropertyActionListener target="#{aprazamentoPepiForm.objPrescricaoPep}" value="#{presc}" />
					  		</t:commandLink>  
					  		
					  		<a4j:commandLink action="#{aprazamentoPepiForm.validarImprimirApz}" rendered="#{prescricaoForm.permitirAprazar(presc.isnPrescricaoPep) == true and presc.datConclusao != null and presc.datApz == null}"
											 oncomplete="if (validarMsg('#{aprazamentoPepiForm.mensagem}')){chamaBotaoClick(#{indice}, 'apzCalendario');}">
								<h:graphicImage value="images/icons/calendario.gif" style="border-width:0"/>
								<f:setPropertyActionListener value="#{presc}" target="#{aprazamentoPepiForm.objPrescricaoPep}"  />
   								<f:setPropertyActionListener value="#{prescricaoForm.pacienteOtimizado}" target="#{aprazamentoPepiForm.pacienteCabecalho}" />
   								<f:setPropertyActionListener value="prescricao" target="#{templateForm.tabAmbulatorio}"/>
							</a4j:commandLink>
							
							<a4j:commandLink id="apzCalendario" action="#{prescricaoForm.existeAprazamentoAnteriorEmAberto(presc.isnPrescricaoPep)}" style="display:none;"
											 oncomplete="if ('#{prescricaoForm.mensagem}' != ''){#{rich:component('panelCarregarApz')}.show()}else{chamaCarregarApz(#{indice});}">
								<f:setPropertyActionListener value="#{presc}" target="#{aprazamentoPepiForm.objPrescricaoPep}"  />
   								<f:setPropertyActionListener value="#{prescricaoForm.pacienteOtimizado}" target="#{aprazamentoPepiForm.pacienteCabecalho}" />
   								<f:setPropertyActionListener value="prescricao" target="#{templateForm.tabAmbulatorio}"/>
							</a4j:commandLink>

							<a4j:commandLink id="btnCarregarApz" action="#{aprazamentoPepiForm.carregarApz}" style="display:none;">
							</a4j:commandLink>
						</rich:column>
						<rich:column style="text-align:center;" rendered="#{!prescricaoForm.ehClinicaEmergencia}">														
							<a4j:commandLink action="#{prescricaoForm.limpaFormUsuario}" rendered="#{presc.datConclusao != null and presc.datAnaliseFarm == null}" oncomplete="#{rich:component('panelObsFarm')}.show()" reRender="panelObsFarm">
								<h:graphicImage title="Análise Farmácia" value="IMG/icone_medic_green-01.png" style="border-width:0" />					
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}"  />
							</a4j:commandLink>
							<a4j:commandButton id="imgDetalhes2" image="IMG/icone_medic_blue-01.png" action="#{prescricaoForm.limpaFormUsuario}" rendered="#{presc.datAnaliseFarm != null and presc.flgObsAnalFarm == null}" oncomplete="#{rich:component('panelObsFarm')}.show()" reRender="panelObsFarm">							
								<rich:toolTip for="imgDetalhes2" layout="block" style="text-align:left; width: 350px;">
									<h:outputText value="Análise da Farmácia: #{presc.usuarioAnalFarm.dscUsuario}"/>											
								</rich:toolTip>
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}"  />
							</a4j:commandButton>
							<a4j:commandButton image="IMG/icone_medic1-01.png" action="#{prescricaoForm.limpaFormUsuario}" rendered="#{presc.datAnaliseFarm != null and presc.flgObsAnalFarm != null}" oncomplete="#{rich:component('panelObsFarm')}.show()" reRender="panelObsFarm">							
								<rich:toolTip layout="block" style="text-align:left; width: 350px;">
									<h:outputText value="Análise da Farmácia: #{presc.usuarioAnalFarm.dscUsuario}"/>											
								</rich:toolTip>
								<f:setPropertyActionListener value="#{presc}" target="#{prescricaoForm.objPrescricaoPep}"  />
							</a4j:commandButton>								
						</rich:column>
						<f:facet name="footer">
							<rich:datascroller id="rodapeAnotacao1" ajaxSingle="false" />
						</f:facet>
					</rich:dataTable>
					<div>
						<div style="float:left; font-weight:bolder; padding-top:8px">
							<h:outputText value="Legenda:" style="font-size: xx-small;"/>
						</div>
						<div style="float:left; padding-left:5px">
							<div style="float: left; padding-left:5px; padding-top:8px">
								<h:outputText value="Aberta:" style="font-size: xx-small;"/>
							</div>
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:graphicImage value="images/icons/chave.gif" />
							</div>
						</div>
						<div style="float:left;padding-left:5px">
						    <div style="float:left; padding-left:5px; padding-top:8px">
					   	        <h:outputText value="Concluída:" style="font-size: xx-small;"/>
							</div>
							<div style="float:left; padding-left:5px; preadding-top:8px">				   	        
					     		<h:graphicImage value="images/icons/Cadeado.gif" />
					     	</div>	
					   </div>
					   <div style="float:left; padding-left:5px">
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:outputText value="Aprazamento:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:graphicImage value="images/icons/relogio.png" />
							</div>
						</div>
					   <div style="float:left; padding-left:5px">
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:outputText value="Sem Análise da Farmácia:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:graphicImage value="IMG/icone_medic_green-01.png" />
							</div>
						</div>
						<div style="float:left; padding-left:5px">
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:outputText value="Com Análise da Farmácia e com Observação:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:graphicImage value="IMG/icone_medic1-01.png" />
							</div>
						</div>
						<div style="float:left; padding-left:5px">
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:outputText value="Com Análise da Farmácia:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:graphicImage value="IMG/icone_medic_blue-01.png" />
							</div>
						</div>														
						<div style="display:none;">
							<div style="float:left; padding-left:5px;padding-top:8px">
								<h:outputText value="Aprazo:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px;padding-top:8px">
								<h:graphicImage value="images/icons/calendario.gif" />
							</div>
						</div>
						<div style="float:left; padding-left:5px">
							<div style="float:left; padding-left:5px; padding-top:7px">
								<h:outputText value="Com Comentários:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px;padding-top:5px">
								<h:graphicImage value="images/icons/mensagem.png" />
							</div>
						</div>
						<div style="float:left; padding-left:5px">
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:outputText value="Sem Comentários:" style="font-size: xx-small;" />
							</div>
							<div style="float:left; padding-left:5px; padding-top:8px">
								<h:graphicImage value="images/icons/mensagem2.png" />
							</div>
						</div>
						<br clear="all"/>
						<div >
						<!-- #{prescricaoForm.flgDitec} -->
						<h:panelGrid columns="2"  id="btnPrescricaoPadrao" style="margin-top:10px;float: right;" >
							<a4j:commandButton value="Prescrição Padrão" styleClass="botaoModal" style="margin-right:10px;"
								action="#{prescricaoPadraoForm.limparCadastroPrescricaoPadrao}"
								rendered="false"
							    oncomplete="#{rich:component('panelCadastraPrescricaoPadrao')}.show();document.getElementById('formCadastroPP:statesinput').value = '';"/>
						
					   		<a4j:commandButton value="Nova Prescrição" style="width:150px;" styleClass="botaoModal" action="#{prescricaoForm.chamaNovaPrescricao}" rendered="#{!emergenciaForm.pacienteNaRecepcao}">
					   			<f:setPropertyActionListener value="#{false}" target="#{prescricaoForm.apenasVisualizarPrescricao}" />
					   			<f:setPropertyActionListener value="#{prescricaoForm.pacienteOtimizado.numProntuario}" target="#{prescricaoForm.numProntuario}" />
					   			<f:setPropertyActionListener value="prescricao" target="#{templateForm.tabAmbulatorio}"/>
					   		</a4j:commandButton>

					   		<a4j:commandButton value="Nova Prescrição" style="width:150px;" styleClass="botaoModal" action="#{prescricaoForm.validarChamaNovaPrescricao}" 
					   							rendered="#{emergenciaForm.pacienteNaRecepcao}" oncomplete="validarMsg('#{prescricaoForm.mensagem}');">
					   			<f:setPropertyActionListener value="#{false}" target="#{prescricaoForm.apenasVisualizarPrescricao}" />
					   			<f:setPropertyActionListener value="#{prescricaoForm.pacienteOtimizado.numProntuario}" target="#{prescricaoForm.numProntuario}" />
					   			<f:setPropertyActionListener value="prescricao" target="#{templateForm.tabAmbulatorio}"/>
					   		</a4j:commandButton>
						</h:panelGrid>
					   </div>
					</div>
				<a4j:support event="onlabelclick" action="#{prescricaoForm.carregaPrescricoesPepi}" reRender="prescricaoPepi,btnPrescricaoPadrao">
					<f:setPropertyActionListener value="#{emergenciaForm.pacienteOtimizado}" target="#{prescricaoForm.pacienteOtimizado}" />
					<f:setPropertyActionListener value="#{emergenciaForm.isnInternacao}" target="#{prescricaoForm.isnInternacao}" />
				</a4j:support>			
		    </rich:tab>
        	
        	<rich:tab label="PRESCRIÇÕES ENFERMAGEM" id="prescricaoEnfermagem">
				<rich:dataTable id="dtPrescEnf"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
				           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{emergenciaForm.lstPrescricaoEnfermagemPepi}" 
								var="prescEnf" 
								style="width:100%;"
								rows="10"  
								reRender="rodapeAnotacaoEnf">
							<f:facet name="header">
								<rich:columnGroup>
									<rich:column style="text-align: center;width: 3%">
										Sel.
									</rich:column>
									<rich:column style="text-align: center;width: 5%">
										Número
									</rich:column>
									<rich:column style="text-align: center;width: 10%">
										Data/Hora
									</rich:column>
									<rich:column style="text-align: center;width: 10%">
										Tipo
									</rich:column>
									<rich:column style="text-align: center;width: 20%">
										Abertura Prescrição
									</rich:column>
									<rich:column style="text-align: center;width: 20%">
										Fechamento Prescrição
									</rich:column>
									<rich:column style="text-align: center;width: 30%">
										Observação
									</rich:column>									
									<rich:column style="text-align: center;width: 5%">
										IMP
									</rich:column>
								</rich:columnGroup>
							</f:facet>
							<rich:column style="text-align: center;">
								<a4j:commandLink action="#{emergenciaForm.carregaModalPrescricaoEnfermagemItens}" oncomplete="Richfaces.showModalPanel('panelPrescricaoEnfermagemItem')" reRender="panelPrescricaoEnfermagemItem, frmPrescricaoEnfInc:dtPrescricaoEnfermagemInc,frmPrescricaoEnf" rendered="#{prescEnf.datConclusao == null}">
									<f:setPropertyActionListener target="#{emergenciaForm.objInternacaoPrescricao}" value="#{prescEnf}" />
									<h:graphicImage value="IMG/selecionar.png" style="border-width:0"/>
								</a4j:commandLink>
								<a4j:commandLink action="#{emergenciaForm.carregaPrescricaoEnfermagem}" oncomplete="Richfaces.showModalPanel('panelPrescricaoEnfermagemItemVisualizacao')" reRender="panelPrescricaoEnfermagemItemVisualizacao, frmPrescricaoEnfIncV:dtPrescricaoEnfermagemIncV" rendered="#{prescEnf.datConclusao != null}">
									<f:setPropertyActionListener target="#{emergenciaForm.objInternacaoPrescricao}" value="#{prescEnf}" />
									<h:graphicImage value="/images/icons/lupa.png" style="border-width:0"/>
								</a4j:commandLink>
							</rich:column>
							<rich:column style="text-align: center;">
								<h:outputText value="#{prescEnf.isnInternacaoPresc}"/>
							</rich:column>
							<rich:column style="text-align: center;">
							  	<div style="float:left; padding-right:2px;padding-top:2px ">
							  		<h:outputText value="#{prescEnf.datCadastro}">
							  		   <f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
							  		</h:outputText>
							  	</div>
							  	<div style="float:left; padding-left:2px">
								  	<h:graphicImage value="IMG/prescricao/chave.gif" rendered="#{prescEnf.datConclusao == null}" />
									<h:graphicImage value="IMG/prescricao/Cadeado.gif" rendered="#{prescEnf.datConclusao != null}" />
									<h:graphicImage value="IMG/prescricao/relogio.png" rendered="#{prescEnf.datAprazamento != null}" />
							  	</div>	
							</rich:column>
							<rich:column style="text-align: center;">
								<h:outputText rendered="#{prescEnf.codTipoPrescricao == 1}" value="Normal"/>
								<h:outputText rendered="#{prescEnf.codTipoPrescricao == 2}" value="Alta Hospitalar"/>
								<h:outputText rendered="#{prescEnf.codTipoPrescricao == 3}" value="Transferência Intra-Hospitalar"/>
								<h:outputText rendered="#{prescEnf.codTipoPrescricao == 4}" value="Óbito"/>
							</rich:column>
							<rich:column style="text-align: left;">
								<h:outputText value="#{prescEnf.usuario.dscUsuario}" rendered="#{prescEnf.usuario.dscUsuario != null}"/>
								<h:outputText value="#{prescEnf.usuario.dscUsuario}" rendered="#{prescEnf.usuario.dscUsuario == null}"/>
							</rich:column>
							<rich:column style="text-align: left;">
								<h:outputText value="" rendered="#{prescEnf.usuario.dscUsuario == null}"/>
								<h:outputText value="#{prescEnf.usuario.dscUsuario}" rendered="#{prescEnf.usuario.dscUsuario != null}"/>									
							</rich:column>
							<rich:column>
								<h:outputText value="#{prescEnf.dscObs}"/>
							</rich:column>
							<rich:column style="text-align: center;">
								<t:commandLink target="_blank"
									  		   title="IMPRESSÃO"
									  		   styleClass="botaoModal"
									  		   action="#{emergenciaForm.relatorioPrescricaoEnfermagem}"
									  		   rendered="#{prescEnf.datConclusao != null}">
						  		    <h:graphicImage url="IMG/prescricao/print.gif" style="border:0;" />
						  		    <f:setPropertyActionListener target="#{emergenciaForm.objInternacaoPrescricao}" value="#{prescEnf}" />
								</t:commandLink>
							</rich:column>
							<f:facet name="footer">
								<rich:datascroller id="rodapeAnotacaoEnf" ajaxSingle="false" />
							</f:facet>				
				</rich:dataTable>
				<div>
					<div style="float:left;padding-left:15px;font:bolder; padding-top: 8px">
						<h:outputText value="Legenda:"/>
					</div>
					<div style="float: left; padding-left: 10px">
						<div style="float: left; padding-left: 10px; padding-top: 8px">
							<h:outputText value="Aberta:" />
						</div>
						<div style="float: left; padding-left: 8px; padding-top: 8px">
							<h:graphicImage value="IMG/prescricao/chave.gif" />
						</div>
					</div>
					<div style="float:left;padding-left:8px">
					    <div style="float: left; padding-left: 10px;padding-top: 8px">
				   	        <h:outputText value="Concluída:"/>
						</div>
						<div style="float: left; padding-left: 8px;padding-top: 8px">				   	        
				     		<h:graphicImage value="IMG/prescricao/Cadeado.gif" />
				     	</div>	
				   	</div>
					<br clear="all"/>
					<div style="margin-top:10px; text-align:right;" >
				   		<a4j:commandButton id="btnChamaNovaPrescricaoEnfermagem" value="Nova Prescrição" styleClass="botaoModal" action="#{emergenciaForm.chamaNovaPrescricaoEnfermagem}" onclick="Richfaces.showModalPanel('panelPrescricaoEnfermagem');" reRender="formPrescricaoEnfermagem">
				   			
				   		</a4j:commandButton>
				   </div>
				</div>
        		<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarPrescricaoEnfermagem}" reRender="dtPrescEnf" />	
        	</rich:tab>
        	
        	<rich:tab label="RECEITUÁRIO" id="receituario">

				<h:panelGrid  width="100%">
					<div style="text-align:center">
						<a4j:commandButton value="Novo Receituário" 
						                   action="#{internacaoDocTipoForm.abrirPanelReceituario}" 
										   oncomplete="validarDoc('#{internacaoDocTipoForm.codigoErro}','panelReceituario', 'fechar');" 
										   reRender="panelReceituario" >
							    <f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}"/>
						</a4j:commandButton>				           	
					</div>
					
					<h:panelGrid width="100%">
		        		<rich:dataTable id="tblReceituario"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.listaInternacaoDoc}" 
										var="rst" 
										rows="5"
										style="width:100%;"
										reRender="rolagem">
										
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;width: 10%;">
											Data Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 10%;">
											Tipo
										</rich:column>
										<rich:column style="text-align: center;width: 70%;">
											Receituário
										</rich:column>
										<rich:column style="text-align: center;width: 5%;">
										</rich:column>
										<rich:column style="text-align: center;width: 5%;">
										</rich:column>
									</rich:columnGroup>
								</f:facet>										

								<rich:column style="text-align: center;">
									<h:outputText value="#{rst.datCadastro}"/>
								</rich:column>										
								<rich:column style="text-align: center;">
									<h:outputText value="CONTROLADA" rendered="#{rst.isnInternacaoDocTipo == 1}"/>
									<h:outputText value="LIVRE" rendered="#{rst.isnInternacaoDocTipo == 2}"/>
									<h:outputText value="DENGUE" rendered="#{rst.isnInternacaoDocTipo == 5}"/>
								</rich:column>										
								<rich:column style="text-align: left;">
									<h:outputText value="#{rst.dscTexto}" escape="false"/>
									<h:panelGroup rendered="#{rst.isnInternacaoDocTipo == 5}">
										Tipo: #{rst.dscParam3} | Peso: #{rst.dscPeso} Kg 
									</h:panelGroup>
								</rich:column>										
								<rich:column style="text-align: center;">
									<t:commandLink id="atendimento" action="#{internacaoDocTipoForm.relatorio}" target="blank" title="IMPRIMIR RECEITUÁRIO">
										<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;" />
										<f:setPropertyActionListener value="#{rst.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}" />							
										<f:setPropertyActionListener value="#{rst.isnInternacaoDoc}" target="#{internacaoDocTipoForm.isnInternacaoDoc}" />							
									</t:commandLink>
								</rich:column>										
								<rich:column style="text-align: center;">
									<a4j:commandButton image="/IMG/icone_alterar.gif" 
														style="border:white; width: 14px; height: 14px;" 
														title="ALTERAR" 
														action="#{internacaoDocTipoForm.preparaAlterar}" 
														reRender="panelReceituario, formularioReceituario" 
														oncomplete="validarDoc('#{internacaoDocTipoForm.codigoErro}','panelReceituario', 'fechar');" 
														>
										<f:setPropertyActionListener value="#{rst.isnInternacaoDoc}" target="#{internacaoDocTipoForm.isnInternacaoDoc}" />						
									</a4j:commandButton>
								</rich:column>										
										
								<f:facet name="footer">
									<rich:datascroller id="rolagem" ajaxSingle="false" />
								</f:facet>										
						</rich:dataTable>															
					</h:panelGrid>
					
					
				</h:panelGrid>
							        	
        		<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarReceituario}" reRender="tblReceituario" />
        	</rich:tab>
        	
        	<rich:tab label="ATESTADO / DECLARAÇÃO" id="atestado">
        	
				<h:panelGrid  width="100%">
					<h:panelGrid>
						<a4j:commandButton value="Novo Atestado" 
						                   action="#{internacaoDocTipoForm.abrirPanelAtestado}" 
										   oncomplete="validarDoc('#{internacaoDocTipoForm.codigoErro}','panelAtestado', 'fechar');" 
										   reRender="panelAtestado" >
						   <f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}"/>
						</a4j:commandButton>				    
						<br />       	
						<a4j:commandButton value="Nova Declaração Comparecimento?"
											action="#{assistenteSocialForm.inserirDeclaracaoMedica}" 
						                   onclick="if (!confirm('Deseja gravar uma declaração compareciemtno?')) return false" 
										    oncomplete="validar('#{assistenteSocialForm.mensagemAlerta}');carregarAtestadoJs();"
										    reRender="tblDeclaracao, formularioMedico:tblDeclaracao">
						   <f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{assistenteSocialForm.isnInternacao}"/>
						</a4j:commandButton>				           	
						<a4j:jsFunction action="#{emergenciaForm.carregarAtestado}" name="carregarAtestadoJs" reRender="tblDeclaracao, formularioMedico:tblDeclaracao"/>
					</h:panelGrid>
					
					<h:panelGrid width="100%" style="align: left;">
		        		<rich:dataTable id="tblAtestado"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.listaInternacaoDocAtestado}" 
										var="listAtestado"
										rows="5"
										style="width:100%;"
										reRender="rolagem">
										
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;width: 10%;" colspan="5">
											<h:outputText value="ATESTADO" />
										</rich:column>
										<rich:column style="text-align: center;width: 10%;" breakBefore="true">
											Data Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 10%;">
											Tipo
										</rich:column>
										<rich:column style="text-align: center;width: 70%;">
											Receituário
										</rich:column>
										<rich:column style="text-align: center;width: 70%;">
											Número de dias
										</rich:column>
										<rich:column style="text-align: center;width: 5%;">
										</rich:column>
									</rich:columnGroup>
								</f:facet>										

															
								<rich:column style="text-align: center;">
									<h:outputText value="#{listAtestado.datCadastro}"/>
								</rich:column>
								<rich:column style="text-align: center;">
									<h:outputText value="NÚMERO DE DIAS" rendered="#{listAtestado.isnInternacaoDocTipo == 3}"/>
									<h:outputText value="LIVRE" rendered="#{listAtestado.isnInternacaoDocTipo == 4}"/>
								</rich:column>										
								<rich:column style="text-align: left;">
									<h:outputText value="" rendered="#{listAtestado.isnInternacaoDocTipo == 3}"/>
									<h:outputText value="#{listAtestado.dscTexto}" escape="false" rendered="#{listAtestado.isnInternacaoDocTipo == 4}"/>
								</rich:column>									
								<rich:column style="text-align: center;">
									<h:outputText value="" rendered="#{listAtestado.isnInternacaoDocTipo == 4}"/>
									<h:outputText value="#{listAtestado.qtdDias}" rendered="#{listAtestado.isnInternacaoDocTipo == 3}"/>
								</rich:column>									
								<rich:column style="text-align: center;">
									<t:commandLink id="atendimento" action="#{internacaoDocTipoForm.relatorioAtestado}" target="_blank" title="IMPRIMIR ATESTADO">
										<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;" />
										<f:setPropertyActionListener value="#{listAtestado.isnInternacao}" target="#{internacaoDocTipoForm.isnInternacao}" />							
										<f:setPropertyActionListener value="#{listAtestado.isnInternacaoDoc}" target="#{internacaoDocTipoForm.isnInternacaoDoc}" />
										<f:setPropertyActionListener value="#{listAtestado.isnInternacaoDocTipo}" target="#{internacaoDocTipoForm.isnInternacaoDocTipo}" />								
									</t:commandLink>
								</rich:column>										
										
								<f:facet name="footer">
									<rich:datascroller id="rolagem" ajaxSingle="false" />
								</f:facet>										
						</rich:dataTable>	
						<br />														
		        		<rich:dataTable id="tblDeclaracao"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.listaDeclaracaoCompareciemtno}" 
										var="declacarao"
										style="width:100%;"
										reRender="rolagem">
										
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;" colspan="3">
											<h:outputText value="DECLARAÇÃO" />
										</rich:column>
										<rich:column style="text-align: center;width: 20%;" breakBefore="true">
											Data Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 70%;">
											Profissional
										</rich:column>
										<rich:column style="text-align: center;width: 10%;">
										</rich:column>
									</rich:columnGroup>	
								</f:facet>										

															
								<rich:column style="text-align: center;">
									<h:outputText value="#{declacarao.datCadastro}">
										<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" timeZone="GMT-3" />
									</h:outputText>
								</rich:column>										
								<rich:column style="text-align: left;">
									<h:outputText value="#{declacarao.usuarioBean.dscUsuario}" />
								</rich:column>
								<rich:column style="text-align: center;width: 10%;">
									<t:commandLink id="declaracaoMedicaId" action="#{assistenteSocialForm.relatorioDeclaracaoMedica}" target="_blank" title="IMPRIMIR DECLARAÇÃO">
										<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;" />
										<f:setPropertyActionListener value="#{declacarao.isnAsDeclaracao}" target="#{assistenteSocialForm.isnAsDeclaracao}" />							
									</t:commandLink>									
								</rich:column>																				
						</rich:dataTable>															
					</h:panelGrid>
				</h:panelGrid>	        	
        		<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarAtestado}" reRender="tblAtestado, tblDeclaracao, formularioMedico:tblDeclaracao" />
        	</rich:tab>
        	
        	<rich:tab label="EVOLUÇÃO" id="idAbaEvolucao">
        		<h:panelGrid  width="100%">
					<h:panelGrid columns="2">
						<a4j:commandButton value="Nova Evolução" 
						                   action="#{emergenciaForm.abrirPanelNovaEvolucao}" 
										   oncomplete="avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelEvolucao', true);" 
										   reRender="panelEvolucao" /> 
						
						<t:commandButton value="Imprimir Evolução" onclick="this.form.target='_blank'" action="#{emergenciaForm.relatorioEvolucaoPaciente}" >
							<f:setPropertyActionListener value="0" target="#{emergenciaForm.isnInternacaoEvolucao}" />							
						</t:commandButton>	
					</h:panelGrid>
					<h:panelGrid width="100%">
						<rich:dataTable id="tblEvolucao"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.listaEvolucao}" 
										var="rst" 
										rows="5"
										style="width:100%;"
										reRender="rolagemEvolucao">
										
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;width: 13%;">
											Data Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 20%;">
											Usuário Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 66%;">
											Evolução
										</rich:column>
										<rich:column style="text-align: center;width: 3%;">
										
										</rich:column>
										<rich:column style="text-align: center;width: 3%;">
										
										</rich:column>
									</rich:columnGroup>
								</f:facet>	
								
								<rich:column style="text-align: center;">
									<h:outputText value="#{rst.datCadastro}">
										<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" timeZone="GMT-3" />	
									</h:outputText>
								</rich:column>									
								<rich:column style="text-align: left;">
									<h:outputText value="#{rst.usuarioBean.dscUsuario}"/>
								</rich:column>
								<rich:column style="text-align: left;">
									<h:outputText value="#{rst.dscEvolucao}" escape="false"/>
								</rich:column>
								<rich:column style="text-align: center;">
									<a4j:commandButton image="/IMG/icone_alterar.gif" 
														style="border:white; width: 14px; height: 14px;" 
														title="ALTERAR" 
														action="#{emergenciaForm.preparaAlterarEvolucao}" 
														reRender="panelEvolucao" 
														rendered="false"
														oncomplete="avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelEvolucao', true);" 
														>
										<f:setPropertyActionListener value="#{rst.isnInternacaoEvolucao}" target="#{emergenciaForm.isnInternacaoEvolucao}" />							
									</a4j:commandButton>								
								</rich:column>	
								
								<rich:column width="3%">
									<center>
										<t:commandLink id="relatorioEvolucao" action="#{emergenciaForm.relatorioEvolucaoPaciente}" target="blank" title="IMPRIMIR ESTA EVOLUÇÃO">
											<h:graphicImage id="imgEvolucao" url="IMG/impressora.png" style="border:0;" />
											<f:setPropertyActionListener value="#{rst.isnInternacaoEvolucao}" target="#{emergenciaForm.isnInternacaoEvolucao}" />							
										</t:commandLink>
									</center>
								</rich:column>					
											
								<f:facet name="footer">
									<rich:datascroller id="rolagemEvolucao" ajaxSingle="false" />
								</f:facet>
						</rich:dataTable>				
					</h:panelGrid>        		
        		</h:panelGrid>
        		<a4j:support event="onlabelclick" action="#{emergenciaForm.carregaEvolucao}" reRender="tblEvolucao" />
        	</rich:tab>
        	<rich:tab label="HISTÓRICO" id="historico">
				<h:panelGrid  width="100%">
					<h:panelGrid width="100%" style="align: left;">
		        		<rich:dataTable id="tblHistorico"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.listaInternacaoAtendimento}" 
										var="rst" 
										rows="5"
										style="width:100%;"
										reRender="rolagem">
										
								<f:facet name="header">
									<rich:columnGroup>
									   <rich:column style="text-align: center;width: 15%;">
											Atendimento
										</rich:column>
										<rich:column style="text-align: center;width: 80%;">
											Profissional
										</rich:column>
										<rich:column style="text-align: center;width: 5%;">
										</rich:column>
									</rich:columnGroup>
								</f:facet>
								
								<rich:column style="text-align: center;">
									<h:outputText value="#{rst.internacao.datCadastro}" />
								</rich:column>
								<rich:column style="text-align: left;">
									<h:outputText value="#{rst.profissional.dscUsuario}" />
								</rich:column>
								<rich:column style="text-align: center;">
									<a4j:commandLink id="atendimento" action="#{emergenciaForm.validarRelatorioGeral}"
													   oncomplete="if (validarMsg('#{emergenciaForm.mensagem}')){ document.getElementById(this.id.substring(0, this.id.lastIndexOf(':')) + ':atendimentoBtn').click(); }">
										<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;" />											   
										<f:setPropertyActionListener value="#{rst.internacao.isnInternacao}" target="#{emergenciaForm.isnInternacao}" />
									</a4j:commandLink>				           										
								
									<t:commandLink id="atendimentoBtn" action="#{emergenciaForm.relatorioGeral}" style="display:none;" target="_blank" title="IMPRIMIR"/>
								</rich:column>										
										
								<f:facet name="footer">
									<rich:datascroller id="rolagem" ajaxSingle="false" />
								</f:facet>										
						</rich:dataTable>															
					</h:panelGrid>					
				</h:panelGrid>	 
				<a4j:support event="onlabelclick" action="#{emergenciaForm.preencherListaHistorico}" reRender="tblHistorico" />       	
        	</rich:tab>
        	<rich:tab label="TRANSFERÊNCIA" id="transferencia" rendered="#{!emergenciaForm.origemTelaRecpcao}">
				<h:panelGrid  width="100%">
					<h:panelGrid width="100%" style="align: left;">
						<a4j:commandButton value="Nova Transferência" 
						                   action="#{internacaoTransForm.preparaPesquisar}"
						                   styleClass="botaoModal"
						                   oncomplete="validar('#{internacaoTransForm.mensagem}');">
						    <f:setPropertyActionListener value="#{emergenciaForm.paciente.isnPaciente}" target="#{internacaoTransForm.isnPaciente}" />
						    <f:setPropertyActionListener value="#{emergenciaForm.paciente.isnInternacao}" target="#{internacaoTransForm.pacienteAtendimento.isnInternacao}" />
						    <f:setPropertyActionListener value="#{true}" target="#{internacaoTransForm.origemTelaAtendimentoMedico}" />
					   </a4j:commandButton>  
					</h:panelGrid>
					<h:panelGrid width="100%">
						<rich:dataTable id="tblTransferencias"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.listaTransferencia}" 
										var="transf" 
										rows="5"
										style="width:100%;"
										reRender="rolagemTransf">
										
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;width: 20%;">
											Data Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 25%;">
											Usuário Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 50%;">
											Referência
										</rich:column>
										<rich:column style="text-align: center;">
										</rich:column>
									</rich:columnGroup>
								</f:facet>											
										
								<rich:column style="text-align: center;">
									<h:outputText value="#{transf.datTrans}"/>
								</rich:column>									
								<rich:column style="text-align: left;">
									<h:outputText value="#{transf.usuario.dscUsuario}"/>
								</rich:column>
								<rich:column style="text-align: left;">
									<h:outputText value="#{transf.dscReferencia}" />
								</rich:column>
								<rich:column style="text-align: center;">
									<center>
										<a4j:commandLink style="border:white; width: 12px; height: 12px;" title="IMPRIMIR INTERNAÇÃO TRANSFERÊNCIA" action="#{internacaoTransForm.verificaRelatorio}" oncomplete="abrirRelatorioTransf(#{transf.isnInternacao});">
											<h:graphicImage id="imgTransf" url="IMG/impressora.png" style="border:0;" />
											<f:setPropertyActionListener value="#{transf.isnInternacao}" target="#{internacaoTransForm.isnInternacao}" />
										</a4j:commandLink>
									</center>							
								</rich:column>								
											
								<f:facet name="footer">
									<rich:datascroller id="rolagemTransf" ajaxSingle="false" />
								</f:facet>										
										
						</rich:dataTable>										
					</h:panelGrid>					
				</h:panelGrid>
				<a4j:support event="onlabelclick" action="#{emergenciaForm.preencherListaTransferencia}" reRender="tblTransferencias" />       		        	
        	</rich:tab>
        	        	
        	<rich:tab label="HISTÓRICO GERAL" id="historicoGeral" >
        	
        		<a4j:support event="onlabelclick" oncomplete="#{rich:element('buttonCarregarInternacoes')}.click()" ajaxSingle="true"/> 
        	
        		<a4j:commandButton id="buttonCarregarInternacoes" 
        					       style="display:none"
								   action="#{emergenciaForm.carregarHistoricoGeral}"							
								   reRender="dtHistoricoGeral">									   								
				</a4j:commandButton>
					
        		<h:panelGrid width="100%">
        			<rich:dataTable id="dtHistoricoGeral"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
				           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{emergenciaForm.listaInternacoes}" 
								var="internacao" 
								rows="15" 
								style="width:100%;">
					
					<f:facet name="header">
						<rich:columnGroup>
							<h:column>
								<h:outputText>Internações</h:outputText>
							</h:column>
						</rich:columnGroup>
					</f:facet>
					
					<rich:columnGroup onRowMouseOver="this.style.backgroundColor='#f1f1f1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
						<rich:column style="background:#CCCCCC; text-align:left">
											
							<div style="float: left">
								
								<a4j:commandButton id="exibirDetalhes"
											   	   image="IMG/expand.gif"											                   
											       oncomplete="expandItens(this, 'panelDetalhes');">						
								</a4j:commandButton>
							
								<rich:spacer width="10"/>
								Internação:
								<strong>
									<h:outputText value="#{internacao.isnInternacao}" />
		          				</strong>
		          				Data Cadastro:
								<strong>
									<h:outputText value="#{internacao.datCadastro}" >
										<f:convertDateTime pattern="dd/MM/yyyy - " />
									</h:outputText>
									<h:outputText value="#{internacao.horChegada}" />
		          				</strong>			         				
	         				</div>
	         				
	         				<rich:panel id="panelDetalhes" style="display:none;background:#CCCCCC;" >
	         				
	         				<!-- Atendimentos -->						
							<rich:dataTable id="subAtendimentos" 
										    var="atendimento" 
										    value="#{emergenciaForm.listaAtendimentos}" 
										    style="width:100%"										     
										    onRowMouseOver="this.style.backgroundColor='#f1f1f1'" 
										    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
										    
								<f:facet id="subAtendimentosHeader" name="header">
									<rich:columnGroup >
										<rich:column align="center" width="3%">
										
											<a4j:commandButton id="buttonPageAtendimentos"
											                   image="IMG/collapse.gif"
											                   style="display:none" 
															   oncomplete="expandItens(this, 'tb');">						
											</a4j:commandButton>													
											<a4j:commandButton id="buttonBeanAtendimentos"
											                   image="IMG/expand.gif"											                    
															   action="#{emergenciaForm.carregarAtendimentosHistoricoGeral}"
															   oncomplete="#{rich:element('buttonBeanAtendimentos')}.style.display = 'none';#{rich:element('buttonPageAtendimentos')}.style.display = 'block'"
															   reRender="subAtendimentos" >											
												   <f:setPropertyActionListener value="#{internacao}" target="#{emergenciaForm.internacaoSelecionada}" />
											</a4j:commandButton>												 
											
										</rich:column>
										<h:column>											
											<h:outputText>HDA - Atendimentos</h:outputText>
										</h:column>
									</rich:columnGroup>
								</f:facet>
																
								<rich:columnGroup>									
									<rich:column align="center" width="3%"/>						
									
									<rich:column style="text-align: left;background:#EEEEEE;">
										HDA: 
										<strong>	
											<h:outputText value="#{atendimento.dscAtendimento}" />
										</strong>																			
									</rich:column>								
								</rich:columnGroup>			
							</rich:dataTable>
							<!-- Fim Atendimentos -->
	         				
	         				<!-- Exames -->						
							<rich:dataTable id="subExames" 
										    var="exame" 
										    value="#{emergenciaForm.listaExames}" 
										    style="width:100%"										     
										    onRowMouseOver="this.style.backgroundColor='#f1f1f1'" 
										    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
										    
								<f:facet id="subExamesHeader" name="header">
									<rich:columnGroup id="columGroupHeader">
										<rich:column align="center" width="3%">
										
											<a4j:commandButton id="buttonPageExames"
											                   image="IMG/collapse.gif"
											                   style="display:none" 
															   oncomplete="expandItens(this, 'tb');">						
											</a4j:commandButton>													
											<a4j:commandButton id="buttonBeanExames"
											                   image="IMG/expand.gif"											                    
															   action="#{emergenciaForm.carregarExamesHistoricoGeral}"
															   oncomplete="#{rich:element('buttonBeanExames')}.style.display = 'none';#{rich:element('buttonPageExames')}.style.display = 'block'"
															   reRender="subExames" >											
												   <f:setPropertyActionListener value="#{internacao}" target="#{emergenciaForm.internacaoSelecionada}" />
											</a4j:commandButton>												 
											
										</rich:column>
										<h:column>											
											<h:outputText>Exames</h:outputText>
										</h:column>
									</rich:columnGroup>
								</f:facet>
																
								<rich:columnGroup>									
									<rich:column align="center" width="3%"/>							
									<!-- colspan="2" melhor n usar -->
									<rich:column style="text-align: left;background:#EEEEEE;">
										Nome: 
										<strong>	
											<h:outputText value="#{exame.examePepBean.dscExame}" />
										</strong>											
										Data Solicitação:
										<strong>
											<h:outputText value="#{exame.datSolicitacao}" />
		          						</strong>	
		          						Data Realização:
										<strong>
											<h:outputText value="#{exame.datRealizacao != null ? exame.datRealizacao : 'Não realizado'}" />
		          						</strong>		
		          						Resultado:
										<strong>
									   		<a4j:commandLink action="#{emergenciaForm.visualizarExame}" title="VISUALIZAR EXAME" rendered="#{exame.datRealizacao != null}" 
									   		oncomplete="if (#{emergenciaForm.erro}) { alert('Exame não disponível!')} else { window.open('#{emergenciaForm.urlReport}') } ">
									   			<h:outputText value="#{exame.isnExameSolicAux}"/><h:outputText  value="_"/><h:outputText  value="#{exame.examePepBean.dscMnemonico}"/>
									  			<f:setPropertyActionListener value="#{exame.isnExameSolicAux}" target="#{emergenciaForm.isnExameSolicAux}"/>
									  			<f:setPropertyActionListener value="#{exame}" target="#{emergenciaForm.exameSolicLaudo}"/>
									  			<f:setPropertyActionListener value="#{exame.examePepBean.dscMnemonicoSil}" target="#{emergenciaForm.dscMnemonicoSil}"/>					  								
									  		</a4j:commandLink>
		          						</strong>								
									</rich:column>								
								</rich:columnGroup>			
							</rich:dataTable>
							<!-- Fim Exames -->
							
							<!-- Prescrições -->
							<rich:dataTable id="subPrescricoes"
								onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
				           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
								value="#{emergenciaForm.listaPrescricaoPep}" 
								var="listaPep" 
								rows="15" 
								style="width:100%;" 
								reRender="dsEixo">
					
							<f:facet name="header">
								<rich:columnGroup>
									<rich:column align="center" width="3%">
										
											<a4j:commandButton id="buttonPagePrescricoes"
											                   image="IMG/collapse.gif"
											                   style="display:none" 
															   oncomplete="expandItens(this, 'tb');">						
											</a4j:commandButton>													
											<a4j:commandButton id="buttonBeanPrescricoes"
											                   image="IMG/expand.gif" 
															   action="#{emergenciaForm.carregarPrescricoesHistoricoGeral}"
															   oncomplete="#{rich:element('buttonBeanPrescricoes')}.style.display = 'none';#{rich:element('buttonPagePrescricoes')}.style.display = 'block'"
															   reRender="subPrescricoes" >											
												   <f:setPropertyActionListener value="#{internacao}" target="#{emergenciaForm.internacaoSelecionada}" />
											</a4j:commandButton>												 
											
									</rich:column>
									<h:column>
										<h:outputText>Prescrições</h:outputText>
									</h:column>
								</rich:columnGroup>
							</f:facet>
					
							<rich:columnGroup onRowMouseOver="this.style.backgroundColor='#f1f1f1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
								<rich:column align="center" width="0%"/>
								
								<rich:column style="background:#CCCCCC; text-align:left" width="100%">
									<div style="float: left">
										<h:graphicImage id="expandMostrar" value="IMG/expand.gif" onclick="expandItens(this,'subItens')"/>
													
										<rich:spacer width="10"/>
										De 
										<strong>
											<h:outputText value="#{listaPep.datCadastro}" >
				     		  					<f:convertDateTime pattern="dd/MM/yyyy" />
				          					</h:outputText>
				          				</strong>
				         				às 
				         				<strong>
				          					<h:outputText value="#{listaPep.datCadastro}" >
				     		  					<f:convertDateTime pattern="HH:mm" timeZone="GMT-3" />  
				          					</h:outputText>
				          				</strong>
				         				por 
				         			    <strong>
				         					 <h:outputText value="#{listaPep.usuario.dscUsuario}" />
				         				</strong>
	         						</div>         				
						
									<rich:dataTable id="subItens" var="subItem" 
												value="#{listaPep.listPrescricaoPepItem}" style="width:100%; display:none" onRowMouseOver="this.style.backgroundColor='#f1f1f1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
										<rich:column style="text-align: left;background:#EEEEEE;">
											<b><h:outputText value="#{subItem.dscPrescricao}" style="text-decoration:line-through;" rendered="#{subItem.isnTipoPrescricao != 43 and subItem.isnTipoPrescricao != 19 and null != subItem.isnPrescricaoPepIs}" /></b>
											<b><h:outputText value="#{subItem.dscPrescricao}" rendered="#{subItem.isnTipoPrescricao != 43 and subItem.isnTipoPrescricao != 19 and null == subItem.isnPrescricaoPepIs}" /></b>
									  		<h:outputText value="#{subItem.dscPrescricao}" style="text-transform: uppercase; font-size: 11px;" rendered="#{(subItem.isnTipoPrescricao == 43 or subItem.isnTipoPrescricao == 19) and subItem.isnPrescricaoPepIs == null}" escape="false"/>
									  		<h:outputText value="#{subItem.dscPrescricao}" style="text-decoration: line-through; text-transform: uppercase; font-size: 11px;" rendered="#{(subItem.isnTipoPrescricao == 43 or subItem.isnTipoPrescricao == 19) and subItem.isnPrescricaoPepIs != null}" escape="false"/>
										</rich:column>
									</rich:dataTable>
								</rich:column>
							</rich:columnGroup>
						</rich:dataTable> 
						<!-- Fim Prescrições -->
						
         				<!-- Atestado -->						
						<rich:dataTable id="subAtestados" 
									    var="atestado" 
									    value="#{emergenciaForm.listaDocAtestado}" 
									    style="width:100%"										     
									    onRowMouseOver="this.style.backgroundColor='#f1f1f1'" 
									    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
									    
							<f:facet id="subAtestadoHeader" name="header">
								<rich:columnGroup>
									<rich:column align="center" width="3%">
									
										<a4j:commandButton id="buttonPageAtestados"
										                   image="IMG/collapse.gif"
										                   style="display:none" 
														   oncomplete="expandItens(this, 'tb');">						
										</a4j:commandButton>													
										<a4j:commandButton id="buttonBeanAtestados"
										                   image="IMG/expand.gif"											                    
														   action="#{emergenciaForm.carregarAtestadoHistoricoGeral}"
														   oncomplete="#{rich:element('buttonBeanAtestados')}.style.display = 'none';#{rich:element('buttonPageAtestados')}.style.display = 'block'"
														   reRender="subAtestados" >											
											   <f:setPropertyActionListener value="#{internacao}" target="#{emergenciaForm.internacaoSelecionada}" />
										</a4j:commandButton>												 
										
									</rich:column>
									<h:column>											
										<h:outputText>Atestados</h:outputText>
									</h:column>
								</rich:columnGroup>
							</f:facet>
		
							<rich:columnGroup>									
								<rich:column align="center" width="3%"/>							
								<!-- colspan="2" melhor n usar -->
								<rich:column style="text-align: left;background:#EEEEEE;">
									Data de Cadastro: 
									<strong>	
										<h:outputText value="#{atestado.datCadastro} "/>
									</strong>											
									Tipo:
									<strong>
										<h:outputText value="NÚMERO DE DIAS " rendered="#{atestado.isnInternacaoDocTipo == 3}"/>
										<h:outputText value="LIVRE " rendered="#{atestado.isnInternacaoDocTipo == 4}"/>
	          						</strong>	
	          						<br/>
	          						<h:outputText value=" Nº de Dias" rendered="#{atestado.isnInternacaoDocTipo == 3}"/>
	          						<h:outputText value=" Receituário"  rendered="#{atestado.isnInternacaoDocTipo == 4}"/>
									<strong>
										<h:outputText value="#{atestado.qtdDias} " rendered="#{atestado.isnInternacaoDocTipo == 3}"/>
										<h:outputText value="#{atestado.dscTexto} "  rendered="#{atestado.isnInternacaoDocTipo == 4}" escape="false"/>
	          						</strong>								
								</rich:column>								
							</rich:columnGroup>			
						</rich:dataTable>
						<!-- Fim Atestado -->
						
						<!-- Receituário -->						
						<rich:dataTable id="subReceituarios" 
									    var="receituario" 
									    value="#{emergenciaForm.listaDocReceituario}" 
									    style="width:100%"										     
									    onRowMouseOver="this.style.backgroundColor='#f1f1f1'" 
									    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
									    
							<f:facet id="subReceituarioHeader" name="header">
								<rich:columnGroup>
									<rich:column align="center" width="3%">
									
										<a4j:commandButton id="buttonPageReceituarios"
										                   image="IMG/collapse.gif"
										                   style="display:none" 
														   oncomplete="expandItens(this, 'tb');">						
										</a4j:commandButton>													
										<a4j:commandButton id="buttonBeanReceituarios"
										                   image="IMG/expand.gif"											                    
														   action="#{emergenciaForm.carregarReceituarioHistoricoGeral}"
														   oncomplete="#{rich:element('buttonBeanReceituarios')}.style.display = 'none';#{rich:element('buttonPageReceituarios')}.style.display = 'block'"
														   reRender="subReceituarios" >											
											   <f:setPropertyActionListener value="#{internacao}" target="#{emergenciaForm.internacaoSelecionada}" />
										</a4j:commandButton>												 
										
									</rich:column>
									<h:column>											
										<h:outputText>Receituários</h:outputText>
									</h:column>
								</rich:columnGroup>
							</f:facet>
		
							<rich:columnGroup>							
								<rich:column align="center" width="3%"/>							
								<!-- colspan="2" melhor n usar -->
								<rich:column style="text-align: left;background:#EEEEEE;">
									Data de Cadastro: 
									<strong>	
										<h:outputText value="#{receituario.datCadastro} "/>
									</strong>											
									Tipo:
									<strong>
										<h:outputText value="CONTROLADA " rendered="#{receituario.isnInternacaoDocTipo == 1}"/>
										<h:outputText value="LIVRE " rendered="#{receituario.isnInternacaoDocTipo == 2}"/>
	          						</strong>	
	          						<br/>
									Receituário:
									<strong>
										<h:outputText value="#{receituario.dscTexto}" escape="false"/>
	          						</strong>								
								</rich:column>								
							</rich:columnGroup>			
						</rich:dataTable>
						<!-- Fim Receituário -->
						
						</rich:panel>

						</rich:column>
					</rich:columnGroup>
				</rich:dataTable> 
				<!-- Fim Internações-->
				
        		</h:panelGrid>
        	</rich:tab>
        	<rich:tab label="ALERGIA" id="alergia">
				 <h:panelGrid  width="100%">
					<div style="text-align:center">
						<a4j:commandButton value="Indicar Alergia" 
						                   action="#{emergenciaForm.preparaInserirPacienteAlergia('S')}" 
										   oncomplete="Richfaces.showModalPanel('panelAlerta')"
										   reRender="formModalAlergia">
						</a4j:commandButton>				           	
					</div>
					
					<h:panelGrid width="100%">
		        		<rich:dataTable id="tblAlergia"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										value="#{emergenciaForm.lstPacienteAlergia}" 
										var="rst" 
										rows="5"
										style="width:100%;"
										reRender="rolagem">
										
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column style="text-align: center;width: 10%;">
											Data Cadastro
										</rich:column>
										<rich:column style="text-align: center;width: 50%;">
											Alergia
										</rich:column>
										<rich:column style="text-align: center;width: 40%;">
											Profissional
										</rich:column>
									</rich:columnGroup>
								</f:facet>										

								<rich:column style="text-align: center;">
									<h:outputText value="#{rst.datCadastro}">
										<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
									</h:outputText>
								</rich:column>
								<rich:column style="text-align: left;">
									<h:outputText value="#{rst.dscAlergia}"/>
								</rich:column>
								<rich:column style="text-align: center;">
								    <h:outputText value="#{rst.profissionalBean.dscUsuario}"/>
								</rich:column>																				
								<f:facet name="footer">
									<rich:datascroller id="rolagem" ajaxSingle="false" />
								</f:facet>										
						</rich:dataTable>															
					</h:panelGrid>
					
					
				</h:panelGrid>
							        	
        		<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarPacienteAlergia}" reRender="tblAlergia" />
				       	
        	</rich:tab>

        	<rich:tab label="PROTOCOLO SEPSE" id="sepse">

				<rich:tabPanel switchType="client">
					<rich:tab label="MÉDICA" id="tab0" name="tab0">
				
						 <h:panelGrid  width="100%">
							<div style="float: right;">
								<a4j:commandButton value="Adicionar Sepse"
												   action="#{emergenciaForm.prepararAbrirSepse}" rendered="#{isUsuarioLogadoOdonto or isUsuarioLogadoMedico}"
												   oncomplete="if (validarMsg('#{emergenciaForm.mensagem}')){ Richfaces.showModalPanel('panelInfeccao'); }"
												   reRender="panelInfeccao, formInfeccao">
								    <f:setPropertyActionListener value="#{true}" target="#{emergenciaForm.mostrarBotaoCancelamentoSepse}" />
								   											   
								</a4j:commandButton>				           	
							</div>
							
							<h:panelGrid width="100%">
				        		<rich:dataTable id="tblSepse"
												onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
								           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
												value="#{emergenciaForm.listProtocoloSepse}" 
												var="sepse"
												style="width:100%;"
												rows="5" 
												reRender="dsProtocoloSepse">
												
										<f:facet name="header">
											<rich:columnGroup>
												<rich:column style="text-align: center;width: 5%;">
													Suspeita de Infecção
												</rich:column>
												<rich:column style="text-align: center;width: 20%;">
													Paciente com sinais de alerta para Infecção!
												</rich:column>
												<rich:column style="text-align: center;width: 10%;">
													Paciente apresenta sinais de disfunção orgânica ou choque séptico?
												</rich:column>
												<rich:column style="text-align: center;width: 5%;">
													Data/Hora abertura
												</rich:column>
												<rich:column style="text-align: center;width: 10%;">
													Profissional
												</rich:column>
												<rich:column style="text-align: center;width: 45%;">
													Abertura do Protocolo SEPSE
												</rich:column>
												<rich:column style="text-align: center;width: 5%;">
													Ações
												</rich:column>
											</rich:columnGroup>
										</f:facet>										
										<rich:column style="text-align: left;">
									        <h:outputText value="Sim" rendered="#{sepse.suspeitaInfeccao == true}"/>
									        <h:outputText value="Não" rendered="#{sepse.suspeitaInfeccao == false}"/>
										</rich:column>
										<rich:column style="text-align: left;">
											<a4j:outputPanel rendered="#{sepse.suspeitaInfeccao == true}">
												<h:outputText value="Infecção Respiratória" rendered="#{sepse.codTela1 == 1}" style="font-size: 11px;"/>
								        		<h:outputText value="Infecção Urinária" rendered="#{sepse.codTela1 == 2}" style="font-size: 11px;"/>
								        		<h:outputText value="Infecção Abdominal Aguda" rendered="#{sepse.codTela1 == 3}" style="font-size: 11px;"/>
								        		<h:outputText value="Infecção de Pele e Partes Moles" rendered="#{sepse.codTela1 == 4}" style="font-size: 11px;"/>
								        		<h:outputText value="S/ foco Definido" rendered="#{sepse.codTela1 == 5}" style="font-size: 11px;"/>
								        		<h:outputText value="Não tem história sugestiva de infecção" rendered="#{sepse.codTela1 == 6}" style="font-size: 11px;"/>
								        		<h:outputText value="Infecção do Sistema Nervoso Central (SNC)" rendered="#{sepse.codTela1 == 7}" style="font-size: 11px;"/>
								        		<strong><h:outputText value="OUTROS:" rendered="#{sepse.codTela1 == 8}" style="font-size: 11px;"/></strong>
								        		<h:outputText value="#{sepse.outrosSinaisAlerta}" rendered="#{sepse.codTela1 == 8}" style="font-size: 11px;"/>
							        		</a4j:outputPanel>					        		
										</rich:column>
										<rich:column style="text-align: left;">
											<a4j:outputPanel>
												<h:outputText value="#{sepse.strProtocoloSepseSinaisResp}" escape="false" style="font-size: 11px;"/>
											</a4j:outputPanel>
										</rich:column>
										<rich:column>									
											<h:outputText value="#{sepse.datCadastro}" >
												<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT-3" />
											</h:outputText> 
										</rich:column>
										<rich:column>									
											<h:outputText value="#{sepse.profissional.dscUsuario}" />
										</rich:column>
										<rich:column style="text-align: left;">
										    <h:outputText style="margin-left:5px; font-size:11px; font-weight: bold;" value="PA:"/>
										    <h:outputText style="margin-left:5px; font-size:11px;" value="#{sepse.dscPa} X #{sepse.dscPaFinal} mmHg" rendered="#{not empty sepse.dscPa}"/>
										    <h:outputText style="margin-left:5px; font-size:11px; font-weight: bold;" value="Peso:"/>
										    <h:outputText style="margin-left:5px; font-size:11px;" value="#{sepse.peso}"/>
										    <h:outputText style="margin-left:5px; font-size:11px; font-weight: bold;" value="Volume:"/>
										    <h:outputText style="margin-left:5px; font-size:11px;" value="#{sepse.volume}"/>
										    <h:outputText style="margin-left:2px; font-size:11px; font-weight: bold;" value="ml"/>
											<div style="clear:both"/>										    
										    <h:outputText style="margin-left:5px; font-size:11px; font-weight: bold;" value="Sepse Grave: "/>
										    <h:outputText style="font-size:11px;" value=" Sim" rendered="#{sepse.flgSepseGrave}"/>
										    <h:outputText style="font-size:11px;" value=" Não" rendered="#{!sepse.flgSepseGrave}"/>
										    <h:outputText style="margin-left:5px; font-size:11px; font-weight: bold;" value=" | Choque Séptico: "/>
										    <h:outputText style="font-size:11px;" value=" Sim" rendered="#{sepse.flgChoqueSeptico}"/>
										    <h:outputText style="font-size:11px;" value=" Não" rendered="#{!sepse.flgChoqueSeptico}"/>
										    										    											    
											<div style="clear:both"/>
										    <h:outputText style="margin-left:5px; font-size:11px; font-weight: bold;" value="Exames:"/>
				    						<div style="height: 140px; overflow:scroll;overflow-y:scroll;overflow-x:hidden;">
												<rich:dataTable id="tblExamesSepse"
													value="#{sepse.exames}"
													rendered="#{not empty sepse.exames}"
													var="emergenciaExame" 
													rowKeyVar="linha" 
													style="width:98%;">
										
													<f:facet name="header">
														<rich:columnGroup>									
															<rich:column style="text-align: center;width: 10%">
																Solicitação
															</rich:column>
															<rich:column style="text-align: center;width: 15%">
																Data
															</rich:column>
															<rich:column style="text-align: center;width: 40%">
																Exame
															</rich:column>
															<rich:column style="text-align: center;width: 15%">Situação</rich:column>									
															<!--<rich:column style="text-align: center;width: 5%">Imprimir Laudo</rich:column>-->
														</rich:columnGroup>
													</f:facet>
													
													<rich:columnGroup>
														<rich:column style="text-align: center;">
															<h:outputText value="#{emergenciaExame.isnExameSolicAux}"/>
														</rich:column>
														
														<rich:column style="text-align: center;">
															<h:outputText value="#{emergenciaExame.datCadastro}" converter="ConversorDeDataHora"/>
														</rich:column>
																		
														<rich:column style="text-align: left;">
														  <h:outputText  value="#{emergenciaExame.examePepBean.dscExame}"/> <h:outputText  value=" #{emergenciaExame.dscExameCompl}" rendered="#{emergenciaExame.dscExameCompl != null and not empty emergenciaExame.dscExameCompl}"/>
														</rich:column>				
						
														<rich:column style="text-align: center;">
															<h:outputText  value="#{emergenciaExame.exameSituacaoPepBean.dscExameSituacao}"/>
														</rich:column>	
													</rich:columnGroup>					
												</rich:dataTable>	
											</div>						
										</rich:column>									
										<rich:column>									
											<h:panelGroup id="imprimirSepse">
												<t:commandLink id="imprimirAberturaSepseIndividual" action="#{emergenciaForm.imprimirAberturaSepseIndividual(sepse.isnProtocoloSepse)}" target="_blank" style="float: right;margin-right: 5px;">
													<f:setPropertyActionListener value="#{sepse.strProtocoloSepseSinaisResp}" target="#{emergenciaForm.strProtocoloSepseSinaisResp}" />								
													<h:graphicImage id="imgAtendimento" url="IMG/impressora.png" style="border:0;width:20px;height:20px;" title="IMPRIMIR FORMULÁRIO DE ABERTURA"/>
												</t:commandLink>
											</h:panelGroup>
										</rich:column>
										<f:facet name="footer">
											<rich:datascroller id="dsProtocoloSepse" ajaxSingle="false" />
										</f:facet>
								</rich:dataTable>															
							</h:panelGrid>
							
							
						</h:panelGrid>
					</rich:tab>   
					<rich:tab label="ENFERMAGEM" id="tab1" name="tab1">
						<h:panelGrid width="100%">
			        		<rich:dataTable id="tblProtocoloSepse"
											onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
							           		onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
											value="#{emergenciaForm.listProtocoloSepseEnfermagem}" 
											var="protocoloSepse"
											style="width:100%;">
											
									<f:facet name="header">
										<rich:columnGroup>
											<rich:column style="text-align: center;width: 20%;">
												Profissional
											</rich:column>
											<rich:column style="text-align: center;width: 20%;">
												ATB
											</rich:column>
											<rich:column style="text-align: center;width: 30%;">
												Reposição Volêmica
											</rich:column>
											<rich:column style="text-align: center;width: 10%;">
												Data de Cadastro
											</rich:column>
											<rich:column style="text-align: center;width: 20%;">
												Coleta de Exames
											</rich:column>
											<rich:column style="text-align: center;width: 20%;">
												Ação
											</rich:column>
										</rich:columnGroup>
									</f:facet>
									<rich:column style="text-align: left;">
								        <h:outputText value="#{protocoloSepse.profissionalEnfermagem.dscUsuario}"/>
									</rich:column>						
									<rich:column style="text-align: left;">
								        <h:outputText value="Hora: "/> <h:outputText value="#{protocoloSepse.horaAtb}"/>
									</rich:column>
									<rich:column style="text-align: left;">
										<h:panelGroup rendered="#{protocoloSepse.codVolumeReposicao == 1}">
											<h:outputText value="Volume não prescrito" />
										</h:panelGroup>
										<h:panelGroup rendered="#{protocoloSepse.codVolumeReposicao == 2 or (not empty protocoloSepse.volumeReposicao and not empty protocoloSepse.horaReposicao)}">
											<h:outputText value="Volume: "/>
											<h:outputText value="#{protocoloSepse.volumeReposicao}" />
											<h:outputText value=" ml -" rendered="#{not empty protocoloSepse.volumeReposicao}" />
											<h:outputText value=" Hora: " />
											<h:outputText value="#{protocoloSepse.horaReposicao}" />
										</h:panelGroup>
										<h:panelGroup  rendered="#{protocoloSepse.codVolumeReposicao == 3}">
					        				<h:outputText value="Reposição volêmica conforme prescrição médica" />
					        			</h:panelGroup>
									</rich:column>
									<rich:column style="text-align: left;">
								        <h:panelGroup rendered="#{not empty protocoloSepse.datCadastroEnfermagem}">
					        				<h:outputText value="#{protocoloSepse.datCadastroEnfermagem}">
					        					<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="America/Fortaleza" />
					        				</h:outputText>
					        			</h:panelGroup>
									</rich:column>
									<rich:column style="text-align: left;">
								        <h:outputText value="Hora: "/> <h:outputText value="#{protocoloSepse.horaColetaExame}"/>
									</rich:column>
									<rich:column style="text-align: center;">
										<a4j:commandButton value="Protocolo Sepse"
														   action="#{emergenciaForm.prepararAbrirProtocoloSepse}" rendered="#{isUsuarioLogadoEnfermeiro}"
														   oncomplete="if (validarMsg('#{emergenciaForm.mensagem}')){ Richfaces.showModalPanel('panelProtocoloSepse'); }"
														   reRender="formProtocoloSepse">
											<f:setPropertyActionListener value="#{protocoloSepse}" target="#{emergenciaForm.protocoloSepse}" />
										</a4j:commandButton>														
									</rich:column>									
							</rich:dataTable>															
						</h:panelGrid>					
						<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarProtocoloSepseEnfermagem}" reRender="tblProtocoloSepse" />
					</rich:tab>
				</rich:tabPanel>     	
        		<a4j:support event="onlabelclick" action="#{emergenciaForm.carregarProtocoloSepse}" reRender="tblSepse, tblProtocoloSepse, imprimirAberturaSepse" >
        		 <f:setPropertyActionListener target="#{emergenciaForm.isnInternacao}" value="#{paciente.isnInternacao}" />	
        		</a4j:support>
				       	
        	</rich:tab>
        	
    	</rich:tabPanel>
    	</div>
	</div> 
	<br />
	<div id="botoes" style="text-align: center">
		
  		<a4j:commandButton id="btnNovoAtendimento" 
					  	   styleClass="botaoModal100"
					  	   value="CONCLUIR ATENDIMENTO"
				  		   action="#{emergenciaForm.panelAutentica}"
					       oncomplete="this.disabled=false; avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelBaixa', false)"
					  	   style='margin-right: 20px'
					  	   rendered="#{emergenciaForm.usuarioMedico and emergenciaForm.origemTelaRecpcao}">
  		</a4j:commandButton>
  		
  		<!-- esse botao vem da cama  -->
  		<a4j:commandButton id="btnNovoAtendimento2" 
					  	   value="CONCLUIR ATENDIMENTO"
					  	   styleClass="botaoModal100"
				  		   action="#{emergenciaForm.panelAutenticaPrescricao}"
					       oncomplete="this.disabled=false; avisosValidacao(#{emergenciaForm.avisoValidacao}, 'panelAutorizarPrescricao',false)"
					  	   style='margin-right: 20px'
					  	   rendered="#{emergenciaForm.usuarioMedico and !emergenciaForm.origemTelaRecpcao}">
  		</a4j:commandButton>  		
  		
  	    <h:commandButton id="btnVoltar" 
				  	     value="VOLTAR"
				  	     styleClass="botaoModal100"
				  	     action="#{emergenciaForm.voltarAtendimento}" 
				  	     oncomplete="avisosValidacao(#{emergenciaForm.avisoValidacao})"
				  	     rendered="#{emergenciaForm.origemTelaRecpcao}">		  			
  		</h:commandButton>
  		
  	    <h:commandButton id="btnVoltar2" 
				  	     value="VOLTAR"
				  	     styleClass="botaoModal100"
				  	     action="#{emergenciaForm.voltarParaTelaOrigem}" 
				  	     oncomplete="avisosValidacao(#{emergenciaForm.avisoValidacao})"
				  	     rendered="#{!emergenciaForm.origemTelaRecpcao}">
  		</h:commandButton>
	</div>
	</div>
	<script>
	<!--
	function verificaTamanho(form, campo, tamMax, resposta)
	{
		var strLen;
		strLen = 0;
		if(campo.value.length > 0)
		{
			strLen = strLen + campo.value.length;
		}
		if (strLen == 1)
	   	{
		   	if(campo.value.substring(0,1) == " ")
			{
		       	campo.value = "";
				strLen = strLen - 1;
			}
	   	}
		if (strLen > tamMax)
		{
			campo.value = campo.value.substring(0,tamMax);
			strLen = strLen - 1;
			return;
		}
		if(resposta != null)
		{	
			if(document.forms[form].elements[resposta] != null)
			{
				document.forms[form].elements[resposta].value = (tamMax - strLen);
			}
			else
			{
				document.getElementById(resposta).innerHTML = '(' + (tamMax - strLen) + ' caracteres restantes)';
			}
		}
	}
	
	function validaProduto(msg) {
		var n = msg.search('sucesso!');
		if (msg != '') {
			if (n == -1) {
				alert(msg);
				return false;
			} else {
				alert(msg);
				return true;
			}
		} else {
			return true;
		}
	}

	function enter(e) {
		var keycode;
		if (window.event) {
			keycode = window.event.keyCode;
		} else {
			keycode = e.which;
		}
		if (keycode == 13) {
			alert('Não é possível utilizar a tecla Enter');
			return false;
		}
	}

	
	function formataNumero2(campo) {
		var valor = campo.value;
		campo.value = valor.replace(/[^0123456789,.]/g, '');
		campo.value = campo.value.replace(',', '.');
	}

	function validarNumero(campo){
		var cont = 0;
	    for(var j = 0; j < campo.value.length; j++){
	        if(campo.value.charAt(j) == "."){
	            cont++; 
	        }
	    }
	    
	    if (cont > 1){
			alert("Valor informado incorreto.");
			campo.value = '';
			campo.focus();
			return false;
		}
	}
	
	function printObjectsSelected(output, sgcomponent){
        output.innerHTML=sgcomponent.getSelectedItems().pluck('dscUnidade');
    }

    function printObjectsSelectedAps(output, sgcomponent){
        output.innerHTML=sgcomponent.getSelectedItems().pluck('dscApresentacao');
    }

    function focoProduto() {
		document.getElementById('formProduto:nmProduto').focus();
	}

	
	function validaPanelDengue(param1,param2){
		if(param1 == true){
			 #{rich:component('panelDengue')}.show();  
		}
		if(param2 == true){
			 #{rich:component('panelMenor12')}.show();
		}
	}
	
	function validaPanelChic(param1){
		if(param1 == true){
			 #{rich:component('panelChikungunya')}.show();  
		}
	}
	
	 function verExame(exame){
		 dicomtixIntegracao.baixarImagens('upamsj', '1234',exame);
	  }
	
	//abre e fecha detalhes do datatable
	function expandItens(obj,idItens) 
	{		
	    var detailsId = obj.id.substring(0, obj.id.lastIndexOf(':')) + ':' + idItens;
	    var details = document.getElementById(detailsId);
	    if (details.style.display == 'none') 
		{
	        details.style.display = 'block';
	        obj.src = 'IMG/collapse.gif';
	    } 
	    else 
		{
	        details.style.display = 'none';
	        obj.src = 'IMG/expand.gif';
	    }
	}	
	
	function avisosValidacao(erro) {
		if (erro == 1) {
		   	alert("EMERGES ToLife está inoperante. Notifique o(a) coordenador(a) da unidade.");
		}
	}

	function avisosValidacaoObs(erro) {
		if (erro == 1) {
			alert("O campo Observação é obrigatório.");
	    	return false;
		} else {
	    		Richfaces.showModalPanel('panelSenhaAnaliseFarm');	 	
		} 		    	
	}
	
	function avisosValidacaoFarm(erro, panel, show) {
		if (erro == 1) {
			alert("Usuário/Conselho e Senha/Assinatura inválidos.");
	    	return false;
		} else if (erro == 2) {
			alert("Usuário sem permissão para esta ação.");
	    	return false;
		} else if(erro == 3) {
			alert("Erro ao gravar no banco de dados. Contate o NTI.");
			return false;
		} else if(erro == 4) {
			alert("Análise cadastrada com sucesso!");
			Richfaces.hideModalPanel(panel);
    		Richfaces.hideModalPanel('panelObsFarm');
			return false;
		} else if(erro == 5) {
			alert("Observação cadastrada com sucesso!");
			Richfaces.hideModalPanel(panel);
    		Richfaces.hideModalPanel('panelObsFarm');
			return false;
		} else if(erro == 6) {
			alert("Somente o profissional que analisou a prescrição pode incluir novas observações!");
			return false;
		} else {
	    	if (show) {
	        	Richfaces.showModalPanel(panel);
	    	} else {
	    		Richfaces.hideModalPanel(panel);
	    		Richfaces.hideModalPanel('panelObsFarm');
	    	}	 	
		} 		    	
	}
	
	function avisosValidacao(erro, panel, show) {
		if (erro == 1) {
		   	alert("Selecione a classificação de risco do paciente.");
		   	return false;
		} else if (erro == 2) {
			alert("Classificação de risco selecionada e a mesma que a atual.");
		   	return false;
		} else if (erro == 3) {
			alert("Usuário/Conselho e/ou Senha/Assinatura inválidos.");					
	    	return false;
	    } else if (erro == 4) {
			alert("Para registrar nova classificação espere 1 minuto.");					
	    	return false;	
	    } else if (erro == 5) {
			alert("Usuário sem permisão para esta ação.");					
	    	return false;		
	    } else if (erro == 6) {
			alert("Selecione a Especialidade da emergência.");					
	    	return false;		
	    } else if (erro == 7) {
			alert("Campo 'Observações do atendimento' não pode ficar em branco.");					
	    	return false;				
	    } else if (erro == 8) {
			alert("Informe o motivo da alta.");					
	    	return false;			
	    } else if (erro == 9) {
			alert("Hospital destino não informado.");					
	    	return false;			
	    } else if (erro == 10) {
			alert("Informe o 'Destino Interno' a ser transferido.");					
	    	return false;			
		} else if (erro == 11) {
			alert("Erro ao gravar no banco de dados. Contate o NTI.");
	    	return false;	
		} else if (erro == 12) {
			alert("Selecione o Fluxgrama.");
	    	return false;	
	    } else if (erro == 13) {
			alert("Informe o discriminador.");
	    	return false;	
	    } else if (erro == 14) {
			alert("Selecione sim ou não para acidente.");
	    	return false;
	    } else if (erro == 15) {
			alert("Selecione sim ou não para agressão.");
	    	return false;
	    }else if(erro == 16){
	    	Richfaces.showModalPanel("panelPeso");
	    }else if(erro == 17){
	    	alert("Enfermeira precisa avaliar o risco do paciente.");
	    	return false;
	    }else if(erro == 18){
	    	//Richfaces.showModalPanel("panelAtendimento");
	    	//window.location = "#{request.contextPath}/cd_atendimentoMedico.jsf";
	    }else if(erro == 19){
	    	alert("Paciente em atendimento por outro profissional.");
	    	return false;
	     }else if(erro == 20){
	    	Richfaces.showModalPanel("panelRisco");
	     } else if(erro == 28){
				if(confirm('Deseja realmente dar alta para este paciente ?'))
				{
			    	Richfaces.showModalPanel("panelAutorizar");	
				}
	     } else if(erro == 21){
		    	Richfaces.showModalPanel("panelAutorizar");	
	     //}else if(erro == 23){
	      //    window.location = "http://192.168.253.29:8080/pep/exameSolicitacoesForm.jsf?codigoAcesso=1";	    	
		} else if (erro == 22){
			alert("Usuário sem permissão.");
	    	return false;
		} else if(erro == 23){
			alert("Aconteceu um erro inesperado. Por favor, entre em contato com o NTI.");
	    	return false;
		} else if(erro == 24){
			alert("O Campo 'Evolução' é obrigatório.");
	    	return false;
		} else if (erro == 25){
			alert("O Campo 'Evolução' é maior que o suportado no banco de dados. Por favor reduzir.");
	    	return false;
		} else if(erro == 26) {
			alert("O Campo 'Usuário/Conselho' é obrigatório.");
			return false;
		} else if(erro == 27) {
			alert("O Campo 'Senha/Assinatura' é obrigatório.");
			return false;
		} else if(erro == 29) {
			alert("O Paciente já foi atendido, por favor atualize sua página ou procure onde o paciente se encontra.");
			return false;
		} else if(erro == 30) {
			Richfaces.showModalPanel("panelAutorizarPrescricao");
		} else if(erro == 31) {	
			alert("O Campo 'HDA/Exame Físico' é obrigatório.");
			return false;
		} else if(erro == 32) {	
			alert("O Campo 'Hipótese Diagnóstico' é obrigatório.");
			return false;
		} else if(erro == 33) {	
			alert("A prescrição deve ter pelo menos um item incluso.");
			return false;
		} else if(erro == 34) {	
			alert("EMERGES ToLife está inoperante. Notifique o(a) coordenador(a) da unidade.");
			return false;
		} else if(erro == 35) {	
			alert("Paciente não possui atendimento em aberto, contatar NAC.");
			return false;
		} else if(erro == 36) {	
			alert("Selecione o tipo de acidente.");
			return false;
		} else if(erro == 37) {	
			alert("Selecione o tipo de acidente.");
			return false;
		} else if(erro == 38) {	
			alert("Selecione o tipo de agressão.");
			return false;
		} else if(erro == 39) {	
			alert("Paciente já atendido, portanto o mesmo não pode voltar para a recepção.");
			return false;
		} else if(erro == 40) {
			alert("Data do acidente não pode ser uma data futura.");
			return false;
		} else if(erro == 41) {
			alert("Não é permitido concluir o atendimento, pois existe(m) prescrição (ões) em aberto.");
			return false;
		} else {
	    	if (show) {
	        	Richfaces.showModalPanel(panel);
	    	} else {
	    		Richfaces.hideModalPanel(panel);
	    		if(panel == "panelSenha") Richfaces.hideModalPanel("panelPrescricaoEnfermagemItem");
	    	}	 	
		} 		    	
	}
	
	function chamaCarregarApz(indice){
		document.getElementById("formularioMedico:prescricaoPepi:"+indice+":btnCarregarApz").click();		
	}

	function chamaBotaoClick(indice, nome){
		document.getElementById("formularioMedico:prescricaoPepi:"+indice+":"+nome).click();		
	}

	function validar(msg)
	{
		if (msg != '')
		{
			alert(msg);
		}
	}	

	function validarMsg(msg)
	{
		if (msg != '')
		{
			if (msg == 'ATUALIZE'){
				alert('Já foi inserida uma evolução nesse horário. Atualize a página.');
				Richfaces.hideModalPanel('panelSenhaEvolucao');
				Richfaces.hideModalPanel('panelAcompSepse');
			}else{
				alert(msg);
				return false;
			}
		}
		return true;
	}	
	
	function  abrirRelatorio(msg)
	{		
		if(msg == 'OK')
		{
			Richfaces.hideModalPanel("panelAutorizar");
			window.location = "#{request.contextPath}/cs_emergencia.jsf";
		}
		if(msg == 'CAMA')
		{
			window.location = 'eixosEmergencia.jsf';
		}
	}

	function clickT()
	{
	var item = document.getElementById("formularioExame:dscCid10Id");
    item.focus();
	}
	
	function validarConfirmacao(msg)
	{
		if(msg != '')
		{
			alert(msg);			
			Richfaces.hideModalPanel("panelExame");
		}
	}
	
	function validarConfirmacaoSepse(msg)
	{
		if(msg != '')
		{
			alert(msg);			
			Richfaces.hideModalPanel("panelExameSepse");
			document.getElementById('formularioExameSepse:confirmarInserirExameSepse').disabled=true;
		}
	}
	
	function validarPacienteAlergia(codigoErro) {
		if(codigoErro == 1) {
			alert('As informações sobre alergia foram atualizadas!');
			Richfaces.hideModalPanel("panelAlerta");
		}
		if (codigoErro == 2) {
			alert('As informações sobre alergia foram atualizadas!');
			Richfaces.hideModalPanel("panelAlerta");
		}
		if (codigoErro == 3) {
			alert('Campo Alergia Obrigatório!');
		}
		if (codigoErro == 4) {
			alert('Usuário sem permissão!');
		}
		if(codigoErro==5){
			alert('Confirme alergia do Paciente!');
		}
	}
	
	
	
	function validarDoc(codigoErro, panel, abrirFechar)
	{
		if(codigoErro == 0)
		{
			alert('O Registro foi gravado com sucesso.');
			if(abrirFechar == 'abrir')
			{
				Richfaces.showModalPanel(panel);
				
			}
			else
			{
				Richfaces.hideModalPanel(panel);
			}
		}
		else if(codigoErro == 1)
		{
			alert('Este usuário não possui conselho!');
		}
		else if(codigoErro == 2)
		{
			alert('Este usuário possui conselho CRM!');
		}
		else if(codigoErro == 3)
		{
			alert('Usuário sem permissão.');
		}
		else if(codigoErro == 4)
		{
			alert('O Campo isnInternacao é obrigatório.');
		}
		else if(codigoErro == 5)
		{
			alert('É Necessário escolher o Tipo de Receituário.');
			Richfaces.showModalPanel(panel);
		}
		else if(codigoErro == 6)
		{
			alert('É Necessário preencher o receituário.');
			Richfaces.showModalPanel(panel);
		}
		else if(codigoErro == 7)
		{
			alert('O receituário ultrapassa a capacidade máxima coportada no nosso banco de dados. Por favor reduzir.');
			Richfaces.showModalPanel(panel);
		}
		else if(codigoErro == 8)
		{
			alert('Receituário Inválido.');
		}
		else if(codigoErro == 9)
		{
			alert('Receituário não existe no banco de dados.');
		}
		else if(codigoErro == 10)
		{
			alert('O Campo quantidade de dias é obrigatório.');
		}
		else if(codigoErro == 12)
		{
			alert('O Campo Peso é obrigatório.');
			Richfaces.showModalPanel(panel);
		}
		else if(codigoErro == 13)
		{
			alert('O Campo Tipo é obrigatório.');
			Richfaces.showModalPanel(panel);
		}
		else if(codigoErro == 97)
		{
			Richfaces.showModalPanel(panel);
		}
		else if(codigoErro == 98)
		{
			Richfaces.showModalPanel(panel);
			
		}
		else if(codigoErro == 99)
		{
			alert('Aconteceu um erro inesperado. Entre em contato com o administrador do sistema.');
		}
	}

    function abrirRelatorioTransf(isnInternacao)
    {		     
	 	window.open('cd_internacaoTrans.jsf?paramRel=relISGH_'+isnInternacao);
    }


    function validaPrescricaoEnfermagem(codigo){
		if(codigo == 1){
			alert("Usúario sem permissão.");
		}else if(codigo == 2){
			alert("Observação da prescrição é campo obrigatório!");
		}else{
			Richfaces.hideModalPanel("panelSenhaEnfermagem");
			Richfaces.hideModalPanel("panelPrescricaoEnfermagem");
			Richfaces.showModalPanel("panelPrescricaoEnfermagemItem");
		}			
	}
	
	
        var meses = new Array("Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez");
        function obterDataDeHoje() {
           data = new Date();           
		   document.getElementById("dataHoje").innerHTML = data.getDate() + " de " + 
           meses[data.getMonth()] + " de " + data.getFullYear();           
		}
        
        window.onbeforeunload = function (evt) 
        {
	     	if (typeof evt == 'undefined') 
	        {
	        	evt = window.event;
	        }
	        if (evt) 
	        {
	        	window.location = "#{request.contextPath}/template.jsf?descarregarTela=S";
	        }
        }

        function navegacao(tipo) {
		    if (tipo == 1) {
		    	window.location = "#{request.contextPath}/paginaPrincipal.jsf";
		    } else if (tipo == 2) {
		    	window.location = "#{request.contextPath}/cs_paciente.jsf";
		    } else if (tipo == 3) {
		    	window.location = "#{request.contextPath}/cs_referencia.jsf";
		    } else if (tipo == 4) {
		    	window.location = "#{request.contextPath}/movPaciente.jsf";
		    } else if (tipo == 5) {
		    	window.location = "#{request.contextPath}/cs_enfermaria.jsf";
		    } else if (tipo == 6) {
		    	window.location = "#{request.contextPath}/cs_leito.jsf";
		    } else if (tipo == 7) {
		    	window.location = "#{request.contextPath}/cs_clinica.jsf";
		    } else if (tipo == 8) {
		    	window.location = "#{request.contextPath}/cs_bloco.jsf";
		    } else if (tipo == 9) {
		    	window.location = "#{request.contextPath}/ajustesMovimentos.jsf";
	    	} else if (tipo == 10) {
	    		window.location = "#{request.contextPath}/cs_exame.jsf";		    			
	    	} else if (tipo == 11) {
	    		window.location = "#{request.contextPath}/cs_interconsulta.jsf";	    			
	    	} else if (tipo == 12) {
	    		window.location = "#{request.contextPath}/cs_internados.jsf";
	    	} else if (tipo == 13) {
	    		window.location = "#{request.contextPath}/cs_relatorioNac.jsf";
	    	} else if (tipo == 14) {
	    		window.location = "#{request.contextPath}/cs_chaveBolsa.jsf";
	    	} else if (tipo == 15) {
	    		window.location = "#{request.contextPath}/cs_emergencia.jsf";
	    	} else if (tipo == 16) {
	    		window.location = "#{request.contextPath}/eixosEmergencia.jsf";	
	    	} else if (tipo == 17) {
	    		window.location = "#{request.contextPath}/cs_InternadosPendentes.jsf";	
	    	} else if (tipo == 18) {
	    		window.location = "#{request.contextPath}/cs_censoHospitalar.jsf";	
	    	} else if (tipo == 19) {
	    		window.location = "#{request.contextPath}/cs_estatisticaEmergencia.jsf";	
	    	} else if (tipo == 20) {
	    		window.location = "#{request.contextPath}/cs_cid10.jsf";
	    	} else if (tipo == 21) {
	    		window.location = "#{request.contextPath}/cs_validaInternacao.jsf";
		    } else if (tipo == 22) {
	    		window.location = "#{request.contextPath}/cs_ocupacao.jsf";
		    } else if (tipo == 23) {
	    		window.location = "#{request.contextPath}/cs_internacoesValidadas.jsf";
		    } else if (tipo == 30) {
	    		window.location = "#{request.contextPath}/cd_migrarEscala.jsf";
		    } else if (tipo == 24) {
		    	window.location = "#{request.contextPath}/cd_escala.jsf";
		    } else if (tipo == 25) {
		    	window.location = "#{request.contextPath}/cd_marcacao.jsf";
		    } else if (tipo == 26) {
		    	window.location = "#{request.contextPath}/cd_geracaoEscala.jsf";
		    } else if (tipo == 27) {
		    	window.location = "#{request.contextPath}/cs_agendamentoAmbulatorial.jsf";
		   } else if (tipo == 31) {
    		    window.location = "#{request.contextPath}/cs_indicadores.jsf";
	       } else if (tipo == 32) {
    		    window.location = "#{request.contextPath}/cs_pacienteAtendimento.jsf";
	       } else if (tipo == 33) {
    		    window.location = "#{request.contextPath}/cs_laboratorio.jsf";
	       } else if (tipo == 34) {
    		    window.location = "#{request.contextPath}/cs_farmacia.jsf";
	       } else if (tipo == 35) {
   		    	window.location = "#{request.contextPath}/cs_exame_detalhado.jsf";
	       } else if (tipo == 36) {
   		    	window.location = "#{request.contextPath}/cs_assistenteSocial.jsf";
	       } else if (tipo == 99){
	       		window.alert("Usuário sem permissão")
	       }
	       	 
	    }

        function checkAll( inputId, state ){
    		var idNew = inputId.substr(0, inputId.lastIndexOf(':'));
    		var idtab = idNew;
    		var elemetos = document.getElementById(idtab);
    		var inputs = elemetos.getElementsByTagName('input');  
    		for (var i = 0; i <= inputs.length; i++){
    			var input = inputs[i];
    			if (input != undefined) {
    				if(input.getAttribute('type') == 'checkbox' && state){
    					input.checked=true;  
              		}else{
              			input.checked=false;
              		}
            	}
          	}
        }
        
        function confirmarInserirExame (pedidoBloqueado) {
        	
        	if (pedidoBloqueado == 1) {
        		var r = confirm("Existem exames pendentes de autorização. Deseja confirmar a solicitação destes exames?");
            	if (r == true) {
            		var item = document.getElementById("formularioExame:inserir");
    			    item.click();
            	}
        	}
        	else {
        		var item = document.getElementById("formularioExame:inserir");
			    item.click();
        	}
        	
        }
		
        function confirmarInserirExameSepse(pedidoBloqueado) {
        	
        	if (pedidoBloqueado == 1) {
        		var r = confirm("Existem exames pendentes de autorização. Deseja confirmar a solicitação destes exames?");
            	if (r == true) {
            		var item = document.getElementById("formularioExameSepse:inserirSepse");
    			    item.click();
            	}
        	}
        	else {
        		var item = document.getElementById("formularioExameSepse:inserirSepse");
			    item.click();
        	}
        	
        }
        
    //-->
	</script>
	
	<a4j:status id="statusPanel"
		   onstart="Richfaces.showModalPanel('panelStatus');" 
		    onstop="#{rich:component('panelStatus')}.hide()">
	</a4j:status>
	
	
</h:form>
	<br></br>
	<!-- RODAPÉ -->
	<div  style="z-index:-1;">
	    <div style="margin-left: auto; margin-right: auto; width: 810px;">
	    	<div style="float: left; padding-right: 10px; width: 136px;">
	        	<img src="IMG/brasao.gif" alt="" style="vertical-align: middle;" />
	    	</div>
			
			<div style="float: left; font-size:x-small;padding-top: 5px; width: 460px;">	
				<center>
				<h:outputText value="#{templateForm.descricaoGestao.vlrParametro}" /> 					     
				<!--  
				Governo do Ceará - Secretaria de Saúde<br />
				-->
				Desenvolvido por Instituto de Saúde e Gestão Hospitalar &copy; 2011 <br /> Contato: nti@isgh.org.br
				</center> 
			</div>	
			
			<div style="float: right; padding-left:  10px;padding-top: 5px; width: 100px;">
	        	<img src="IMG/LogotipoISGH.gif" alt="Logotipo" style="vertical-align: middle;" />
	    	</div>
		</div>		
	</div>	
	
	<script type="text/javascript" src="SCRIPTS/sessaounica.js"></script>
</body>
</html>